import{r,j as e}from"./index-CEU4D7Wc.js";import{C as k}from"./ContentPageLayout-h1tGEIyG.js";const p=()=>{const[t,o]=r.useState("idle"),[b,d]=r.useState("..."),[a,i]=r.useState(null),[s,c]=r.useState(null),[l,g]=r.useState(null),u=r.useRef(null),x=r.useCallback(()=>{o("idle"),d("..."),i(null),c(null),document.body.style.overflow="auto",l!==null&&clearTimeout(l)},[l]),f=r.useCallback(()=>{if(t!=="idle"){x();return}o("waiting"),d("Waiting..."),i(null),c(null),u.current!==null&&u.current.scrollIntoView({behavior:"smooth",block:"center"}),document.body.style.overflow="hidden";const n=Math.floor(Math.random()*8e3)+2e3,h=setTimeout(()=>{d("Go!!!!!!!"),o("active")},n);g(h)},[t,x]),m=r.useCallback(n=>{t==="idle"||t==="finished"||(t==="waiting"?(c(n),i(n===1?2:1),o("finished"),document.body.style.overflow="auto",l!==null&&clearTimeout(l)):t==="active"&&(i(n),o("finished"),document.body.style.overflow="auto"))},[t,l]);r.useEffect(()=>()=>{l!==null&&clearTimeout(l),document.body.style.overflow="auto"},[l]);const y=e.jsx("svg",{children:e.jsxs("symbol",{id:"dva-svg-src",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"3",fill:"none"}),e.jsx("line",{x1:"20",y1:"50",x2:"80",y2:"50",stroke:"currentColor",strokeWidth:"3"}),e.jsx("line",{x1:"50",y1:"20",x2:"50",y2:"80",stroke:"currentColor",strokeWidth:"3"})]})});return e.jsx(k,{title:"動体視力勝負",svgSymbols:y,children:e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsx("p",{children:"動体視力勝負です。"}),e.jsx("h2",{className:"mt-8 text-2xl font-bold",children:"ルール"}),e.jsx("p",{className:"text-lg",children:"下の「開始」をクリックすると始まります。画面中央の「白色」が「黒色」になった瞬間にそれぞれの場所をクリックしてください。早いほうが勝ちです。フライングは負けになります。"}),e.jsxs("div",{className:"mt-10 flex flex-col items-center",children:[e.jsx("button",{onClick:f,className:"rounded-lg bg-blue-600 px-8 py-4 text-xl font-bold text-white shadow-lg transition-colors hover:bg-blue-700 focus:outline-none dark:bg-blue-700 dark:hover:bg-blue-600",children:t==="idle"?"開始":"リセット"}),e.jsxs("div",{ref:u,className:`mt-10 flex w-full flex-col items-stretch sm:flex-row sm:justify-center ${t==="idle"?"opacity-70":"opacity-100"}`,children:[e.jsxs("div",{className:`flex-1 cursor-pointer border border-gray-300 bg-blue-100 p-8 text-center font-medium transition-colors dark:border-gray-700 dark:bg-blue-900/30 ${a===1&&s===null?"bg-green-200 dark:bg-green-900/50":""} ${s===1?"bg-red-200 dark:bg-red-900/50":""} `,onClick:()=>m(1),children:["player 1",s===1&&e.jsx("div",{className:"mt-2 text-red-600 dark:text-red-400",children:"フライング!"})]}),e.jsx("div",{className:`flex items-center justify-center border-t border-b border-gray-300 p-4 font-mono text-lg transition-colors dark:border-gray-700 ${t==="active"?"bg-gray-900 text-white dark:bg-white dark:text-gray-900":"bg-white text-gray-900 dark:bg-gray-900 dark:text-white"} `,children:b}),e.jsxs("div",{className:`flex-1 cursor-pointer border border-gray-300 bg-red-100 p-8 text-center font-medium transition-colors dark:border-gray-700 dark:bg-red-900/30 ${a===2&&s===null?"bg-green-200 dark:bg-green-900/50":""} ${s===2?"bg-red-200 dark:bg-red-900/50":""} `,onClick:()=>m(2),children:["player 2",s===2&&e.jsx("div",{className:"mt-2 text-red-600 dark:text-red-400",children:"フライング!"})]})]}),t==="finished"&&e.jsx("div",{className:"mt-4 text-center",children:s!==null?e.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Player ",s," フライング! Player ",a," の勝ち!"]}):e.jsxs("p",{className:"text-green-600 dark:text-green-400",children:["Player ",a," の勝ち!"]})})]})]})})};export{p as default};
//# sourceMappingURL=DVA-wyGIyRJc.js.map
