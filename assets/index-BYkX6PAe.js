const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DtesBsoQ.js","assets/ScrollTrigger-C5ENsPk9.js","assets/BulletinBoard-BqH5HK6j.js","assets/arrow-left-DKPWIvsU.js","assets/user-Ayc6N0bg.js","assets/clock-CDKCew_s.js","assets/Magazine-fJEurSnw.js","assets/Magazine-w4lvcSFR.css","assets/CMSSelection-In3anzon.js","assets/AdminLogin-Dq5rrToZ.js","assets/ContentsRoutes-zdUTLqqO.js","assets/NotFound-Ba1SBuJg.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function iE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function fF(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var o=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return i[n]}})}),t}var op={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function xk(){if(X1)return zl;X1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var c in o)c!=="key"&&(l[c]=o[c])}else l=o;return o=l.ref,{$$typeof:i,type:n,key:u,ref:o!==void 0?o:null,props:l}}return zl.Fragment=e,zl.jsx=t,zl.jsxs=t,zl}var Q1;function Rk(){return Q1||(Q1=1,op.exports=xk()),op.exports}var Y=Rk(),ap={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function Ak(){if(Z1)return Te;Z1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),p=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function S(O,N,F){this.props=O,this.context=N,this.refs=C,this.updater=F||w}S.prototype.isReactComponent={},S.prototype.setState=function(O,N){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,N,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function b(){}b.prototype=S.prototype;function y(O,N,F){this.props=O,this.context=N,this.refs=C,this.updater=F||w}var m=y.prototype=new b;m.constructor=y,T(m,S.prototype),m.isPureReactComponent=!0;var x=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function k(O,N,F,X,re,he){return F=he.ref,{$$typeof:i,type:O,key:N,ref:F!==void 0?F:null,props:he}}function R(O,N){return k(O.type,N,void 0,void 0,void 0,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function U(O){var N={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(F){return N[F]})}var z=/\/+/g;function W(O,N){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):N.toString(36)}function H(){}function J(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(H,H):(O.status="pending",O.then(function(N){O.status==="pending"&&(O.status="fulfilled",O.value=N)},function(N){O.status==="pending"&&(O.status="rejected",O.reason=N)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function se(O,N,F,X,re){var he=typeof O;(he==="undefined"||he==="boolean")&&(O=null);var fe=!1;if(O===null)fe=!0;else switch(he){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(O.$$typeof){case i:case e:fe=!0;break;case _:return fe=O._init,se(fe(O._payload),N,F,X,re)}}if(fe)return re=re(O),fe=X===""?"."+W(O,0):X,x(re)?(F="",fe!=null&&(F=fe.replace(z,"$&/")+"/"),se(re,N,F,"",function(le){return le})):re!=null&&(M(re)&&(re=R(re,F+(re.key==null||O&&O.key===re.key?"":(""+re.key).replace(z,"$&/")+"/")+fe)),N.push(re)),1;fe=0;var Z=X===""?".":X+":";if(x(O))for(var B=0;B<O.length;B++)X=O[B],he=Z+W(X,B),fe+=se(X,N,F,he,re);else if(B=g(O),typeof B=="function")for(O=B.call(O),B=0;!(X=O.next()).done;)X=X.value,he=Z+W(X,B++),fe+=se(X,N,F,he,re);else if(he==="object"){if(typeof O.then=="function")return se(J(O),N,F,X,re);throw N=String(O),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return fe}function V(O,N,F){if(O==null)return O;var X=[],re=0;return se(O,X,"","",function(he){return N.call(F,he,re++)}),X}function $(O){if(O._status===-1){var N=O._result;N=N(),N.then(function(F){(O._status===0||O._status===-1)&&(O._status=1,O._result=F)},function(F){(O._status===0||O._status===-1)&&(O._status=2,O._result=F)}),O._status===-1&&(O._status=0,O._result=N)}if(O._status===1)return O._result.default;throw O._result}var Q=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function I(){}return Te.Children={map:V,forEach:function(O,N,F){V(O,function(){N.apply(this,arguments)},F)},count:function(O){var N=0;return V(O,function(){N++}),N},toArray:function(O){return V(O,function(N){return N})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Te.Component=S,Te.Fragment=t,Te.Profiler=o,Te.PureComponent=y,Te.StrictMode=n,Te.Suspense=h,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return A.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cloneElement=function(O,N,F){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var X=T({},O.props),re=O.key,he=void 0;if(N!=null)for(fe in N.ref!==void 0&&(he=void 0),N.key!==void 0&&(re=""+N.key),N)!D.call(N,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&N.ref===void 0||(X[fe]=N[fe]);var fe=arguments.length-2;if(fe===1)X.children=F;else if(1<fe){for(var Z=Array(fe),B=0;B<fe;B++)Z[B]=arguments[B+2];X.children=Z}return k(O.type,re,void 0,void 0,he,X)},Te.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Te.createElement=function(O,N,F){var X,re={},he=null;if(N!=null)for(X in N.key!==void 0&&(he=""+N.key),N)D.call(N,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(re[X]=N[X]);var fe=arguments.length-2;if(fe===1)re.children=F;else if(1<fe){for(var Z=Array(fe),B=0;B<fe;B++)Z[B]=arguments[B+2];re.children=Z}if(O&&O.defaultProps)for(X in fe=O.defaultProps,fe)re[X]===void 0&&(re[X]=fe[X]);return k(O,he,void 0,void 0,null,re)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:c,render:O}},Te.isValidElement=M,Te.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:$}},Te.memo=function(O,N){return{$$typeof:f,type:O,compare:N===void 0?null:N}},Te.startTransition=function(O){var N=A.T,F={};A.T=F;try{var X=O(),re=A.S;re!==null&&re(F,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,Q)}catch(he){Q(he)}finally{A.T=N}},Te.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Te.use=function(O){return A.H.use(O)},Te.useActionState=function(O,N,F){return A.H.useActionState(O,N,F)},Te.useCallback=function(O,N){return A.H.useCallback(O,N)},Te.useContext=function(O){return A.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,N){return A.H.useDeferredValue(O,N)},Te.useEffect=function(O,N,F){var X=A.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(O,N)},Te.useId=function(){return A.H.useId()},Te.useImperativeHandle=function(O,N,F){return A.H.useImperativeHandle(O,N,F)},Te.useInsertionEffect=function(O,N){return A.H.useInsertionEffect(O,N)},Te.useLayoutEffect=function(O,N){return A.H.useLayoutEffect(O,N)},Te.useMemo=function(O,N){return A.H.useMemo(O,N)},Te.useOptimistic=function(O,N){return A.H.useOptimistic(O,N)},Te.useReducer=function(O,N,F){return A.H.useReducer(O,N,F)},Te.useRef=function(O){return A.H.useRef(O)},Te.useState=function(O){return A.H.useState(O)},Te.useSyncExternalStore=function(O,N,F){return A.H.useSyncExternalStore(O,N,F)},Te.useTransition=function(){return A.H.useTransition()},Te.version="19.1.1",Te}var J1;function ag(){return J1||(J1=1,ap.exports=Ak()),ap.exports}var q=ag();const nE=iE(q);var lp={exports:{}},Vl={},cp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function Dk(){return eb||(eb=1,(function(i){function e(V,$){var Q=V.length;V.push($);e:for(;0<Q;){var I=Q-1>>>1,O=V[I];if(0<o(O,$))V[I]=$,V[Q]=O,Q=I;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var $=V[0],Q=V.pop();if(Q!==$){V[0]=Q;e:for(var I=0,O=V.length,N=O>>>1;I<N;){var F=2*(I+1)-1,X=V[F],re=F+1,he=V[re];if(0>o(X,Q))re<O&&0>o(he,X)?(V[I]=he,V[re]=Q,I=re):(V[I]=X,V[F]=Q,I=F);else if(re<O&&0>o(he,Q))V[I]=he,V[re]=Q,I=re;else break e}}return $}function o(V,$){var Q=V.sortIndex-$.sortIndex;return Q!==0?Q:V.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();i.unstable_now=function(){return u.now()-c}}var h=[],f=[],_=1,p=null,g=3,w=!1,T=!1,C=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function x(V){for(var $=t(f);$!==null;){if($.callback===null)n(f);else if($.startTime<=V)n(f),$.sortIndex=$.expirationTime,e(h,$);else break;$=t(f)}}function A(V){if(C=!1,x(V),!T)if(t(h)!==null)T=!0,D||(D=!0,W());else{var $=t(f);$!==null&&se(A,$.startTime-V)}}var D=!1,k=-1,R=5,M=-1;function U(){return S?!0:!(i.unstable_now()-M<R)}function z(){if(S=!1,D){var V=i.unstable_now();M=V;var $=!0;try{e:{T=!1,C&&(C=!1,y(k),k=-1),w=!0;var Q=g;try{t:{for(x(V),p=t(h);p!==null&&!(p.expirationTime>V&&U());){var I=p.callback;if(typeof I=="function"){p.callback=null,g=p.priorityLevel;var O=I(p.expirationTime<=V);if(V=i.unstable_now(),typeof O=="function"){p.callback=O,x(V),$=!0;break t}p===t(h)&&n(h),x(V)}else n(h);p=t(h)}if(p!==null)$=!0;else{var N=t(f);N!==null&&se(A,N.startTime-V),$=!1}}break e}finally{p=null,g=Q,w=!1}$=void 0}}finally{$?W():D=!1}}}var W;if(typeof m=="function")W=function(){m(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=z,W=function(){J.postMessage(null)}}else W=function(){b(z,0)};function se(V,$){k=b(function(){V(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_next=function(V){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var Q=g;g=$;try{return V()}finally{g=Q}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return $()}finally{g=Q}},i.unstable_scheduleCallback=function(V,$,Q){var I=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?I+Q:I):Q=I,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Q+O,V={id:_++,callback:$,priorityLevel:V,startTime:Q,expirationTime:O,sortIndex:-1},Q>I?(V.sortIndex=Q,e(f,V),t(h)===null&&V===t(f)&&(C?(y(k),k=-1):C=!0,se(A,Q-I))):(V.sortIndex=O,e(h,V),T||w||(T=!0,D||(D=!0,W()))),V},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(V){var $=g;return function(){var Q=g;g=$;try{return V.apply(this,arguments)}finally{g=Q}}}})(up)),up}var tb;function kk(){return tb||(tb=1,cp.exports=Dk()),cp.exports}var hp={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function Mk(){if(ib)return Kt;ib=1;var i=ag();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)f+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(h,f,_){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:h,containerInfo:f,implementation:_}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Kt.createPortal=function(h,f){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,_)},Kt.flushSync=function(h){var f=u.T,_=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=f,n.p=_,n.d.f()}},Kt.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Kt.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Kt.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var _=f.as,p=c(_,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;_==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:w}):_==="script"&&n.d.X(h,{crossOrigin:p,integrity:g,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Kt.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var _=c(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Kt.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var _=f.as,p=c(_,f.crossOrigin);n.d.L(h,_,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Kt.preloadModule=function(h,f){if(typeof h=="string")if(f){var _=c(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Kt.requestFormReset=function(h){n.d.r(h)},Kt.unstable_batchedUpdates=function(h,f){return h(f)},Kt.useFormState=function(h,f,_){return u.H.useFormState(h,f,_)},Kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var nb;function Ok(){if(nb)return hp.exports;nb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hp.exports=Mk(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function Lk(){if(sb)return Vl;sb=1;var i=kk(),e=ag(),t=Ok();function n(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,a=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(a=r.return),s=r.return;while(s)}return r.tag===3?a:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function c(s){if(l(s)!==s)throw Error(n(188))}function h(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(n(188));return r!==s?null:s}for(var a=s,d=r;;){var v=a.return;if(v===null)break;var E=v.alternate;if(E===null){if(d=v.return,d!==null){a=d;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===a)return c(v),s;if(E===d)return c(v),r;E=E.sibling}throw Error(n(188))}if(a.return!==d.return)a=v,d=E;else{for(var L=!1,P=v.child;P;){if(P===a){L=!0,a=v,d=E;break}if(P===d){L=!0,d=v,a=E;break}P=P.sibling}if(!L){for(P=E.child;P;){if(P===a){L=!0,a=E,d=v;break}if(P===d){L=!0,d=E,a=v;break}P=P.sibling}if(!L)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?s:r}function f(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=f(s),r!==null)return r;s=s.sibling}return null}var _=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case m:return(s.displayName||"Context")+".Provider";case y:return(s._context.displayName||"Context")+".Consumer";case x:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return r=s.displayName||null,r!==null?r:J(s.type)||"Memo";case R:r=s._payload,s=s._init;try{return J(s(r))}catch{}}return null}var se=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},I=[],O=-1;function N(s){return{current:s}}function F(s){0>O||(s.current=I[O],I[O]=null,O--)}function X(s,r){O++,I[O]=s.current,s.current=r}var re=N(null),he=N(null),fe=N(null),Z=N(null);function B(s,r){switch(X(fe,r),X(he,s),X(re,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?E1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=E1(r),s=T1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}F(re),X(re,s)}function le(){F(re),F(he),F(fe)}function ue(s){s.memoizedState!==null&&X(Z,s);var r=re.current,a=T1(r,s.type);r!==a&&(X(he,s),X(re,a))}function pe(s){he.current===s&&(F(re),F(he)),Z.current===s&&(F(Z),Nl._currentValue=Q)}var _e=Object.prototype.hasOwnProperty,Re=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,et=i.unstable_shouldYield,qt=i.unstable_requestPaint,ve=i.unstable_now,cr=i.unstable_getCurrentPriorityLevel,ro=i.unstable_ImmediatePriority,oo=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,ao=i.unstable_LowPriority,ei=i.unstable_IdlePriority,ur=i.log,Li=i.unstable_setDisableYieldValue,en=null,Nt=null;function Bt(s){if(typeof ur=="function"&&Li(s),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(en,s)}catch{}}var At=Math.clz32?Math.clz32:Je,fn=Math.log,hr=Math.LN2;function Je(s){return s>>>=0,s===0?32:31-(fn(s)/hr|0)|0}var lo=256,lu=4194304;function fr(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function cu(s,r,a){var d=s.pendingLanes;if(d===0)return 0;var v=0,E=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var P=d&134217727;return P!==0?(d=P&~E,d!==0?v=fr(d):(L&=P,L!==0?v=fr(L):a||(a=P&~s,a!==0&&(v=fr(a))))):(P=d&~E,P!==0?v=fr(P):L!==0?v=fr(L):a||(a=d&~s,a!==0&&(v=fr(a)))),v===0?0:r!==0&&r!==v&&(r&E)===0&&(E=v&-v,a=r&-r,E>=a||E===32&&(a&4194048)!==0)?r:v}function qa(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function dD(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(){var s=lo;return lo<<=1,(lo&4194048)===0&&(lo=256),s}function l0(){var s=lu;return lu<<=1,(lu&62914560)===0&&(lu=4194304),s}function Yf(s){for(var r=[],a=0;31>a;a++)r.push(s);return r}function Ga(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _D(s,r,a,d,v,E){var L=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var P=s.entanglements,j=s.expirationTimes,te=s.hiddenUpdates;for(a=L&~a;0<a;){var oe=31-At(a),ce=1<<oe;P[oe]=0,j[oe]=-1;var ie=te[oe];if(ie!==null)for(te[oe]=null,oe=0;oe<ie.length;oe++){var ne=ie[oe];ne!==null&&(ne.lane&=-536870913)}a&=~ce}d!==0&&c0(s,d,0),E!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=E&~(L&~r))}function c0(s,r,a){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-At(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|a&4194090}function u0(s,r){var a=s.entangledLanes|=r;for(s=s.entanglements;a;){var d=31-At(a),v=1<<d;v&r|s[d]&r&&(s[d]|=r),a&=~v}}function Xf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Qf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function h0(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:W1(s.type))}function pD(s,r){var a=$.p;try{return $.p=s,r()}finally{$.p=a}}var us=Math.random().toString(36).slice(2),Gt="__reactFiber$"+us,ai="__reactProps$"+us,co="__reactContainer$"+us,Zf="__reactEvents$"+us,mD="__reactListeners$"+us,gD="__reactHandles$"+us,f0="__reactResources$"+us,$a="__reactMarker$"+us;function Jf(s){delete s[Gt],delete s[ai],delete s[Zf],delete s[mD],delete s[gD]}function uo(s){var r=s[Gt];if(r)return r;for(var a=s.parentNode;a;){if(r=a[co]||a[Gt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(s=D1(s);s!==null;){if(a=s[Gt])return a;s=D1(s)}return r}s=a,a=s.parentNode}return null}function ho(s){if(s=s[Gt]||s[co]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Ka(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(n(33))}function fo(s){var r=s[f0];return r||(r=s[f0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(s){s[$a]=!0}var d0=new Set,_0={};function dr(s,r){_o(s,r),_o(s+"Capture",r)}function _o(s,r){for(_0[s]=r,s=0;s<r.length;s++)d0.add(r[s])}var vD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p0={},m0={};function yD(s){return _e.call(m0,s)?!0:_e.call(p0,s)?!1:vD.test(s)?m0[s]=!0:(p0[s]=!0,!1)}function uu(s,r,a){if(yD(r))if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+a)}}function hu(s,r,a){if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+a)}}function On(s,r,a,d){if(d===null)s.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(r,a,""+d)}}var ed,g0;function po(s){if(ed===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ed=r&&r[1]||"",g0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ed+s+g0}var td=!1;function id(s,r){if(!s||td)return"";td=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ie=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){ie=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){ie=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ie&&typeof ne.stack=="string")return[ne.stack,ie.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=d.DetermineComponentFrameRoot(),L=E[0],P=E[1];if(L&&P){var j=L.split(`
`),te=P.split(`
`);for(v=d=0;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;for(;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;if(d===j.length||v===te.length)for(d=j.length-1,v=te.length-1;1<=d&&0<=v&&j[d]!==te[v];)v--;for(;1<=d&&0<=v;d--,v--)if(j[d]!==te[v]){if(d!==1||v!==1)do if(d--,v--,0>v||j[d]!==te[v]){var oe=`
`+j[d].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=d&&0<=v);break}}}finally{td=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?po(a):""}function SD(s){switch(s.tag){case 26:case 27:case 5:return po(s.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 15:return id(s.type,!1);case 11:return id(s.type.render,!1);case 1:return id(s.type,!0);case 31:return po("Activity");default:return""}}function v0(s){try{var r="";do r+=SD(s),s=s.return;while(s);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ii(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function y0(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bD(s){var r=y0(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var v=a.get,E=a.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return v.call(this)},set:function(L){d=""+L,E.call(this,L)}}),Object.defineProperty(s,r,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function fu(s){s._valueTracker||(s._valueTracker=bD(s))}function S0(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return s&&(d=y0(s)?s.checked?"true":"false":s.value),s=d,s!==a?(r.setValue(s),!0):!1}function du(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var CD=/[\n"\\]/g;function Pi(s){return s.replace(CD,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function nd(s,r,a,d,v,E,L,P){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),r!=null?L==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Ii(r)):s.value!==""+Ii(r)&&(s.value=""+Ii(r)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),r!=null?sd(s,L,Ii(r)):a!=null?sd(s,L,Ii(a)):d!=null&&s.removeAttribute("value"),v==null&&E!=null&&(s.defaultChecked=!!E),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+Ii(P):s.removeAttribute("name")}function b0(s,r,a,d,v,E,L,P){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),r!=null||a!=null){if(!(E!=="submit"&&E!=="reset"||r!=null))return;a=a!=null?""+Ii(a):"",r=r!=null?""+Ii(r):a,P||r===s.value||(s.value=r),s.defaultValue=r}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=P?s.checked:!!d,s.defaultChecked=!!d,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L)}function sd(s,r,a){r==="number"&&du(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function mo(s,r,a,d){if(s=s.options,r){r={};for(var v=0;v<a.length;v++)r["$"+a[v]]=!0;for(a=0;a<s.length;a++)v=r.hasOwnProperty("$"+s[a].value),s[a].selected!==v&&(s[a].selected=v),v&&d&&(s[a].defaultSelected=!0)}else{for(a=""+Ii(a),r=null,v=0;v<s.length;v++){if(s[v].value===a){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}r!==null||s[v].disabled||(r=s[v])}r!==null&&(r.selected=!0)}}function C0(s,r,a){if(r!=null&&(r=""+Ii(r),r!==s.value&&(s.value=r),a==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=a!=null?""+Ii(a):""}function w0(s,r,a,d){if(r==null){if(d!=null){if(a!=null)throw Error(n(92));if(se(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),r=a}a=Ii(r),s.defaultValue=a,d=s.textContent,d===a&&d!==""&&d!==null&&(s.value=d)}function go(s,r){if(r){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=r;return}}s.textContent=r}var wD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E0(s,r,a){var d=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,a):typeof a!="number"||a===0||wD.has(r)?r==="float"?s.cssFloat=a:s[r]=(""+a).trim():s[r]=a+"px"}function T0(s,r,a){if(r!=null&&typeof r!="object")throw Error(n(62));if(s=s.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in r)d=r[v],r.hasOwnProperty(v)&&a[v]!==d&&E0(s,v,d)}else for(var E in r)r.hasOwnProperty(E)&&E0(s,E,r[E])}function rd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ED=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _u(s){return TD.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var od=null;function ad(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vo=null,yo=null;function x0(s){var r=ho(s);if(r&&(s=r.stateNode)){var a=s[ai]||null;e:switch(s=r.stateNode,r.type){case"input":if(nd(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pi(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==s&&d.form===s.form){var v=d[ai]||null;if(!v)throw Error(n(90));nd(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<a.length;r++)d=a[r],d.form===s.form&&S0(d)}break e;case"textarea":C0(s,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&mo(s,!!a.multiple,r,!1)}}}var ld=!1;function R0(s,r,a){if(ld)return s(r,a);ld=!0;try{var d=s(r);return d}finally{if(ld=!1,(vo!==null||yo!==null)&&(Ju(),vo&&(r=vo,s=yo,yo=vo=null,x0(r),s)))for(r=0;r<s.length;r++)x0(s[r])}}function Ya(s,r){var a=s.stateNode;if(a===null)return null;var d=a[ai]||null;if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=!1;if(Ln)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{cd=!1}var hs=null,ud=null,pu=null;function A0(){if(pu)return pu;var s,r=ud,a=r.length,d,v="value"in hs?hs.value:hs.textContent,E=v.length;for(s=0;s<a&&r[s]===v[s];s++);var L=a-s;for(d=1;d<=L&&r[a-d]===v[E-d];d++);return pu=v.slice(s,1<d?1-d:void 0)}function mu(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function gu(){return!0}function D0(){return!1}function li(s){function r(a,d,v,E,L){this._reactName=a,this._targetInst=v,this.type=d,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(a=s[P],this[P]=a?a(E):E[P]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?gu:D0,this.isPropagationStopped=D0,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),r}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=li(_r),Qa=_({},_r,{view:0,detail:0}),xD=li(Qa),hd,fd,Za,yu=_({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Za&&(Za&&s.type==="mousemove"?(hd=s.screenX-Za.screenX,fd=s.screenY-Za.screenY):fd=hd=0,Za=s),hd)},movementY:function(s){return"movementY"in s?s.movementY:fd}}),k0=li(yu),RD=_({},yu,{dataTransfer:0}),AD=li(RD),DD=_({},Qa,{relatedTarget:0}),dd=li(DD),kD=_({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),MD=li(kD),OD=_({},_r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),LD=li(OD),ID=_({},_r,{data:0}),M0=li(ID),PD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ND={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HD(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=BD[s])?!!r[s]:!1}function _d(){return HD}var UD=_({},Qa,{key:function(s){if(s.key){var r=PD[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=mu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ND[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(s){return s.type==="keypress"?mu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),FD=li(UD),zD=_({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=li(zD),VD=_({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),jD=li(VD),WD=_({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),qD=li(WD),GD=_({},yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$D=li(GD),KD=_({},_r,{newState:0,oldState:0}),YD=li(KD),XD=[9,13,27,32],pd=Ln&&"CompositionEvent"in window,Ja=null;Ln&&"documentMode"in document&&(Ja=document.documentMode);var QD=Ln&&"TextEvent"in window&&!Ja,L0=Ln&&(!pd||Ja&&8<Ja&&11>=Ja),I0=" ",P0=!1;function N0(s,r){switch(s){case"keyup":return XD.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var So=!1;function ZD(s,r){switch(s){case"compositionend":return B0(r);case"keypress":return r.which!==32?null:(P0=!0,I0);case"textInput":return s=r.data,s===I0&&P0?null:s;default:return null}}function JD(s,r){if(So)return s==="compositionend"||!pd&&N0(s,r)?(s=A0(),pu=ud=hs=null,So=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return L0&&r.locale!=="ko"?null:r.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!e2[s.type]:r==="textarea"}function U0(s,r,a,d){vo?yo?yo.push(d):yo=[d]:vo=d,r=rh(r,"onChange"),0<r.length&&(a=new vu("onChange","change",null,a,d),s.push({event:a,listeners:r}))}var el=null,tl=null;function t2(s){y1(s,0)}function Su(s){var r=Ka(s);if(S0(r))return s}function F0(s,r){if(s==="change")return r}var z0=!1;if(Ln){var md;if(Ln){var gd="oninput"in document;if(!gd){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),gd=typeof V0.oninput=="function"}md=gd}else md=!1;z0=md&&(!document.documentMode||9<document.documentMode)}function j0(){el&&(el.detachEvent("onpropertychange",W0),tl=el=null)}function W0(s){if(s.propertyName==="value"&&Su(tl)){var r=[];U0(r,tl,s,ad(s)),R0(t2,r)}}function i2(s,r,a){s==="focusin"?(j0(),el=r,tl=a,el.attachEvent("onpropertychange",W0)):s==="focusout"&&j0()}function n2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Su(tl)}function s2(s,r){if(s==="click")return Su(r)}function r2(s,r){if(s==="input"||s==="change")return Su(r)}function o2(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Si=typeof Object.is=="function"?Object.is:o2;function il(s,r){if(Si(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var a=Object.keys(s),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var v=a[d];if(!_e.call(r,v)||!Si(s[v],r[v]))return!1}return!0}function q0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function G0(s,r){var a=q0(s);s=0;for(var d;a;){if(a.nodeType===3){if(d=s+a.textContent.length,s<=r&&d>=r)return{node:a,offset:r-s};s=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=q0(a)}}function $0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?$0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function K0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=du(s.document);r instanceof s.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)s=r.contentWindow;else break;r=du(s.document)}return r}function vd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var a2=Ln&&"documentMode"in document&&11>=document.documentMode,bo=null,yd=null,nl=null,Sd=!1;function Y0(s,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sd||bo==null||bo!==du(d)||(d=bo,"selectionStart"in d&&vd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),nl&&il(nl,d)||(nl=d,d=rh(yd,"onSelect"),0<d.length&&(r=new vu("onSelect","select",null,r,a),s.push({event:r,listeners:d}),r.target=bo)))}function pr(s,r){var a={};return a[s.toLowerCase()]=r.toLowerCase(),a["Webkit"+s]="webkit"+r,a["Moz"+s]="moz"+r,a}var Co={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},bd={},X0={};Ln&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function mr(s){if(bd[s])return bd[s];if(!Co[s])return s;var r=Co[s],a;for(a in r)if(r.hasOwnProperty(a)&&a in X0)return bd[s]=r[a];return s}var Q0=mr("animationend"),Z0=mr("animationiteration"),J0=mr("animationstart"),l2=mr("transitionrun"),c2=mr("transitionstart"),u2=mr("transitioncancel"),ey=mr("transitionend"),ty=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function tn(s,r){ty.set(s,r),dr(r,[s])}var iy=new WeakMap;function Ni(s,r){if(typeof s=="object"&&s!==null){var a=iy.get(s);return a!==void 0?a:(r={value:s,source:r,stack:v0(r)},iy.set(s,r),r)}return{value:s,source:r,stack:v0(r)}}var Bi=[],wo=0,wd=0;function bu(){for(var s=wo,r=wd=wo=0;r<s;){var a=Bi[r];Bi[r++]=null;var d=Bi[r];Bi[r++]=null;var v=Bi[r];Bi[r++]=null;var E=Bi[r];if(Bi[r++]=null,d!==null&&v!==null){var L=d.pending;L===null?v.next=v:(v.next=L.next,L.next=v),d.pending=v}E!==0&&ny(a,v,E)}}function Cu(s,r,a,d){Bi[wo++]=s,Bi[wo++]=r,Bi[wo++]=a,Bi[wo++]=d,wd|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Ed(s,r,a,d){return Cu(s,r,a,d),wu(s)}function Eo(s,r){return Cu(s,null,null,r),wu(s)}function ny(s,r,a){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a);for(var v=!1,E=s.return;E!==null;)E.childLanes|=a,d=E.alternate,d!==null&&(d.childLanes|=a),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(v=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,v&&r!==null&&(v=31-At(a),s=E.hiddenUpdates,d=s[v],d===null?s[v]=[r]:d.push(r),r.lane=a|536870912),E):null}function wu(s){if(50<Al)throw Al=0,k_=null,Error(n(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var To={};function h2(s,r,a,d){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,r,a,d){return new h2(s,r,a,d)}function Td(s){return s=s.prototype,!(!s||!s.isReactComponent)}function In(s,r){var a=s.alternate;return a===null?(a=bi(s.tag,r,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=r,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function sy(s,r){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Eu(s,r,a,d,v,E){var L=0;if(d=s,typeof s=="function")Td(s)&&(L=1);else if(typeof s=="string")L=dk(s,a,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=bi(31,a,r,v),s.elementType=M,s.lanes=E,s;case T:return gr(a.children,v,E,r);case C:L=8,v|=24;break;case S:return s=bi(12,a,r,v|2),s.elementType=S,s.lanes=E,s;case A:return s=bi(13,a,r,v),s.elementType=A,s.lanes=E,s;case D:return s=bi(19,a,r,v),s.elementType=D,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case b:case m:L=10;break e;case y:L=9;break e;case x:L=11;break e;case k:L=14;break e;case R:L=16,d=null;break e}L=29,a=Error(n(130,s===null?"null":typeof s,"")),d=null}return r=bi(L,a,r,v),r.elementType=s,r.type=d,r.lanes=E,r}function gr(s,r,a,d){return s=bi(7,s,d,r),s.lanes=a,s}function xd(s,r,a){return s=bi(6,s,null,r),s.lanes=a,s}function Rd(s,r,a){return r=bi(4,s.children!==null?s.children:[],s.key,r),r.lanes=a,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var xo=[],Ro=0,Tu=null,xu=0,Hi=[],Ui=0,vr=null,Pn=1,Nn="";function yr(s,r){xo[Ro++]=xu,xo[Ro++]=Tu,Tu=s,xu=r}function ry(s,r,a){Hi[Ui++]=Pn,Hi[Ui++]=Nn,Hi[Ui++]=vr,vr=s;var d=Pn;s=Nn;var v=32-At(d)-1;d&=~(1<<v),a+=1;var E=32-At(r)+v;if(30<E){var L=v-v%5;E=(d&(1<<L)-1).toString(32),d>>=L,v-=L,Pn=1<<32-At(r)+v|a<<v|d,Nn=E+s}else Pn=1<<E|a<<v|d,Nn=s}function Ad(s){s.return!==null&&(yr(s,1),ry(s,1,0))}function Dd(s){for(;s===Tu;)Tu=xo[--Ro],xo[Ro]=null,xu=xo[--Ro],xo[Ro]=null;for(;s===vr;)vr=Hi[--Ui],Hi[Ui]=null,Nn=Hi[--Ui],Hi[Ui]=null,Pn=Hi[--Ui],Hi[Ui]=null}var ti=null,ct=null,He=!1,Sr=null,dn=!1,kd=Error(n(519));function br(s){var r=Error(n(418,""));throw ol(Ni(r,s)),kd}function oy(s){var r=s.stateNode,a=s.type,d=s.memoizedProps;switch(r[Gt]=s,r[ai]=d,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)Me(kl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),b0(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),fu(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),w0(r,d.value,d.defaultValue,d.children),fu(r)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||d.suppressHydrationWarning===!0||w1(r.textContent,a)?(d.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),d.onScroll!=null&&Me("scroll",r),d.onScrollEnd!=null&&Me("scrollend",r),d.onClick!=null&&(r.onclick=oh),r=!0):r=!1,r||br(s)}function ay(s){for(ti=s.return;ti;)switch(ti.tag){case 5:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:ti=ti.return}}function sl(s){if(s!==ti)return!1;if(!He)return ay(s),He=!0,!1;var r=s.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||G_(s.type,s.memoizedProps)),a=!a),a&&ct&&br(s),ay(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(r===0){ct=sn(s.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;s=s.nextSibling}ct=null}}else r===27?(r=ct,Rs(s.type)?(s=X_,X_=null,ct=s):ct=r):ct=ti?sn(s.stateNode.nextSibling):null;return!0}function rl(){ct=ti=null,He=!1}function ly(){var s=Sr;return s!==null&&(hi===null?hi=s:hi.push.apply(hi,s),Sr=null),s}function ol(s){Sr===null?Sr=[s]:Sr.push(s)}var Md=N(null),Cr=null,Bn=null;function fs(s,r,a){X(Md,r._currentValue),r._currentValue=a}function Hn(s){s._currentValue=Md.current,F(Md)}function Od(s,r,a){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===a)break;s=s.return}}function Ld(s,r,a,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var E=v.dependencies;if(E!==null){var L=v.child;E=E.firstContext;e:for(;E!==null;){var P=E;E=v;for(var j=0;j<r.length;j++)if(P.context===r[j]){E.lanes|=a,P=E.alternate,P!==null&&(P.lanes|=a),Od(E.return,a,s),d||(L=null);break e}E=P.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(n(341));L.lanes|=a,E=L.alternate,E!==null&&(E.lanes|=a),Od(L,a,s),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===s){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function al(s,r,a,d){s=null;for(var v=r,E=!1;v!==null;){if(!E){if((v.flags&524288)!==0)E=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var P=v.type;Si(v.pendingProps.value,L.value)||(s!==null?s.push(P):s=[P])}}else if(v===Z.current){if(L=v.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Nl):s=[Nl])}v=v.return}s!==null&&Ld(r,s,a,d),r.flags|=262144}function Ru(s){for(s=s.firstContext;s!==null;){if(!Si(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function wr(s){Cr=s,Bn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $t(s){return cy(Cr,s)}function Au(s,r){return Cr===null&&wr(s),cy(s,r)}function cy(s,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Bn===null){if(s===null)throw Error(n(308));Bn=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Bn=Bn.next=r;return a}var f2=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(a,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(a){return a()})}},d2=i.unstable_scheduleCallback,_2=i.unstable_NormalPriority,Et={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new f2,data:new Map,refCount:0}}function ll(s){s.refCount--,s.refCount===0&&d2(_2,function(){s.controller.abort()})}var cl=null,Pd=0,Ao=0,Do=null;function p2(s,r){if(cl===null){var a=cl=[];Pd=0,Ao=B_(),Do={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Pd++,r.then(uy,uy),r}function uy(){if(--Pd===0&&cl!==null){Do!==null&&(Do.status="fulfilled");var s=cl;cl=null,Ao=0,Do=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function m2(s,r){var a=[],d={status:"pending",value:null,reason:null,then:function(v){a.push(v)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var v=0;v<a.length;v++)(0,a[v])(r)},function(v){for(d.status="rejected",d.reason=v,v=0;v<a.length;v++)(0,a[v])(void 0)}),d}var hy=V.S;V.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&p2(s,r),hy!==null&&hy(s,r)};var Er=N(null);function Nd(){var s=Er.current;return s!==null?s:Xe.pooledCache}function Du(s,r){r===null?X(Er,Er.current):X(Er,r.pool)}function fy(){var s=Nd();return s===null?null:{parent:Et._currentValue,pool:s}}var ul=Error(n(460)),dy=Error(n(474)),ku=Error(n(542)),Bd={then:function(){}};function _y(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Mu(){}function py(s,r,a){switch(a=s[a],a===void 0?s.push(r):a!==r&&(r.then(Mu,Mu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,gy(s),s;default:if(typeof r.status=="string")r.then(Mu,Mu);else{if(s=Xe,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=d}},function(d){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,gy(s),s}throw hl=r,ul}}var hl=null;function my(){if(hl===null)throw Error(n(459));var s=hl;return hl=null,s}function gy(s){if(s===ul||s===ku)throw Error(n(483))}var ds=!1;function Hd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function _s(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ps(s,r,a){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var v=d.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),d.pending=r,r=wu(s),ny(s,null,a),r}return Cu(s,d,r,a),wu(s)}function fl(s,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,a|=d,r.lanes=a,u0(s,a)}}function Fd(s,r){var a=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var v=null,E=null;if(a=a.firstBaseUpdate,a!==null){do{var L={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};E===null?v=E=L:E=E.next=L,a=a.next}while(a!==null);E===null?v=E=r:E=E.next=r}else v=E=r;a={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:d.shared,callbacks:d.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=r:s.next=r,a.lastBaseUpdate=r}var zd=!1;function dl(){if(zd){var s=Do;if(s!==null)throw s}}function _l(s,r,a,d){zd=!1;var v=s.updateQueue;ds=!1;var E=v.firstBaseUpdate,L=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var j=P,te=j.next;j.next=null,L===null?E=te:L.next=te,L=j;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,P=oe.lastBaseUpdate,P!==L&&(P===null?oe.firstBaseUpdate=te:P.next=te,oe.lastBaseUpdate=j))}if(E!==null){var ce=v.baseState;L=0,oe=te=j=null,P=E;do{var ie=P.lane&-536870913,ne=ie!==P.lane;if(ne?(Pe&ie)===ie:(d&ie)===ie){ie!==0&&ie===Ao&&(zd=!0),oe!==null&&(oe=oe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var we=s,ye=P;ie=r;var je=a;switch(ye.tag){case 1:if(we=ye.payload,typeof we=="function"){ce=we.call(je,ce,ie);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ye.payload,ie=typeof we=="function"?we.call(je,ce,ie):we,ie==null)break e;ce=_({},ce,ie);break e;case 2:ds=!0}}ie=P.callback,ie!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ie]:ne.push(ie))}else ne={lane:ie,tag:P.tag,payload:P.payload,callback:P.callback,next:null},oe===null?(te=oe=ne,j=ce):oe=oe.next=ne,L|=ie;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);oe===null&&(j=ce),v.baseState=j,v.firstBaseUpdate=te,v.lastBaseUpdate=oe,E===null&&(v.shared.lanes=0),ws|=L,s.lanes=L,s.memoizedState=ce}}function vy(s,r){if(typeof s!="function")throw Error(n(191,s));s.call(r)}function yy(s,r){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)vy(a[s],r)}var ko=N(null),Ou=N(0);function Sy(s,r){s=qn,X(Ou,s),X(ko,r),qn=s|r.baseLanes}function Vd(){X(Ou,qn),X(ko,ko.current)}function jd(){qn=Ou.current,F(ko),F(Ou)}var ms=0,xe=null,ze=null,yt=null,Lu=!1,Mo=!1,Tr=!1,Iu=0,pl=0,Oo=null,g2=0;function pt(){throw Error(n(321))}function Wd(s,r){if(r===null)return!1;for(var a=0;a<r.length&&a<s.length;a++)if(!Si(s[a],r[a]))return!1;return!0}function qd(s,r,a,d,v,E){return ms=E,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=s===null||s.memoizedState===null?nS:sS,Tr=!1,E=a(d,v),Tr=!1,Mo&&(E=Cy(r,a,d,v)),by(s),E}function by(s){V.H=Fu;var r=ze!==null&&ze.next!==null;if(ms=0,yt=ze=xe=null,Lu=!1,pl=0,Oo=null,r)throw Error(n(300));s===null||kt||(s=s.dependencies,s!==null&&Ru(s)&&(kt=!0))}function Cy(s,r,a,d){xe=s;var v=0;do{if(Mo&&(Oo=null),pl=0,Mo=!1,25<=v)throw Error(n(301));if(v+=1,yt=ze=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}V.H=E2,E=r(a,d)}while(Mo);return E}function v2(){var s=V.H,r=s.useState()[0];return r=typeof r.then=="function"?ml(r):r,s=s.useState()[0],(ze!==null?ze.memoizedState:null)!==s&&(xe.flags|=1024),r}function Gd(){var s=Iu!==0;return Iu=0,s}function $d(s,r,a){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~a}function Kd(s){if(Lu){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lu=!1}ms=0,yt=ze=xe=null,Mo=!1,pl=Iu=0,Oo=null}function ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=s:yt=yt.next=s,yt}function St(){if(ze===null){var s=xe.alternate;s=s!==null?s.memoizedState:null}else s=ze.next;var r=yt===null?xe.memoizedState:yt.next;if(r!==null)yt=r,ze=s;else{if(s===null)throw xe.alternate===null?Error(n(467)):Error(n(310));ze=s,s={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},yt===null?xe.memoizedState=yt=s:yt=yt.next=s}return yt}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(s){var r=pl;return pl+=1,Oo===null&&(Oo=[]),s=py(Oo,s,r),r=xe,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?nS:sS),s}function Pu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ml(s);if(s.$$typeof===m)return $t(s)}throw Error(n(438,String(s)))}function Xd(s){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var d=xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yd(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(s),d=0;d<s;d++)a[d]=U;return r.index++,a}function Un(s,r){return typeof r=="function"?r(s):r}function Nu(s){var r=St();return Qd(r,ze,s)}function Qd(s,r,a){var d=s.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var v=s.baseQueue,E=d.pending;if(E!==null){if(v!==null){var L=v.next;v.next=E.next,E.next=L}r.baseQueue=v=E,d.pending=null}if(E=s.baseState,v===null)s.memoizedState=E;else{r=v.next;var P=L=null,j=null,te=r,oe=!1;do{var ce=te.lane&-536870913;if(ce!==te.lane?(Pe&ce)===ce:(ms&ce)===ce){var ie=te.revertLane;if(ie===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ce===Ao&&(oe=!0);else if((ms&ie)===ie){te=te.next,ie===Ao&&(oe=!0);continue}else ce={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(P=j=ce,L=E):j=j.next=ce,xe.lanes|=ie,ws|=ie;ce=te.action,Tr&&a(E,ce),E=te.hasEagerState?te.eagerState:a(E,ce)}else ie={lane:ce,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(P=j=ie,L=E):j=j.next=ie,xe.lanes|=ce,ws|=ce;te=te.next}while(te!==null&&te!==r);if(j===null?L=E:j.next=P,!Si(E,s.memoizedState)&&(kt=!0,oe&&(a=Do,a!==null)))throw a;s.memoizedState=E,s.baseState=L,s.baseQueue=j,d.lastRenderedState=E}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Zd(s){var r=St(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=s;var d=a.dispatch,v=a.pending,E=r.memoizedState;if(v!==null){a.pending=null;var L=v=v.next;do E=s(E,L.action),L=L.next;while(L!==v);Si(E,r.memoizedState)||(kt=!0),r.memoizedState=E,r.baseQueue===null&&(r.baseState=E),a.lastRenderedState=E}return[E,d]}function wy(s,r,a){var d=xe,v=St(),E=He;if(E){if(a===void 0)throw Error(n(407));a=a()}else a=r();var L=!Si((ze||v).memoizedState,a);L&&(v.memoizedState=a,kt=!0),v=v.queue;var P=xy.bind(null,d,v,s);if(gl(2048,8,P,[s]),v.getSnapshot!==r||L||yt!==null&&yt.memoizedState.tag&1){if(d.flags|=2048,Lo(9,Bu(),Ty.bind(null,d,v,a,r),null),Xe===null)throw Error(n(349));E||(ms&124)!==0||Ey(d,r,a)}return a}function Ey(s,r,a){s.flags|=16384,s={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Yd(),xe.updateQueue=r,r.stores=[s]):(a=r.stores,a===null?r.stores=[s]:a.push(s))}function Ty(s,r,a,d){r.value=a,r.getSnapshot=d,Ry(r)&&Ay(s)}function xy(s,r,a){return a(function(){Ry(r)&&Ay(s)})}function Ry(s){var r=s.getSnapshot;s=s.value;try{var a=r();return!Si(s,a)}catch{return!0}}function Ay(s){var r=Eo(s,2);r!==null&&xi(r,s,2)}function Jd(s){var r=ci();if(typeof s=="function"){var a=s;if(s=a(),Tr){Bt(!0);try{a()}finally{Bt(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:s},r}function Dy(s,r,a,d){return s.baseState=a,Qd(s,ze,typeof d=="function"?d:Un)}function y2(s,r,a,d,v){if(Uu(s))throw Error(n(485));if(s=r.action,s!==null){var E={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){E.listeners.push(L)}};V.T!==null?a(!0):E.isTransition=!1,d(E),a=r.pending,a===null?(E.next=r.pending=E,ky(r,E)):(E.next=a.next,r.pending=a.next=E)}}function ky(s,r){var a=r.action,d=r.payload,v=s.state;if(r.isTransition){var E=V.T,L={};V.T=L;try{var P=a(v,d),j=V.S;j!==null&&j(L,P),My(s,r,P)}catch(te){e_(s,r,te)}finally{V.T=E}}else try{E=a(v,d),My(s,r,E)}catch(te){e_(s,r,te)}}function My(s,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){Oy(s,r,d)},function(d){return e_(s,r,d)}):Oy(s,r,a)}function Oy(s,r,a){r.status="fulfilled",r.value=a,Ly(r),s.state=a,r=s.pending,r!==null&&(a=r.next,a===r?s.pending=null:(a=a.next,r.next=a,ky(s,a)))}function e_(s,r,a){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=a,Ly(r),r=r.next;while(r!==d)}s.action=null}function Ly(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Iy(s,r){return r}function Py(s,r){if(He){var a=Xe.formState;if(a!==null){e:{var d=xe;if(He){if(ct){t:{for(var v=ct,E=dn;v.nodeType!==8;){if(!E){v=null;break t}if(v=sn(v.nextSibling),v===null){v=null;break t}}E=v.data,v=E==="F!"||E==="F"?v:null}if(v){ct=sn(v.nextSibling),d=v.data==="F!";break e}}br(d)}d=!1}d&&(r=a[0])}}return a=ci(),a.memoizedState=a.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:r},a.queue=d,a=eS.bind(null,xe,d),d.dispatch=a,d=Jd(!1),E=r_.bind(null,xe,!1,d.queue),d=ci(),v={state:r,dispatch:null,action:s,pending:null},d.queue=v,a=y2.bind(null,xe,v,E,a),v.dispatch=a,d.memoizedState=s,[r,a,!1]}function Ny(s){var r=St();return By(r,ze,s)}function By(s,r,a){if(r=Qd(s,r,Iy)[0],s=Nu(Un)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=ml(r)}catch(L){throw L===ul?ku:L}else d=r;r=St();var v=r.queue,E=v.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Lo(9,Bu(),S2.bind(null,v,a),null)),[d,E,s]}function S2(s,r){s.action=r}function Hy(s){var r=St(),a=ze;if(a!==null)return By(r,a,s);St(),r=r.memoizedState,a=St();var d=a.queue.dispatch;return a.memoizedState=s,[r,d,!1]}function Lo(s,r,a,d){return s={tag:s,create:a,deps:d,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Yd(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=s.next=s:(d=a.next,a.next=s,s.next=d,r.lastEffect=s),s}function Bu(){return{destroy:void 0,resource:void 0}}function Uy(){return St().memoizedState}function Hu(s,r,a,d){var v=ci();d=d===void 0?null:d,xe.flags|=s,v.memoizedState=Lo(1|r,Bu(),a,d)}function gl(s,r,a,d){var v=St();d=d===void 0?null:d;var E=v.memoizedState.inst;ze!==null&&d!==null&&Wd(d,ze.memoizedState.deps)?v.memoizedState=Lo(r,E,a,d):(xe.flags|=s,v.memoizedState=Lo(1|r,E,a,d))}function Fy(s,r){Hu(8390656,8,s,r)}function zy(s,r){gl(2048,8,s,r)}function Vy(s,r){return gl(4,2,s,r)}function jy(s,r){return gl(4,4,s,r)}function Wy(s,r){if(typeof r=="function"){s=s();var a=r(s);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function qy(s,r,a){a=a!=null?a.concat([s]):null,gl(4,4,Wy.bind(null,r,s),a)}function t_(){}function Gy(s,r){var a=St();r=r===void 0?null:r;var d=a.memoizedState;return r!==null&&Wd(r,d[1])?d[0]:(a.memoizedState=[s,r],s)}function $y(s,r){var a=St();r=r===void 0?null:r;var d=a.memoizedState;if(r!==null&&Wd(r,d[1]))return d[0];if(d=s(),Tr){Bt(!0);try{s()}finally{Bt(!1)}}return a.memoizedState=[d,r],d}function i_(s,r,a){return a===void 0||(ms&1073741824)!==0?s.memoizedState=r:(s.memoizedState=a,s=XS(),xe.lanes|=s,ws|=s,a)}function Ky(s,r,a,d){return Si(a,r)?a:ko.current!==null?(s=i_(s,a,d),Si(s,r)||(kt=!0),s):(ms&42)===0?(kt=!0,s.memoizedState=a):(s=XS(),xe.lanes|=s,ws|=s,r)}function Yy(s,r,a,d,v){var E=$.p;$.p=E!==0&&8>E?E:8;var L=V.T,P={};V.T=P,r_(s,!1,r,a);try{var j=v(),te=V.S;if(te!==null&&te(P,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var oe=m2(j,d);vl(s,r,oe,Ti(s))}else vl(s,r,d,Ti(s))}catch(ce){vl(s,r,{then:function(){},status:"rejected",reason:ce},Ti())}finally{$.p=E,V.T=L}}function b2(){}function n_(s,r,a,d){if(s.tag!==5)throw Error(n(476));var v=Xy(s).queue;Yy(s,v,r,Q,a===null?b2:function(){return Qy(s),a(d)})}function Xy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:Q},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:a},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Qy(s){var r=Xy(s).next.queue;vl(s,r,{},Ti())}function s_(){return $t(Nl)}function Zy(){return St().memoizedState}function Jy(){return St().memoizedState}function C2(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ti();s=_s(a);var d=ps(r,s,a);d!==null&&(xi(d,r,a),fl(d,r,a)),r={cache:Id()},s.payload=r;return}r=r.return}}function w2(s,r,a){var d=Ti();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(s)?tS(r,a):(a=Ed(s,r,a,d),a!==null&&(xi(a,s,d),iS(a,r,d)))}function eS(s,r,a){var d=Ti();vl(s,r,a,d)}function vl(s,r,a,d){var v={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(s))tS(r,v);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=r.lastRenderedReducer,E!==null))try{var L=r.lastRenderedState,P=E(L,a);if(v.hasEagerState=!0,v.eagerState=P,Si(P,L))return Cu(s,r,v,0),Xe===null&&bu(),!1}catch{}finally{}if(a=Ed(s,r,v,d),a!==null)return xi(a,s,d),iS(a,r,d),!0}return!1}function r_(s,r,a,d){if(d={lane:2,revertLane:B_(),action:d,hasEagerState:!1,eagerState:null,next:null},Uu(s)){if(r)throw Error(n(479))}else r=Ed(s,a,d,2),r!==null&&xi(r,s,2)}function Uu(s){var r=s.alternate;return s===xe||r!==null&&r===xe}function tS(s,r){Mo=Lu=!0;var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}function iS(s,r,a){if((a&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,a|=d,r.lanes=a,u0(s,a)}}var Fu={readContext:$t,use:Pu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},nS={readContext:$t,use:Pu,useCallback:function(s,r){return ci().memoizedState=[s,r===void 0?null:r],s},useContext:$t,useEffect:Fy,useImperativeHandle:function(s,r,a){a=a!=null?a.concat([s]):null,Hu(4194308,4,Wy.bind(null,r,s),a)},useLayoutEffect:function(s,r){return Hu(4194308,4,s,r)},useInsertionEffect:function(s,r){Hu(4,2,s,r)},useMemo:function(s,r){var a=ci();r=r===void 0?null:r;var d=s();if(Tr){Bt(!0);try{s()}finally{Bt(!1)}}return a.memoizedState=[d,r],d},useReducer:function(s,r,a){var d=ci();if(a!==void 0){var v=a(r);if(Tr){Bt(!0);try{a(r)}finally{Bt(!1)}}}else v=r;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=w2.bind(null,xe,s),[d.memoizedState,s]},useRef:function(s){var r=ci();return s={current:s},r.memoizedState=s},useState:function(s){s=Jd(s);var r=s.queue,a=eS.bind(null,xe,r);return r.dispatch=a,[s.memoizedState,a]},useDebugValue:t_,useDeferredValue:function(s,r){var a=ci();return i_(a,s,r)},useTransition:function(){var s=Jd(!1);return s=Yy.bind(null,xe,s.queue,!0,!1),ci().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,a){var d=xe,v=ci();if(He){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),Xe===null)throw Error(n(349));(Pe&124)!==0||Ey(d,r,a)}v.memoizedState=a;var E={value:a,getSnapshot:r};return v.queue=E,Fy(xy.bind(null,d,E,s),[s]),d.flags|=2048,Lo(9,Bu(),Ty.bind(null,d,E,a,r),null),a},useId:function(){var s=ci(),r=Xe.identifierPrefix;if(He){var a=Nn,d=Pn;a=(d&~(1<<32-At(d)-1)).toString(32)+a,r=""+r+"R"+a,a=Iu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=g2++,r=""+r+"r"+a.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:s_,useFormState:Py,useActionState:Py,useOptimistic:function(s){var r=ci();r.memoizedState=r.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=r_.bind(null,xe,!0,a),a.dispatch=r,[s,r]},useMemoCache:Xd,useCacheRefresh:function(){return ci().memoizedState=C2.bind(null,xe)}},sS={readContext:$t,use:Pu,useCallback:Gy,useContext:$t,useEffect:zy,useImperativeHandle:qy,useInsertionEffect:Vy,useLayoutEffect:jy,useMemo:$y,useReducer:Nu,useRef:Uy,useState:function(){return Nu(Un)},useDebugValue:t_,useDeferredValue:function(s,r){var a=St();return Ky(a,ze.memoizedState,s,r)},useTransition:function(){var s=Nu(Un)[0],r=St().memoizedState;return[typeof s=="boolean"?s:ml(s),r]},useSyncExternalStore:wy,useId:Zy,useHostTransitionStatus:s_,useFormState:Ny,useActionState:Ny,useOptimistic:function(s,r){var a=St();return Dy(a,ze,s,r)},useMemoCache:Xd,useCacheRefresh:Jy},E2={readContext:$t,use:Pu,useCallback:Gy,useContext:$t,useEffect:zy,useImperativeHandle:qy,useInsertionEffect:Vy,useLayoutEffect:jy,useMemo:$y,useReducer:Zd,useRef:Uy,useState:function(){return Zd(Un)},useDebugValue:t_,useDeferredValue:function(s,r){var a=St();return ze===null?i_(a,s,r):Ky(a,ze.memoizedState,s,r)},useTransition:function(){var s=Zd(Un)[0],r=St().memoizedState;return[typeof s=="boolean"?s:ml(s),r]},useSyncExternalStore:wy,useId:Zy,useHostTransitionStatus:s_,useFormState:Hy,useActionState:Hy,useOptimistic:function(s,r){var a=St();return ze!==null?Dy(a,ze,s,r):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:Jy},Io=null,yl=0;function zu(s){var r=yl;return yl+=1,Io===null&&(Io=[]),py(Io,s,r)}function Sl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Vu(s,r){throw r.$$typeof===p?Error(n(525)):(s=Object.prototype.toString.call(r),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function rS(s){var r=s._init;return r(s._payload)}function oS(s){function r(K,G){if(s){var ee=K.deletions;ee===null?(K.deletions=[G],K.flags|=16):ee.push(G)}}function a(K,G){if(!s)return null;for(;G!==null;)r(K,G),G=G.sibling;return null}function d(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function v(K,G){return K=In(K,G),K.index=0,K.sibling=null,K}function E(K,G,ee){return K.index=ee,s?(ee=K.alternate,ee!==null?(ee=ee.index,ee<G?(K.flags|=67108866,G):ee):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function L(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function P(K,G,ee,ae){return G===null||G.tag!==6?(G=xd(ee,K.mode,ae),G.return=K,G):(G=v(G,ee),G.return=K,G)}function j(K,G,ee,ae){var me=ee.type;return me===T?oe(K,G,ee.props.children,ae,ee.key):G!==null&&(G.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&rS(me)===G.type)?(G=v(G,ee.props),Sl(G,ee),G.return=K,G):(G=Eu(ee.type,ee.key,ee.props,null,K.mode,ae),Sl(G,ee),G.return=K,G)}function te(K,G,ee,ae){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Rd(ee,K.mode,ae),G.return=K,G):(G=v(G,ee.children||[]),G.return=K,G)}function oe(K,G,ee,ae,me){return G===null||G.tag!==7?(G=gr(ee,K.mode,ae,me),G.return=K,G):(G=v(G,ee),G.return=K,G)}function ce(K,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=xd(""+G,K.mode,ee),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case g:return ee=Eu(G.type,G.key,G.props,null,K.mode,ee),Sl(ee,G),ee.return=K,ee;case w:return G=Rd(G,K.mode,ee),G.return=K,G;case R:var ae=G._init;return G=ae(G._payload),ce(K,G,ee)}if(se(G)||W(G))return G=gr(G,K.mode,ee,null),G.return=K,G;if(typeof G.then=="function")return ce(K,zu(G),ee);if(G.$$typeof===m)return ce(K,Au(K,G),ee);Vu(K,G)}return null}function ie(K,G,ee,ae){var me=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return me!==null?null:P(K,G,""+ee,ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case g:return ee.key===me?j(K,G,ee,ae):null;case w:return ee.key===me?te(K,G,ee,ae):null;case R:return me=ee._init,ee=me(ee._payload),ie(K,G,ee,ae)}if(se(ee)||W(ee))return me!==null?null:oe(K,G,ee,ae,null);if(typeof ee.then=="function")return ie(K,G,zu(ee),ae);if(ee.$$typeof===m)return ie(K,G,Au(K,ee),ae);Vu(K,ee)}return null}function ne(K,G,ee,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(ee)||null,P(G,K,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return K=K.get(ae.key===null?ee:ae.key)||null,j(G,K,ae,me);case w:return K=K.get(ae.key===null?ee:ae.key)||null,te(G,K,ae,me);case R:var Ae=ae._init;return ae=Ae(ae._payload),ne(K,G,ee,ae,me)}if(se(ae)||W(ae))return K=K.get(ee)||null,oe(G,K,ae,me,null);if(typeof ae.then=="function")return ne(K,G,ee,zu(ae),me);if(ae.$$typeof===m)return ne(K,G,ee,Au(G,ae),me);Vu(G,ae)}return null}function we(K,G,ee,ae){for(var me=null,Ae=null,ge=G,Se=G=0,Ot=null;ge!==null&&Se<ee.length;Se++){ge.index>Se?(Ot=ge,ge=null):Ot=ge.sibling;var Ne=ie(K,ge,ee[Se],ae);if(Ne===null){ge===null&&(ge=Ot);break}s&&ge&&Ne.alternate===null&&r(K,ge),G=E(Ne,G,Se),Ae===null?me=Ne:Ae.sibling=Ne,Ae=Ne,ge=Ot}if(Se===ee.length)return a(K,ge),He&&yr(K,Se),me;if(ge===null){for(;Se<ee.length;Se++)ge=ce(K,ee[Se],ae),ge!==null&&(G=E(ge,G,Se),Ae===null?me=ge:Ae.sibling=ge,Ae=ge);return He&&yr(K,Se),me}for(ge=d(ge);Se<ee.length;Se++)Ot=ne(ge,K,Se,ee[Se],ae),Ot!==null&&(s&&Ot.alternate!==null&&ge.delete(Ot.key===null?Se:Ot.key),G=E(Ot,G,Se),Ae===null?me=Ot:Ae.sibling=Ot,Ae=Ot);return s&&ge.forEach(function(Os){return r(K,Os)}),He&&yr(K,Se),me}function ye(K,G,ee,ae){if(ee==null)throw Error(n(151));for(var me=null,Ae=null,ge=G,Se=G=0,Ot=null,Ne=ee.next();ge!==null&&!Ne.done;Se++,Ne=ee.next()){ge.index>Se?(Ot=ge,ge=null):Ot=ge.sibling;var Os=ie(K,ge,Ne.value,ae);if(Os===null){ge===null&&(ge=Ot);break}s&&ge&&Os.alternate===null&&r(K,ge),G=E(Os,G,Se),Ae===null?me=Os:Ae.sibling=Os,Ae=Os,ge=Ot}if(Ne.done)return a(K,ge),He&&yr(K,Se),me;if(ge===null){for(;!Ne.done;Se++,Ne=ee.next())Ne=ce(K,Ne.value,ae),Ne!==null&&(G=E(Ne,G,Se),Ae===null?me=Ne:Ae.sibling=Ne,Ae=Ne);return He&&yr(K,Se),me}for(ge=d(ge);!Ne.done;Se++,Ne=ee.next())Ne=ne(ge,K,Se,Ne.value,ae),Ne!==null&&(s&&Ne.alternate!==null&&ge.delete(Ne.key===null?Se:Ne.key),G=E(Ne,G,Se),Ae===null?me=Ne:Ae.sibling=Ne,Ae=Ne);return s&&ge.forEach(function(Tk){return r(K,Tk)}),He&&yr(K,Se),me}function je(K,G,ee,ae){if(typeof ee=="object"&&ee!==null&&ee.type===T&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case g:e:{for(var me=ee.key;G!==null;){if(G.key===me){if(me=ee.type,me===T){if(G.tag===7){a(K,G.sibling),ae=v(G,ee.props.children),ae.return=K,K=ae;break e}}else if(G.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&rS(me)===G.type){a(K,G.sibling),ae=v(G,ee.props),Sl(ae,ee),ae.return=K,K=ae;break e}a(K,G);break}else r(K,G);G=G.sibling}ee.type===T?(ae=gr(ee.props.children,K.mode,ae,ee.key),ae.return=K,K=ae):(ae=Eu(ee.type,ee.key,ee.props,null,K.mode,ae),Sl(ae,ee),ae.return=K,K=ae)}return L(K);case w:e:{for(me=ee.key;G!==null;){if(G.key===me)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){a(K,G.sibling),ae=v(G,ee.children||[]),ae.return=K,K=ae;break e}else{a(K,G);break}else r(K,G);G=G.sibling}ae=Rd(ee,K.mode,ae),ae.return=K,K=ae}return L(K);case R:return me=ee._init,ee=me(ee._payload),je(K,G,ee,ae)}if(se(ee))return we(K,G,ee,ae);if(W(ee)){if(me=W(ee),typeof me!="function")throw Error(n(150));return ee=me.call(ee),ye(K,G,ee,ae)}if(typeof ee.then=="function")return je(K,G,zu(ee),ae);if(ee.$$typeof===m)return je(K,G,Au(K,ee),ae);Vu(K,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(a(K,G.sibling),ae=v(G,ee),ae.return=K,K=ae):(a(K,G),ae=xd(ee,K.mode,ae),ae.return=K,K=ae),L(K)):a(K,G)}return function(K,G,ee,ae){try{yl=0;var me=je(K,G,ee,ae);return Io=null,me}catch(ge){if(ge===ul||ge===ku)throw ge;var Ae=bi(29,ge,null,K.mode);return Ae.lanes=ae,Ae.return=K,Ae}finally{}}}var Po=oS(!0),aS=oS(!1),Fi=N(null),_n=null;function gs(s){var r=s.alternate;X(Tt,Tt.current&1),X(Fi,s),_n===null&&(r===null||ko.current!==null||r.memoizedState!==null)&&(_n=s)}function lS(s){if(s.tag===22){if(X(Tt,Tt.current),X(Fi,s),_n===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(_n=s)}}else vs()}function vs(){X(Tt,Tt.current),X(Fi,Fi.current)}function Fn(s){F(Fi),_n===s&&(_n=null),F(Tt)}var Tt=N(0);function ju(s){for(var r=s;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Y_(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function o_(s,r,a,d){r=s.memoizedState,a=a(d,r),a=a==null?r:_({},r,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var a_={enqueueSetState:function(s,r,a){s=s._reactInternals;var d=Ti(),v=_s(d);v.payload=r,a!=null&&(v.callback=a),r=ps(s,v,d),r!==null&&(xi(r,s,d),fl(r,s,d))},enqueueReplaceState:function(s,r,a){s=s._reactInternals;var d=Ti(),v=_s(d);v.tag=1,v.payload=r,a!=null&&(v.callback=a),r=ps(s,v,d),r!==null&&(xi(r,s,d),fl(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var a=Ti(),d=_s(a);d.tag=2,r!=null&&(d.callback=r),r=ps(s,d,a),r!==null&&(xi(r,s,a),fl(r,s,a))}};function cS(s,r,a,d,v,E,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,E,L):r.prototype&&r.prototype.isPureReactComponent?!il(a,d)||!il(v,E):!0}function uS(s,r,a,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==s&&a_.enqueueReplaceState(r,r.state,null)}function xr(s,r){var a=r;if("ref"in r){a={};for(var d in r)d!=="ref"&&(a[d]=r[d])}if(s=s.defaultProps){a===r&&(a=_({},a));for(var v in s)a[v]===void 0&&(a[v]=s[v])}return a}var Wu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function hS(s){Wu(s)}function fS(s){console.error(s)}function dS(s){Wu(s)}function qu(s,r){try{var a=s.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function _S(s,r,a){try{var d=s.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function l_(s,r,a){return a=_s(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(s,r)},a}function pS(s){return s=_s(s),s.tag=3,s}function mS(s,r,a,d){var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var E=d.value;s.payload=function(){return v(E)},s.callback=function(){_S(r,a,d)}}var L=a.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){_S(r,a,d),typeof v!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function T2(s,r,a,d,v){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=a.alternate,r!==null&&al(r,a,v,!0),a=Fi.current,a!==null){switch(a.tag){case 13:return _n===null?O_():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=v,d===Bd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([d]):r.add(d),I_(s,d,v)),!1;case 22:return a.flags|=65536,d===Bd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([d]):a.add(d)),I_(s,d,v)),!1}throw Error(n(435,a.tag))}return I_(s,d,v),O_(),!1}if(He)return r=Fi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,d!==kd&&(s=Error(n(422),{cause:d}),ol(Ni(s,a)))):(d!==kd&&(r=Error(n(423),{cause:d}),ol(Ni(r,a))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=Ni(d,a),v=l_(s.stateNode,d,v),Fd(s,v),ut!==4&&(ut=2)),!1;var E=Error(n(520),{cause:d});if(E=Ni(E,a),Rl===null?Rl=[E]:Rl.push(E),ut!==4&&(ut=2),r===null)return!0;d=Ni(d,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,s=v&-v,a.lanes|=s,s=l_(a.stateNode,d,s),Fd(a,s),!1;case 1:if(r=a.type,E=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Es===null||!Es.has(E))))return a.flags|=65536,v&=-v,a.lanes|=v,v=pS(v),mS(v,s,a,d),Fd(a,v),!1}a=a.return}while(a!==null);return!1}var gS=Error(n(461)),kt=!1;function Ht(s,r,a,d){r.child=s===null?aS(r,null,a,d):Po(r,s.child,a,d)}function vS(s,r,a,d,v){a=a.render;var E=r.ref;if("ref"in d){var L={};for(var P in d)P!=="ref"&&(L[P]=d[P])}else L=d;return wr(r),d=qd(s,r,a,L,E,v),P=Gd(),s!==null&&!kt?($d(s,r,v),zn(s,r,v)):(He&&P&&Ad(r),r.flags|=1,Ht(s,r,d,v),r.child)}function yS(s,r,a,d,v){if(s===null){var E=a.type;return typeof E=="function"&&!Td(E)&&E.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=E,SS(s,r,E,d,v)):(s=Eu(a.type,null,d,r,r.mode,v),s.ref=r.ref,s.return=r,r.child=s)}if(E=s.child,!m_(s,v)){var L=E.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(L,d)&&s.ref===r.ref)return zn(s,r,v)}return r.flags|=1,s=In(E,d),s.ref=r.ref,s.return=r,r.child=s}function SS(s,r,a,d,v){if(s!==null){var E=s.memoizedProps;if(il(E,d)&&s.ref===r.ref)if(kt=!1,r.pendingProps=d=E,m_(s,v))(s.flags&131072)!==0&&(kt=!0);else return r.lanes=s.lanes,zn(s,r,v)}return c_(s,r,a,d,v)}function bS(s,r,a){var d=r.pendingProps,v=d.children,E=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=E!==null?E.baseLanes|a:a,s!==null){for(v=r.child=s.child,E=0;v!==null;)E=E|v.lanes|v.childLanes,v=v.sibling;r.childLanes=E&~d}else r.childLanes=0,r.child=null;return CS(s,r,d,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Du(r,E!==null?E.cachePool:null),E!==null?Sy(r,E):Vd(),lS(r);else return r.lanes=r.childLanes=536870912,CS(s,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(Du(r,E.cachePool),Sy(r,E),vs(),r.memoizedState=null):(s!==null&&Du(r,null),Vd(),vs());return Ht(s,r,v,a),r.child}function CS(s,r,a,d){var v=Nd();return v=v===null?null:{parent:Et._currentValue,pool:v},r.memoizedState={baseLanes:a,cachePool:v},s!==null&&Du(r,null),Vd(),lS(r),s!==null&&al(s,r,d,!0),null}function Gu(s,r){var a=r.ref;if(a===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(s===null||s.ref!==a)&&(r.flags|=4194816)}}function c_(s,r,a,d,v){return wr(r),a=qd(s,r,a,d,void 0,v),d=Gd(),s!==null&&!kt?($d(s,r,v),zn(s,r,v)):(He&&d&&Ad(r),r.flags|=1,Ht(s,r,a,v),r.child)}function wS(s,r,a,d,v,E){return wr(r),r.updateQueue=null,a=Cy(r,d,a,v),by(s),d=Gd(),s!==null&&!kt?($d(s,r,E),zn(s,r,E)):(He&&d&&Ad(r),r.flags|=1,Ht(s,r,a,E),r.child)}function ES(s,r,a,d,v){if(wr(r),r.stateNode===null){var E=To,L=a.contextType;typeof L=="object"&&L!==null&&(E=$t(L)),E=new a(d,E),r.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=a_,r.stateNode=E,E._reactInternals=r,E=r.stateNode,E.props=d,E.state=r.memoizedState,E.refs={},Hd(r),L=a.contextType,E.context=typeof L=="object"&&L!==null?$t(L):To,E.state=r.memoizedState,L=a.getDerivedStateFromProps,typeof L=="function"&&(o_(r,a,L,d),E.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(L=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),L!==E.state&&a_.enqueueReplaceState(E,E.state,null),_l(r,d,E,v),dl(),E.state=r.memoizedState),typeof E.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){E=r.stateNode;var P=r.memoizedProps,j=xr(a,P);E.props=j;var te=E.context,oe=a.contextType;L=To,typeof oe=="object"&&oe!==null&&(L=$t(oe));var ce=a.getDerivedStateFromProps;oe=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P||te!==L)&&uS(r,E,d,L),ds=!1;var ie=r.memoizedState;E.state=ie,_l(r,d,E,v),dl(),te=r.memoizedState,P||ie!==te||ds?(typeof ce=="function"&&(o_(r,a,ce,d),te=r.memoizedState),(j=ds||cS(r,a,j,d,ie,te,L))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(r.flags|=4194308)):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=te),E.props=d,E.state=te,E.context=L,d=j):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{E=r.stateNode,Ud(s,r),L=r.memoizedProps,oe=xr(a,L),E.props=oe,ce=r.pendingProps,ie=E.context,te=a.contextType,j=To,typeof te=="object"&&te!==null&&(j=$t(te)),P=a.getDerivedStateFromProps,(te=typeof P=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==ce||ie!==j)&&uS(r,E,d,j),ds=!1,ie=r.memoizedState,E.state=ie,_l(r,d,E,v),dl();var ne=r.memoizedState;L!==ce||ie!==ne||ds||s!==null&&s.dependencies!==null&&Ru(s.dependencies)?(typeof P=="function"&&(o_(r,a,P,d),ne=r.memoizedState),(oe=ds||cS(r,a,oe,d,ie,ne,j)||s!==null&&s.dependencies!==null&&Ru(s.dependencies))?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ne,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ne,j)),typeof E.componentDidUpdate=="function"&&(r.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ne),E.props=d,E.state=ne,E.context=j,d=oe):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(r.flags|=1024),d=!1)}return E=d,Gu(s,r),d=(r.flags&128)!==0,E||d?(E=r.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:E.render(),r.flags|=1,s!==null&&d?(r.child=Po(r,s.child,null,v),r.child=Po(r,null,a,v)):Ht(s,r,a,v),r.memoizedState=E.state,s=r.child):s=zn(s,r,v),s}function TS(s,r,a,d){return rl(),r.flags|=256,Ht(s,r,a,d),r.child}var u_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h_(s){return{baseLanes:s,cachePool:fy()}}function f_(s,r,a){return s=s!==null?s.childLanes&~a:0,r&&(s|=zi),s}function xS(s,r,a){var d=r.pendingProps,v=!1,E=(r.flags&128)!==0,L;if((L=E)||(L=s!==null&&s.memoizedState===null?!1:(Tt.current&2)!==0),L&&(v=!0,r.flags&=-129),L=(r.flags&32)!==0,r.flags&=-33,s===null){if(He){if(v?gs(r):vs(),He){var P=ct,j;if(j=P){e:{for(j=P,P=dn;j.nodeType!==8;){if(!P){P=null;break e}if(j=sn(j.nextSibling),j===null){P=null;break e}}P=j}P!==null?(r.memoizedState={dehydrated:P,treeContext:vr!==null?{id:Pn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},j=bi(18,null,null,0),j.stateNode=P,j.return=r,r.child=j,ti=r,ct=null,j=!0):j=!1}j||br(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Y_(P)?r.lanes=32:r.lanes=536870912,null;Fn(r)}return P=d.children,d=d.fallback,v?(vs(),v=r.mode,P=$u({mode:"hidden",children:P},v),d=gr(d,v,a,null),P.return=r,d.return=r,P.sibling=d,r.child=P,v=r.child,v.memoizedState=h_(a),v.childLanes=f_(s,L,a),r.memoizedState=u_,d):(gs(r),d_(r,P))}if(j=s.memoizedState,j!==null&&(P=j.dehydrated,P!==null)){if(E)r.flags&256?(gs(r),r.flags&=-257,r=__(s,r,a)):r.memoizedState!==null?(vs(),r.child=s.child,r.flags|=128,r=null):(vs(),v=d.fallback,P=r.mode,d=$u({mode:"visible",children:d.children},P),v=gr(v,P,a,null),v.flags|=2,d.return=r,v.return=r,d.sibling=v,r.child=d,Po(r,s.child,null,a),d=r.child,d.memoizedState=h_(a),d.childLanes=f_(s,L,a),r.memoizedState=u_,r=v);else if(gs(r),Y_(P)){if(L=P.nextSibling&&P.nextSibling.dataset,L)var te=L.dgst;L=te,d=Error(n(419)),d.stack="",d.digest=L,ol({value:d,source:null,stack:null}),r=__(s,r,a)}else if(kt||al(s,r,a,!1),L=(a&s.childLanes)!==0,kt||L){if(L=Xe,L!==null&&(d=a&-a,d=(d&42)!==0?1:Xf(d),d=(d&(L.suspendedLanes|a))!==0?0:d,d!==0&&d!==j.retryLane))throw j.retryLane=d,Eo(s,d),xi(L,s,d),gS;P.data==="$?"||O_(),r=__(s,r,a)}else P.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,ct=sn(P.nextSibling),ti=r,He=!0,Sr=null,dn=!1,s!==null&&(Hi[Ui++]=Pn,Hi[Ui++]=Nn,Hi[Ui++]=vr,Pn=s.id,Nn=s.overflow,vr=r),r=d_(r,d.children),r.flags|=4096);return r}return v?(vs(),v=d.fallback,P=r.mode,j=s.child,te=j.sibling,d=In(j,{mode:"hidden",children:d.children}),d.subtreeFlags=j.subtreeFlags&65011712,te!==null?v=In(te,v):(v=gr(v,P,a,null),v.flags|=2),v.return=r,d.return=r,d.sibling=v,r.child=d,d=v,v=r.child,P=s.child.memoizedState,P===null?P=h_(a):(j=P.cachePool,j!==null?(te=Et._currentValue,j=j.parent!==te?{parent:te,pool:te}:j):j=fy(),P={baseLanes:P.baseLanes|a,cachePool:j}),v.memoizedState=P,v.childLanes=f_(s,L,a),r.memoizedState=u_,d):(gs(r),a=s.child,s=a.sibling,a=In(a,{mode:"visible",children:d.children}),a.return=r,a.sibling=null,s!==null&&(L=r.deletions,L===null?(r.deletions=[s],r.flags|=16):L.push(s)),r.child=a,r.memoizedState=null,a)}function d_(s,r){return r=$u({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function $u(s,r){return s=bi(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function __(s,r,a){return Po(r,s.child,null,a),s=d_(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function RS(s,r,a){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),Od(s.return,r,a)}function p_(s,r,a,d,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:v}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=a,E.tailMode=v)}function AS(s,r,a){var d=r.pendingProps,v=d.revealOrder,E=d.tail;if(Ht(s,r,d.children,a),d=Tt.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&RS(s,a,r);else if(s.tag===19)RS(s,a,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(X(Tt,d),v){case"forwards":for(a=r.child,v=null;a!==null;)s=a.alternate,s!==null&&ju(s)===null&&(v=a),a=a.sibling;a=v,a===null?(v=r.child,r.child=null):(v=a.sibling,a.sibling=null),p_(r,!1,v,a,E);break;case"backwards":for(a=null,v=r.child,r.child=null;v!==null;){if(s=v.alternate,s!==null&&ju(s)===null){r.child=v;break}s=v.sibling,v.sibling=a,a=v,v=s}p_(r,!0,a,null,E);break;case"together":p_(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zn(s,r,a){if(s!==null&&(r.dependencies=s.dependencies),ws|=r.lanes,(a&r.childLanes)===0)if(s!==null){if(al(s,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(n(153));if(r.child!==null){for(s=r.child,a=In(s,s.pendingProps),r.child=a,a.return=r;s.sibling!==null;)s=s.sibling,a=a.sibling=In(s,s.pendingProps),a.return=r;a.sibling=null}return r.child}function m_(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ru(s)))}function x2(s,r,a){switch(r.tag){case 3:B(r,r.stateNode.containerInfo),fs(r,Et,s.memoizedState.cache),rl();break;case 27:case 5:ue(r);break;case 4:B(r,r.stateNode.containerInfo);break;case 10:fs(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(gs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?xS(s,r,a):(gs(r),s=zn(s,r,a),s!==null?s.sibling:null);gs(r);break;case 19:var v=(s.flags&128)!==0;if(d=(a&r.childLanes)!==0,d||(al(s,r,a,!1),d=(a&r.childLanes)!==0),v){if(d)return AS(s,r,a);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),X(Tt,Tt.current),d)break;return null;case 22:case 23:return r.lanes=0,bS(s,r,a);case 24:fs(r,Et,s.memoizedState.cache)}return zn(s,r,a)}function DS(s,r,a){if(s!==null)if(s.memoizedProps!==r.pendingProps)kt=!0;else{if(!m_(s,a)&&(r.flags&128)===0)return kt=!1,x2(s,r,a);kt=(s.flags&131072)!==0}else kt=!1,He&&(r.flags&1048576)!==0&&ry(r,xu,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var d=r.elementType,v=d._init;if(d=v(d._payload),r.type=d,typeof d=="function")Td(d)?(s=xr(d,s),r.tag=1,r=ES(null,r,d,s,a)):(r.tag=0,r=c_(null,r,d,s,a));else{if(d!=null){if(v=d.$$typeof,v===x){r.tag=11,r=vS(null,r,d,s,a);break e}else if(v===k){r.tag=14,r=yS(null,r,d,s,a);break e}}throw r=J(d)||d,Error(n(306,r,""))}}return r;case 0:return c_(s,r,r.type,r.pendingProps,a);case 1:return d=r.type,v=xr(d,r.pendingProps),ES(s,r,d,v,a);case 3:e:{if(B(r,r.stateNode.containerInfo),s===null)throw Error(n(387));d=r.pendingProps;var E=r.memoizedState;v=E.element,Ud(s,r),_l(r,d,null,a);var L=r.memoizedState;if(d=L.cache,fs(r,Et,d),d!==E.cache&&Ld(r,[Et],a,!0),dl(),d=L.element,E.isDehydrated)if(E={element:d,isDehydrated:!1,cache:L.cache},r.updateQueue.baseState=E,r.memoizedState=E,r.flags&256){r=TS(s,r,d,a);break e}else if(d!==v){v=Ni(Error(n(424)),r),ol(v),r=TS(s,r,d,a);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ct=sn(s.firstChild),ti=r,He=!0,Sr=null,dn=!0,a=aS(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),d===v){r=zn(s,r,a);break e}Ht(s,r,d,a)}r=r.child}return r;case 26:return Gu(s,r),s===null?(a=L1(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,s=r.pendingProps,d=ah(fe.current).createElement(a),d[Gt]=r,d[ai]=s,Ft(d,a,s),Dt(d),r.stateNode=d):r.memoizedState=L1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ue(r),s===null&&He&&(d=r.stateNode=k1(r.type,r.pendingProps,fe.current),ti=r,dn=!0,v=ct,Rs(r.type)?(X_=v,ct=sn(d.firstChild)):ct=v),Ht(s,r,r.pendingProps.children,a),Gu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&He&&((v=d=ct)&&(d=ek(d,r.type,r.pendingProps,dn),d!==null?(r.stateNode=d,ti=r,ct=sn(d.firstChild),dn=!1,v=!0):v=!1),v||br(r)),ue(r),v=r.type,E=r.pendingProps,L=s!==null?s.memoizedProps:null,d=E.children,G_(v,E)?d=null:L!==null&&G_(v,L)&&(r.flags|=32),r.memoizedState!==null&&(v=qd(s,r,v2,null,null,a),Nl._currentValue=v),Gu(s,r),Ht(s,r,d,a),r.child;case 6:return s===null&&He&&((s=a=ct)&&(a=tk(a,r.pendingProps,dn),a!==null?(r.stateNode=a,ti=r,ct=null,s=!0):s=!1),s||br(r)),null;case 13:return xS(s,r,a);case 4:return B(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=Po(r,null,d,a):Ht(s,r,d,a),r.child;case 11:return vS(s,r,r.type,r.pendingProps,a);case 7:return Ht(s,r,r.pendingProps,a),r.child;case 8:return Ht(s,r,r.pendingProps.children,a),r.child;case 12:return Ht(s,r,r.pendingProps.children,a),r.child;case 10:return d=r.pendingProps,fs(r,r.type,d.value),Ht(s,r,d.children,a),r.child;case 9:return v=r.type._context,d=r.pendingProps.children,wr(r),v=$t(v),d=d(v),r.flags|=1,Ht(s,r,d,a),r.child;case 14:return yS(s,r,r.type,r.pendingProps,a);case 15:return SS(s,r,r.type,r.pendingProps,a);case 19:return AS(s,r,a);case 31:return d=r.pendingProps,a=r.mode,d={mode:d.mode,children:d.children},s===null?(a=$u(d,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=In(s.child,d),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return bS(s,r,a);case 24:return wr(r),d=$t(Et),s===null?(v=Nd(),v===null&&(v=Xe,E=Id(),v.pooledCache=E,E.refCount++,E!==null&&(v.pooledCacheLanes|=a),v=E),r.memoizedState={parent:d,cache:v},Hd(r),fs(r,Et,v)):((s.lanes&a)!==0&&(Ud(s,r),_l(r,null,null,a),dl()),v=s.memoizedState,E=r.memoizedState,v.parent!==d?(v={parent:d,cache:d},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),fs(r,Et,d)):(d=E.cache,fs(r,Et,d),d!==v.cache&&Ld(r,[Et],a,!0))),Ht(s,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function Vn(s){s.flags|=4}function kS(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!H1(r)){if(r=Fi.current,r!==null&&((Pe&4194048)===Pe?_n!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==_n))throw hl=Bd,dy;s.flags|=8192}}function Ku(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?l0():536870912,s.lanes|=r,Uo|=r)}function bl(s,r){if(!He)switch(s.tailMode){case"hidden":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function st(s){var r=s.alternate!==null&&s.alternate.child===s.child,a=0,d=0;if(r)for(var v=s.child;v!==null;)a|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)a|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=a,r}function R2(s,r,a){var d=r.pendingProps;switch(Dd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Hn(Et),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(sl(r)?Vn(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ly())),st(r),null;case 26:return a=r.memoizedState,s===null?(Vn(r),a!==null?(st(r),kS(r,a)):(st(r),r.flags&=-16777217)):a?a!==s.memoizedState?(Vn(r),st(r),kS(r,a)):(st(r),r.flags&=-16777217):(s.memoizedProps!==d&&Vn(r),st(r),r.flags&=-16777217),null;case 27:pe(r),a=fe.current;var v=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&Vn(r);else{if(!d){if(r.stateNode===null)throw Error(n(166));return st(r),null}s=re.current,sl(r)?oy(r):(s=k1(v,d,a),r.stateNode=s,Vn(r))}return st(r),null;case 5:if(pe(r),a=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&Vn(r);else{if(!d){if(r.stateNode===null)throw Error(n(166));return st(r),null}if(s=re.current,sl(r))oy(r);else{switch(v=ah(fe.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(a,{is:d.is}):v.createElement(a)}}s[Gt]=r,s[ai]=d;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=s;e:switch(Ft(s,a,d),a){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Vn(r)}}return st(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&Vn(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(n(166));if(s=fe.current,sl(r)){if(s=r.stateNode,a=r.memoizedProps,d=null,v=ti,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[Gt]=r,s=!!(s.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||w1(s.nodeValue,a)),s||br(r)}else s=ah(s).createTextNode(d),s[Gt]=r,r.stateNode=s}return st(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=sl(r),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Gt]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),v=!1}else v=ly(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(Fn(r),r):(Fn(r),null)}if(Fn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=d!==null,s=s!==null&&s.memoizedState!==null,a){d=r.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var E=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==v&&(d.flags|=2048)}return a!==s&&a&&(r.child.flags|=8192),Ku(r,r.updateQueue),st(r),null;case 4:return le(),s===null&&z_(r.stateNode.containerInfo),st(r),null;case 10:return Hn(r.type),st(r),null;case 19:if(F(Tt),v=r.memoizedState,v===null)return st(r),null;if(d=(r.flags&128)!==0,E=v.rendering,E===null)if(d)bl(v,!1);else{if(ut!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(E=ju(s),E!==null){for(r.flags|=128,bl(v,!1),s=E.updateQueue,r.updateQueue=s,Ku(r,s),r.subtreeFlags=0,s=a,a=r.child;a!==null;)sy(a,s),a=a.sibling;return X(Tt,Tt.current&1|2),r.child}s=s.sibling}v.tail!==null&&ve()>Qu&&(r.flags|=128,d=!0,bl(v,!1),r.lanes=4194304)}else{if(!d)if(s=ju(E),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,Ku(r,s),bl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!He)return st(r),null}else 2*ve()-v.renderingStartTime>Qu&&a!==536870912&&(r.flags|=128,d=!0,bl(v,!1),r.lanes=4194304);v.isBackwards?(E.sibling=r.child,r.child=E):(s=v.last,s!==null?s.sibling=E:r.child=E,v.last=E)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=ve(),r.sibling=null,s=Tt.current,X(Tt,d?s&1|2:s&1),r):(st(r),null);case 22:case 23:return Fn(r),jd(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Ku(r,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==a&&(r.flags|=2048),s!==null&&F(Er),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hn(Et),st(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function A2(s,r){switch(Dd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Hn(Et),le(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return pe(r),null;case 13:if(Fn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(n(340));rl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return F(Tt),null;case 4:return le(),null;case 10:return Hn(r.type),null;case 22:case 23:return Fn(r),jd(),s!==null&&F(Er),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Hn(Et),null;case 25:return null;default:return null}}function MS(s,r){switch(Dd(r),r.tag){case 3:Hn(Et),le();break;case 26:case 27:case 5:pe(r);break;case 4:le();break;case 13:Fn(r);break;case 19:F(Tt);break;case 10:Hn(r.type);break;case 22:case 23:Fn(r),jd(),s!==null&&F(Er);break;case 24:Hn(Et)}}function Cl(s,r){try{var a=r.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var v=d.next;a=v;do{if((a.tag&s)===s){d=void 0;var E=a.create,L=a.inst;d=E(),L.destroy=d}a=a.next}while(a!==v)}}catch(P){Ge(r,r.return,P)}}function ys(s,r,a){try{var d=r.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var E=v.next;d=E;do{if((d.tag&s)===s){var L=d.inst,P=L.destroy;if(P!==void 0){L.destroy=void 0,v=r;var j=a,te=P;try{te()}catch(oe){Ge(v,j,oe)}}}d=d.next}while(d!==E)}}catch(oe){Ge(r,r.return,oe)}}function OS(s){var r=s.updateQueue;if(r!==null){var a=s.stateNode;try{yy(r,a)}catch(d){Ge(s,s.return,d)}}}function LS(s,r,a){a.props=xr(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(d){Ge(s,r,d)}}function wl(s,r){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof a=="function"?s.refCleanup=a(d):a.current=d}}catch(v){Ge(s,r,v)}}function pn(s,r){var a=s.ref,d=s.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(v){Ge(s,r,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(v){Ge(s,r,v)}else a.current=null}function IS(s){var r=s.type,a=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(v){Ge(s,s.return,v)}}function g_(s,r,a){try{var d=s.stateNode;Y2(d,s.type,a,r),d[ai]=r}catch(v){Ge(s,s.return,v)}}function PS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Rs(s.type)||s.tag===4}function v_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||PS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Rs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function y_(s,r,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(s),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=oh));else if(d!==4&&(d===27&&Rs(s.type)&&(a=s.stateNode,r=null),s=s.child,s!==null))for(y_(s,r,a),s=s.sibling;s!==null;)y_(s,r,a),s=s.sibling}function Yu(s,r,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?a.insertBefore(s,r):a.appendChild(s);else if(d!==4&&(d===27&&Rs(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(Yu(s,r,a),s=s.sibling;s!==null;)Yu(s,r,a),s=s.sibling}function NS(s){var r=s.stateNode,a=s.memoizedProps;try{for(var d=s.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Ft(r,d,a),r[Gt]=s,r[ai]=a}catch(E){Ge(s,s.return,E)}}var jn=!1,mt=!1,S_=!1,BS=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function D2(s,r){if(s=s.containerInfo,W_=dh,s=K0(s),vd(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var v=d.anchorOffset,E=d.focusNode;d=d.focusOffset;try{a.nodeType,E.nodeType}catch{a=null;break e}var L=0,P=-1,j=-1,te=0,oe=0,ce=s,ie=null;t:for(;;){for(var ne;ce!==a||v!==0&&ce.nodeType!==3||(P=L+v),ce!==E||d!==0&&ce.nodeType!==3||(j=L+d),ce.nodeType===3&&(L+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ie=ce,ce=ne;for(;;){if(ce===s)break t;if(ie===a&&++te===v&&(P=L),ie===E&&++oe===d&&(j=L),(ne=ce.nextSibling)!==null)break;ce=ie,ie=ce.parentNode}ce=ne}a=P===-1||j===-1?null:{start:P,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(q_={focusedElem:s,selectionRange:a},dh=!1,Mt=r;Mt!==null;)if(r=Mt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Mt=s;else for(;Mt!==null;){switch(r=Mt,E=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,a=r,v=E.memoizedProps,E=E.memoizedState,d=a.stateNode;try{var we=xr(a.type,v,a.elementType===a.type);s=d.getSnapshotBeforeUpdate(we,E),d.__reactInternalSnapshotBeforeUpdate=s}catch(ye){Ge(a,a.return,ye)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,a=s.nodeType,a===9)K_(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":K_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=r.sibling,s!==null){s.return=r.return,Mt=s;break}Mt=r.return}}function HS(s,r,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(s,a),d&4&&Cl(5,a);break;case 1:if(Ss(s,a),d&4)if(s=a.stateNode,r===null)try{s.componentDidMount()}catch(L){Ge(a,a.return,L)}else{var v=xr(a.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(v,r,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Ge(a,a.return,L)}}d&64&&OS(a),d&512&&wl(a,a.return);break;case 3:if(Ss(s,a),d&64&&(s=a.updateQueue,s!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{yy(s,r)}catch(L){Ge(a,a.return,L)}}break;case 27:r===null&&d&4&&NS(a);case 26:case 5:Ss(s,a),r===null&&d&4&&IS(a),d&512&&wl(a,a.return);break;case 12:Ss(s,a);break;case 13:Ss(s,a),d&4&&zS(s,a),d&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=H2.bind(null,a),ik(s,a))));break;case 22:if(d=a.memoizedState!==null||jn,!d){r=r!==null&&r.memoizedState!==null||mt,v=jn;var E=mt;jn=d,(mt=r)&&!E?bs(s,a,(a.subtreeFlags&8772)!==0):Ss(s,a),jn=v,mt=E}break;case 30:break;default:Ss(s,a)}}function US(s){var r=s.alternate;r!==null&&(s.alternate=null,US(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Jf(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tt=null,ui=!1;function Wn(s,r,a){for(a=a.child;a!==null;)FS(s,r,a),a=a.sibling}function FS(s,r,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(en,a)}catch{}switch(a.tag){case 26:mt||pn(a,r),Wn(s,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||pn(a,r);var d=tt,v=ui;Rs(a.type)&&(tt=a.stateNode,ui=!1),Wn(s,r,a),Ol(a.stateNode),tt=d,ui=v;break;case 5:mt||pn(a,r);case 6:if(d=tt,v=ui,tt=null,Wn(s,r,a),tt=d,ui=v,tt!==null)if(ui)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(E){Ge(a,r,E)}else try{tt.removeChild(a.stateNode)}catch(E){Ge(a,r,E)}break;case 18:tt!==null&&(ui?(s=tt,A1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),Fl(s)):A1(tt,a.stateNode));break;case 4:d=tt,v=ui,tt=a.stateNode.containerInfo,ui=!0,Wn(s,r,a),tt=d,ui=v;break;case 0:case 11:case 14:case 15:mt||ys(2,a,r),mt||ys(4,a,r),Wn(s,r,a);break;case 1:mt||(pn(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"&&LS(a,r,d)),Wn(s,r,a);break;case 21:Wn(s,r,a);break;case 22:mt=(d=mt)||a.memoizedState!==null,Wn(s,r,a),mt=d;break;default:Wn(s,r,a)}}function zS(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fl(s)}catch(a){Ge(r,r.return,a)}}function k2(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new BS),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new BS),r;default:throw Error(n(435,s.tag))}}function b_(s,r){var a=k2(s);r.forEach(function(d){var v=U2.bind(null,s,d);a.has(d)||(a.add(d),d.then(v,v))})}function Ci(s,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var v=a[d],E=s,L=r,P=L;e:for(;P!==null;){switch(P.tag){case 27:if(Rs(P.type)){tt=P.stateNode,ui=!1;break e}break;case 5:tt=P.stateNode,ui=!1;break e;case 3:case 4:tt=P.stateNode.containerInfo,ui=!0;break e}P=P.return}if(tt===null)throw Error(n(160));FS(E,L,v),tt=null,ui=!1,E=v.alternate,E!==null&&(E.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)VS(r,s),r=r.sibling}var nn=null;function VS(s,r){var a=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ci(r,s),wi(s),d&4&&(ys(3,s,s.return),Cl(3,s),ys(5,s,s.return));break;case 1:Ci(r,s),wi(s),d&512&&(mt||a===null||pn(a,a.return)),d&64&&jn&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var v=nn;if(Ci(r,s),wi(s),d&512&&(mt||a===null||pn(a,a.return)),d&4){var E=a!==null?a.memoizedState:null;if(d=s.memoizedState,a===null)if(d===null)if(s.stateNode===null){e:{d=s.type,a=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":E=v.getElementsByTagName("title")[0],(!E||E[$a]||E[Gt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=v.createElement(d),v.head.insertBefore(E,v.querySelector("head > title"))),Ft(E,d,a),E[Gt]=s,Dt(E),d=E;break e;case"link":var L=N1("link","href",v).get(d+(a.href||""));if(L){for(var P=0;P<L.length;P++)if(E=L[P],E.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&E.getAttribute("rel")===(a.rel==null?null:a.rel)&&E.getAttribute("title")===(a.title==null?null:a.title)&&E.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){L.splice(P,1);break t}}E=v.createElement(d),Ft(E,d,a),v.head.appendChild(E);break;case"meta":if(L=N1("meta","content",v).get(d+(a.content||""))){for(P=0;P<L.length;P++)if(E=L[P],E.getAttribute("content")===(a.content==null?null:""+a.content)&&E.getAttribute("name")===(a.name==null?null:a.name)&&E.getAttribute("property")===(a.property==null?null:a.property)&&E.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&E.getAttribute("charset")===(a.charSet==null?null:a.charSet)){L.splice(P,1);break t}}E=v.createElement(d),Ft(E,d,a),v.head.appendChild(E);break;default:throw Error(n(468,d))}E[Gt]=s,Dt(E),d=E}s.stateNode=d}else B1(v,s.type,s.stateNode);else s.stateNode=P1(v,d,s.memoizedProps);else E!==d?(E===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):E.count--,d===null?B1(v,s.type,s.stateNode):P1(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&g_(s,s.memoizedProps,a.memoizedProps)}break;case 27:Ci(r,s),wi(s),d&512&&(mt||a===null||pn(a,a.return)),a!==null&&d&4&&g_(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Ci(r,s),wi(s),d&512&&(mt||a===null||pn(a,a.return)),s.flags&32){v=s.stateNode;try{go(v,"")}catch(ne){Ge(s,s.return,ne)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,g_(s,v,a!==null?a.memoizedProps:v)),d&1024&&(S_=!0);break;case 6:if(Ci(r,s),wi(s),d&4){if(s.stateNode===null)throw Error(n(162));d=s.memoizedProps,a=s.stateNode;try{a.nodeValue=d}catch(ne){Ge(s,s.return,ne)}}break;case 3:if(uh=null,v=nn,nn=lh(r.containerInfo),Ci(r,s),nn=v,wi(s),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(ne){Ge(s,s.return,ne)}S_&&(S_=!1,jS(s));break;case 4:d=nn,nn=lh(s.stateNode.containerInfo),Ci(r,s),wi(s),nn=d;break;case 12:Ci(r,s),wi(s);break;case 13:Ci(r,s),wi(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(R_=ve()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,b_(s,d)));break;case 22:v=s.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,te=jn,oe=mt;if(jn=te||v,mt=oe||j,Ci(r,s),mt=oe,jn=te,wi(s),d&8192)e:for(r=s.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(a===null||j||jn||mt||Rr(s)),a=null,r=s;;){if(r.tag===5||r.tag===26){if(a===null){j=a=r;try{if(E=j.stateNode,v)L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{P=j.stateNode;var ce=j.memoizedProps.style,ie=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;P.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ne){Ge(j,j.return,ne)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=v?"":j.memoizedProps}catch(ne){Ge(j,j.return,ne)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,b_(s,a))));break;case 19:Ci(r,s),wi(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,b_(s,d)));break;case 30:break;case 21:break;default:Ci(r,s),wi(s)}}function wi(s){var r=s.flags;if(r&2){try{for(var a,d=s.return;d!==null;){if(PS(d)){a=d;break}d=d.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var v=a.stateNode,E=v_(s);Yu(s,E,v);break;case 5:var L=a.stateNode;a.flags&32&&(go(L,""),a.flags&=-33);var P=v_(s);Yu(s,P,L);break;case 3:case 4:var j=a.stateNode.containerInfo,te=v_(s);y_(s,te,j);break;default:throw Error(n(161))}}catch(oe){Ge(s,s.return,oe)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function jS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;jS(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ss(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)HS(s,r.alternate,r),r=r.sibling}function Rr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ys(4,r,r.return),Rr(r);break;case 1:pn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&LS(r,r.return,a),Rr(r);break;case 27:Ol(r.stateNode);case 26:case 5:pn(r,r.return),Rr(r);break;case 22:r.memoizedState===null&&Rr(r);break;case 30:Rr(r);break;default:Rr(r)}s=s.sibling}}function bs(s,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,v=s,E=r,L=E.flags;switch(E.tag){case 0:case 11:case 15:bs(v,E,a),Cl(4,E);break;case 1:if(bs(v,E,a),d=E,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(te){Ge(d,d.return,te)}if(d=E,v=d.updateQueue,v!==null){var P=d.stateNode;try{var j=v.shared.hiddenCallbacks;if(j!==null)for(v.shared.hiddenCallbacks=null,v=0;v<j.length;v++)vy(j[v],P)}catch(te){Ge(d,d.return,te)}}a&&L&64&&OS(E),wl(E,E.return);break;case 27:NS(E);case 26:case 5:bs(v,E,a),a&&d===null&&L&4&&IS(E),wl(E,E.return);break;case 12:bs(v,E,a);break;case 13:bs(v,E,a),a&&L&4&&zS(v,E);break;case 22:E.memoizedState===null&&bs(v,E,a),wl(E,E.return);break;case 30:break;default:bs(v,E,a)}r=r.sibling}}function C_(s,r){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&ll(a))}function w_(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ll(s))}function mn(s,r,a,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)WS(s,r,a,d),r=r.sibling}function WS(s,r,a,d){var v=r.flags;switch(r.tag){case 0:case 11:case 15:mn(s,r,a,d),v&2048&&Cl(9,r);break;case 1:mn(s,r,a,d);break;case 3:mn(s,r,a,d),v&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ll(s)));break;case 12:if(v&2048){mn(s,r,a,d),s=r.stateNode;try{var E=r.memoizedProps,L=E.id,P=E.onPostCommit;typeof P=="function"&&P(L,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){Ge(r,r.return,j)}}else mn(s,r,a,d);break;case 13:mn(s,r,a,d);break;case 23:break;case 22:E=r.stateNode,L=r.alternate,r.memoizedState!==null?E._visibility&2?mn(s,r,a,d):El(s,r):E._visibility&2?mn(s,r,a,d):(E._visibility|=2,No(s,r,a,d,(r.subtreeFlags&10256)!==0)),v&2048&&C_(L,r);break;case 24:mn(s,r,a,d),v&2048&&w_(r.alternate,r);break;default:mn(s,r,a,d)}}function No(s,r,a,d,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var E=s,L=r,P=a,j=d,te=L.flags;switch(L.tag){case 0:case 11:case 15:No(E,L,P,j,v),Cl(8,L);break;case 23:break;case 22:var oe=L.stateNode;L.memoizedState!==null?oe._visibility&2?No(E,L,P,j,v):El(E,L):(oe._visibility|=2,No(E,L,P,j,v)),v&&te&2048&&C_(L.alternate,L);break;case 24:No(E,L,P,j,v),v&&te&2048&&w_(L.alternate,L);break;default:No(E,L,P,j,v)}r=r.sibling}}function El(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=s,d=r,v=d.flags;switch(d.tag){case 22:El(a,d),v&2048&&C_(d.alternate,d);break;case 24:El(a,d),v&2048&&w_(d.alternate,d);break;default:El(a,d)}r=r.sibling}}var Tl=8192;function Bo(s){if(s.subtreeFlags&Tl)for(s=s.child;s!==null;)qS(s),s=s.sibling}function qS(s){switch(s.tag){case 26:Bo(s),s.flags&Tl&&s.memoizedState!==null&&pk(nn,s.memoizedState,s.memoizedProps);break;case 5:Bo(s);break;case 3:case 4:var r=nn;nn=lh(s.stateNode.containerInfo),Bo(s),nn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,Bo(s),Tl=r):Bo(s));break;default:Bo(s)}}function GS(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function xl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];Mt=d,KS(d,s)}GS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$S(s),s=s.sibling}function $S(s){switch(s.tag){case 0:case 11:case 15:xl(s),s.flags&2048&&ys(9,s,s.return);break;case 3:xl(s);break;case 12:xl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Xu(s)):xl(s);break;default:xl(s)}}function Xu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];Mt=d,KS(d,s)}GS(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ys(8,r,r.return),Xu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(r));break;default:Xu(r)}s=s.sibling}}function KS(s,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:ys(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ll(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,Mt=d;else e:for(a=s;Mt!==null;){d=Mt;var v=d.sibling,E=d.return;if(US(d),d===a){Mt=null;break e}if(v!==null){v.return=E,Mt=v;break e}Mt=E}}}var M2={getCacheForType:function(s){var r=$t(Et),a=r.data.get(s);return a===void 0&&(a=s(),r.data.set(s,a)),a}},O2=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Xe=null,ke=null,Pe=0,Fe=0,Ei=null,Cs=!1,Ho=!1,E_=!1,qn=0,ut=0,ws=0,Ar=0,T_=0,zi=0,Uo=0,Rl=null,hi=null,x_=!1,R_=0,Qu=1/0,Zu=null,Es=null,Ut=0,Ts=null,Fo=null,zo=0,A_=0,D_=null,YS=null,Al=0,k_=null;function Ti(){if((Ue&2)!==0&&Pe!==0)return Pe&-Pe;if(V.T!==null){var s=Ao;return s!==0?s:B_()}return h0()}function XS(){zi===0&&(zi=(Pe&536870912)===0||He?a0():536870912);var s=Fi.current;return s!==null&&(s.flags|=32),zi}function xi(s,r,a){(s===Xe&&(Fe===2||Fe===9)||s.cancelPendingCommit!==null)&&(Vo(s,0),xs(s,Pe,zi,!1)),Ga(s,a),((Ue&2)===0||s!==Xe)&&(s===Xe&&((Ue&2)===0&&(Ar|=a),ut===4&&xs(s,Pe,zi,!1)),gn(s))}function QS(s,r,a){if((Ue&6)!==0)throw Error(n(327));var d=!a&&(r&124)===0&&(r&s.expiredLanes)===0||qa(s,r),v=d?P2(s,r):L_(s,r,!0),E=d;do{if(v===0){Ho&&!d&&xs(s,r,0,!1);break}else{if(a=s.current.alternate,E&&!L2(a)){v=L_(s,r,!1),E=!1;continue}if(v===2){if(E=r,s.errorRecoveryDisabledLanes&E)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){r=L;e:{var P=s;v=Rl;var j=P.current.memoizedState.isDehydrated;if(j&&(Vo(P,L).flags|=256),L=L_(P,L,!1),L!==2){if(E_&&!j){P.errorRecoveryDisabledLanes|=E,Ar|=E,v=4;break e}E=hi,hi=v,E!==null&&(hi===null?hi=E:hi.push.apply(hi,E))}v=L}if(E=!1,v!==2)continue}}if(v===1){Vo(s,0),xs(s,r,0,!0);break}e:{switch(d=s,E=v,E){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:xs(d,r,zi,!Cs);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(v=R_+300-ve(),10<v)){if(xs(d,r,zi,!Cs),cu(d,0,!0)!==0)break e;d.timeoutHandle=x1(ZS.bind(null,d,a,hi,Zu,x_,r,zi,Ar,Uo,Cs,E,2,-0,0),v);break e}ZS(d,a,hi,Zu,x_,r,zi,Ar,Uo,Cs,E,0,-0,0)}}break}while(!0);gn(s)}function ZS(s,r,a,d,v,E,L,P,j,te,oe,ce,ie,ne){if(s.timeoutHandle=-1,ce=r.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:_k},qS(r),ce=mk(),ce!==null)){s.cancelPendingCommit=ce(r1.bind(null,s,r,E,a,d,v,L,P,j,oe,1,ie,ne)),xs(s,E,L,!te);return}r1(s,r,E,a,d,v,L,P,j)}function L2(s){for(var r=s;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var v=a[d],E=v.getSnapshot;v=v.value;try{if(!Si(E(),v))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xs(s,r,a,d){r&=~T_,r&=~Ar,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var v=r;0<v;){var E=31-At(v),L=1<<E;d[E]=-1,v&=~L}a!==0&&c0(s,a,r)}function Ju(){return(Ue&6)===0?(Dl(0),!1):!0}function M_(){if(ke!==null){if(Fe===0)var s=ke.return;else s=ke,Bn=Cr=null,Kd(s),Io=null,yl=0,s=ke;for(;s!==null;)MS(s.alternate,s),s=s.return;ke=null}}function Vo(s,r){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,Q2(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),M_(),Xe=s,ke=a=In(s.current,null),Pe=r,Fe=0,Ei=null,Cs=!1,Ho=qa(s,r),E_=!1,Uo=zi=T_=Ar=ws=ut=0,hi=Rl=null,x_=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var v=31-At(d),E=1<<v;r|=s[v],d&=~E}return qn=r,bu(),a}function JS(s,r){xe=null,V.H=Fu,r===ul||r===ku?(r=my(),Fe=3):r===dy?(r=my(),Fe=4):Fe=r===gS?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ei=r,ke===null&&(ut=1,qu(s,Ni(r,s.current)))}function e1(){var s=V.H;return V.H=Fu,s===null?Fu:s}function t1(){var s=V.A;return V.A=M2,s}function O_(){ut=4,Cs||(Pe&4194048)!==Pe&&Fi.current!==null||(Ho=!0),(ws&134217727)===0&&(Ar&134217727)===0||Xe===null||xs(Xe,Pe,zi,!1)}function L_(s,r,a){var d=Ue;Ue|=2;var v=e1(),E=t1();(Xe!==s||Pe!==r)&&(Zu=null,Vo(s,r)),r=!1;var L=ut;e:do try{if(Fe!==0&&ke!==null){var P=ke,j=Ei;switch(Fe){case 8:M_(),L=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(r=!0);var te=Fe;if(Fe=0,Ei=null,jo(s,P,j,te),a&&Ho){L=0;break e}break;default:te=Fe,Fe=0,Ei=null,jo(s,P,j,te)}}I2(),L=ut;break}catch(oe){JS(s,oe)}while(!0);return r&&s.shellSuspendCounter++,Bn=Cr=null,Ue=d,V.H=v,V.A=E,ke===null&&(Xe=null,Pe=0,bu()),L}function I2(){for(;ke!==null;)i1(ke)}function P2(s,r){var a=Ue;Ue|=2;var d=e1(),v=t1();Xe!==s||Pe!==r?(Zu=null,Qu=ve()+500,Vo(s,r)):Ho=qa(s,r);e:do try{if(Fe!==0&&ke!==null){r=ke;var E=Ei;t:switch(Fe){case 1:Fe=0,Ei=null,jo(s,r,E,1);break;case 2:case 9:if(_y(E)){Fe=0,Ei=null,n1(r);break}r=function(){Fe!==2&&Fe!==9||Xe!==s||(Fe=7),gn(s)},E.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:_y(E)?(Fe=0,Ei=null,n1(r)):(Fe=0,Ei=null,jo(s,r,E,7));break;case 5:var L=null;switch(ke.tag){case 26:L=ke.memoizedState;case 5:case 27:var P=ke;if(!L||H1(L)){Fe=0,Ei=null;var j=P.sibling;if(j!==null)ke=j;else{var te=P.return;te!==null?(ke=te,eh(te)):ke=null}break t}}Fe=0,Ei=null,jo(s,r,E,5);break;case 6:Fe=0,Ei=null,jo(s,r,E,6);break;case 8:M_(),ut=6;break e;default:throw Error(n(462))}}N2();break}catch(oe){JS(s,oe)}while(!0);return Bn=Cr=null,V.H=d,V.A=v,Ue=a,ke!==null?0:(Xe=null,Pe=0,bu(),ut)}function N2(){for(;ke!==null&&!et();)i1(ke)}function i1(s){var r=DS(s.alternate,s,qn);s.memoizedProps=s.pendingProps,r===null?eh(s):ke=r}function n1(s){var r=s,a=r.alternate;switch(r.tag){case 15:case 0:r=wS(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=wS(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Kd(r);default:MS(a,r),r=ke=sy(r,qn),r=DS(a,r,qn)}s.memoizedProps=s.pendingProps,r===null?eh(s):ke=r}function jo(s,r,a,d){Bn=Cr=null,Kd(r),Io=null,yl=0;var v=r.return;try{if(T2(s,v,r,a,Pe)){ut=1,qu(s,Ni(a,s.current)),ke=null;return}}catch(E){if(v!==null)throw ke=v,E;ut=1,qu(s,Ni(a,s.current)),ke=null;return}r.flags&32768?(He||d===1?s=!0:Ho||(Pe&536870912)!==0?s=!1:(Cs=s=!0,(d===2||d===9||d===3||d===6)&&(d=Fi.current,d!==null&&d.tag===13&&(d.flags|=16384))),s1(r,s)):eh(r)}function eh(s){var r=s;do{if((r.flags&32768)!==0){s1(r,Cs);return}s=r.return;var a=R2(r.alternate,r,qn);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=s}while(r!==null);ut===0&&(ut=5)}function s1(s,r){do{var a=A2(s.alternate,s);if(a!==null){a.flags&=32767,ke=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(s=s.sibling,s!==null)){ke=s;return}ke=s=a}while(s!==null);ut=6,ke=null}function r1(s,r,a,d,v,E,L,P,j){s.cancelPendingCommit=null;do th();while(Ut!==0);if((Ue&6)!==0)throw Error(n(327));if(r!==null){if(r===s.current)throw Error(n(177));if(E=r.lanes|r.childLanes,E|=wd,_D(s,a,E,L,P,j),s===Xe&&(ke=Xe=null,Pe=0),Fo=r,Ts=s,zo=a,A_=E,D_=v,YS=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,F2(cs,function(){return u1(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=V.T,V.T=null,v=$.p,$.p=2,L=Ue,Ue|=4;try{D2(s,r,a)}finally{Ue=L,$.p=v,V.T=d}}Ut=1,o1(),a1(),l1()}}function o1(){if(Ut===1){Ut=0;var s=Ts,r=Fo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var d=$.p;$.p=2;var v=Ue;Ue|=4;try{VS(r,s);var E=q_,L=K0(s.containerInfo),P=E.focusedElem,j=E.selectionRange;if(L!==P&&P&&P.ownerDocument&&$0(P.ownerDocument.documentElement,P)){if(j!==null&&vd(P)){var te=j.start,oe=j.end;if(oe===void 0&&(oe=te),"selectionStart"in P)P.selectionStart=te,P.selectionEnd=Math.min(oe,P.value.length);else{var ce=P.ownerDocument||document,ie=ce&&ce.defaultView||window;if(ie.getSelection){var ne=ie.getSelection(),we=P.textContent.length,ye=Math.min(j.start,we),je=j.end===void 0?ye:Math.min(j.end,we);!ne.extend&&ye>je&&(L=je,je=ye,ye=L);var K=G0(P,ye),G=G0(P,je);if(K&&G&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var ee=ce.createRange();ee.setStart(K.node,K.offset),ne.removeAllRanges(),ye>je?(ne.addRange(ee),ne.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),ne.addRange(ee))}}}}for(ce=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ce.length;P++){var ae=ce[P];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}dh=!!W_,q_=W_=null}finally{Ue=v,$.p=d,V.T=a}}s.current=r,Ut=2}}function a1(){if(Ut===2){Ut=0;var s=Ts,r=Fo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var d=$.p;$.p=2;var v=Ue;Ue|=4;try{HS(s,r.alternate,r)}finally{Ue=v,$.p=d,V.T=a}}Ut=3}}function l1(){if(Ut===4||Ut===3){Ut=0,qt();var s=Ts,r=Fo,a=zo,d=YS;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Fo=Ts=null,c1(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Es=null),Qf(a),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(en,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=V.T,v=$.p,$.p=2,V.T=null;try{for(var E=s.onRecoverableError,L=0;L<d.length;L++){var P=d[L];E(P.value,{componentStack:P.stack})}}finally{V.T=r,$.p=v}}(zo&3)!==0&&th(),gn(s),v=s.pendingLanes,(a&4194090)!==0&&(v&42)!==0?s===k_?Al++:(Al=0,k_=s):Al=0,Dl(0)}}function c1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,ll(r)))}function th(s){return o1(),a1(),l1(),u1()}function u1(){if(Ut!==5)return!1;var s=Ts,r=A_;A_=0;var a=Qf(zo),d=V.T,v=$.p;try{$.p=32>a?32:a,V.T=null,a=D_,D_=null;var E=Ts,L=zo;if(Ut=0,Fo=Ts=null,zo=0,(Ue&6)!==0)throw Error(n(331));var P=Ue;if(Ue|=4,$S(E.current),WS(E,E.current,L,a),Ue=P,Dl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(en,E)}catch{}return!0}finally{$.p=v,V.T=d,c1(s,r)}}function h1(s,r,a){r=Ni(a,r),r=l_(s.stateNode,r,2),s=ps(s,r,2),s!==null&&(Ga(s,2),gn(s))}function Ge(s,r,a){if(s.tag===3)h1(s,s,a);else for(;r!==null;){if(r.tag===3){h1(r,s,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))){s=Ni(a,s),a=pS(2),d=ps(r,a,2),d!==null&&(mS(a,d,r,s),Ga(d,2),gn(d));break}}r=r.return}}function I_(s,r,a){var d=s.pingCache;if(d===null){d=s.pingCache=new O2;var v=new Set;d.set(r,v)}else v=d.get(r),v===void 0&&(v=new Set,d.set(r,v));v.has(a)||(E_=!0,v.add(a),s=B2.bind(null,s,r,a),r.then(s,s))}function B2(s,r,a){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Xe===s&&(Pe&a)===a&&(ut===4||ut===3&&(Pe&62914560)===Pe&&300>ve()-R_?(Ue&2)===0&&Vo(s,0):T_|=a,Uo===Pe&&(Uo=0)),gn(s)}function f1(s,r){r===0&&(r=l0()),s=Eo(s,r),s!==null&&(Ga(s,r),gn(s))}function H2(s){var r=s.memoizedState,a=0;r!==null&&(a=r.retryLane),f1(s,a)}function U2(s,r){var a=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(a=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(r),f1(s,a)}function F2(s,r){return Re(s,r)}var ih=null,Wo=null,P_=!1,nh=!1,N_=!1,Dr=0;function gn(s){s!==Wo&&s.next===null&&(Wo===null?ih=Wo=s:Wo=Wo.next=s),nh=!0,P_||(P_=!0,V2())}function Dl(s,r){if(!N_&&nh){N_=!0;do for(var a=!1,d=ih;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var E=0;else{var L=d.suspendedLanes,P=d.pingedLanes;E=(1<<31-At(42|s)+1)-1,E&=v&~(L&~P),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(a=!0,m1(d,E))}else E=Pe,E=cu(d,d===Xe?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(E&3)===0||qa(d,E)||(a=!0,m1(d,E));d=d.next}while(a);N_=!1}}function z2(){d1()}function d1(){nh=P_=!1;var s=0;Dr!==0&&(X2()&&(s=Dr),Dr=0);for(var r=ve(),a=null,d=ih;d!==null;){var v=d.next,E=_1(d,r);E===0?(d.next=null,a===null?ih=v:a.next=v,v===null&&(Wo=a)):(a=d,(s!==0||(E&3)!==0)&&(nh=!0)),d=v}Dl(s)}function _1(s,r){for(var a=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var L=31-At(E),P=1<<L,j=v[L];j===-1?((P&a)===0||(P&d)!==0)&&(v[L]=dD(P,r)):j<=r&&(s.expiredLanes|=P),E&=~P}if(r=Xe,a=Pe,a=cu(s,s===r?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,a===0||s===r&&(Fe===2||Fe===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ye(d),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||qa(s,a)){if(r=a&-a,r===s.callbackPriority)return r;switch(d!==null&&Ye(d),Qf(a)){case 2:case 8:a=oo;break;case 32:a=cs;break;case 268435456:a=ei;break;default:a=cs}return d=p1.bind(null,s),a=Re(a,d),s.callbackPriority=r,s.callbackNode=a,r}return d!==null&&d!==null&&Ye(d),s.callbackPriority=2,s.callbackNode=null,2}function p1(s,r){if(Ut!==0&&Ut!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(th()&&s.callbackNode!==a)return null;var d=Pe;return d=cu(s,s===Xe?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(QS(s,d,r),_1(s,ve()),s.callbackNode!=null&&s.callbackNode===a?p1.bind(null,s):null)}function m1(s,r){if(th())return null;QS(s,r,!0)}function V2(){Z2(function(){(Ue&6)!==0?Re(ro,z2):d1()})}function B_(){return Dr===0&&(Dr=a0()),Dr}function g1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_u(""+s)}function v1(s,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,s.id&&a.setAttribute("form",s.id),r.parentNode.insertBefore(a,r),s=new FormData(s),a.parentNode.removeChild(a),s}function j2(s,r,a,d,v){if(r==="submit"&&a&&a.stateNode===v){var E=g1((v[ai]||null).action),L=d.submitter;L&&(r=(r=L[ai]||null)?g1(r.formAction):L.getAttribute("formAction"),r!==null&&(E=r,L=null));var P=new vu("action","action",null,d,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Dr!==0){var j=L?v1(v,L):new FormData(v);n_(a,{pending:!0,data:j,method:v.method,action:E},null,j)}}else typeof E=="function"&&(P.preventDefault(),j=L?v1(v,L):new FormData(v),n_(a,{pending:!0,data:j,method:v.method,action:E},E,j))},currentTarget:v}]})}}for(var H_=0;H_<Cd.length;H_++){var U_=Cd[H_],W2=U_.toLowerCase(),q2=U_[0].toUpperCase()+U_.slice(1);tn(W2,"on"+q2)}tn(Q0,"onAnimationEnd"),tn(Z0,"onAnimationIteration"),tn(J0,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(l2,"onTransitionRun"),tn(c2,"onTransitionStart"),tn(u2,"onTransitionCancel"),tn(ey,"onTransitionEnd"),_o("onMouseEnter",["mouseout","mouseover"]),_o("onMouseLeave",["mouseout","mouseover"]),_o("onPointerEnter",["pointerout","pointerover"]),_o("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function y1(s,r){r=(r&4)!==0;for(var a=0;a<s.length;a++){var d=s[a],v=d.event;d=d.listeners;e:{var E=void 0;if(r)for(var L=d.length-1;0<=L;L--){var P=d[L],j=P.instance,te=P.currentTarget;if(P=P.listener,j!==E&&v.isPropagationStopped())break e;E=P,v.currentTarget=te;try{E(v)}catch(oe){Wu(oe)}v.currentTarget=null,E=j}else for(L=0;L<d.length;L++){if(P=d[L],j=P.instance,te=P.currentTarget,P=P.listener,j!==E&&v.isPropagationStopped())break e;E=P,v.currentTarget=te;try{E(v)}catch(oe){Wu(oe)}v.currentTarget=null,E=j}}}}function Me(s,r){var a=r[Zf];a===void 0&&(a=r[Zf]=new Set);var d=s+"__bubble";a.has(d)||(S1(r,s,2,!1),a.add(d))}function F_(s,r,a){var d=0;r&&(d|=4),S1(a,s,d,r)}var sh="_reactListening"+Math.random().toString(36).slice(2);function z_(s){if(!s[sh]){s[sh]=!0,d0.forEach(function(a){a!=="selectionchange"&&(G2.has(a)||F_(a,!1,s),F_(a,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[sh]||(r[sh]=!0,F_("selectionchange",!1,r))}}function S1(s,r,a,d){switch(W1(r)){case 2:var v=yk;break;case 8:v=Sk;break;default:v=tp}a=v.bind(null,r,a,s),v=void 0,!cd||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(r,a,{capture:!0,passive:v}):s.addEventListener(r,a,!0):v!==void 0?s.addEventListener(r,a,{passive:v}):s.addEventListener(r,a,!1)}function V_(s,r,a,d,v){var E=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var L=d.tag;if(L===3||L===4){var P=d.stateNode.containerInfo;if(P===v)break;if(L===4)for(L=d.return;L!==null;){var j=L.tag;if((j===3||j===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;P!==null;){if(L=uo(P),L===null)return;if(j=L.tag,j===5||j===6||j===26||j===27){d=E=L;continue e}P=P.parentNode}}d=d.return}R0(function(){var te=E,oe=ad(a),ce=[];e:{var ie=ty.get(s);if(ie!==void 0){var ne=vu,we=s;switch(s){case"keypress":if(mu(a)===0)break e;case"keydown":case"keyup":ne=FD;break;case"focusin":we="focus",ne=dd;break;case"focusout":we="blur",ne=dd;break;case"beforeblur":case"afterblur":ne=dd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=AD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=jD;break;case Q0:case Z0:case J0:ne=MD;break;case ey:ne=qD;break;case"scroll":case"scrollend":ne=xD;break;case"wheel":ne=$D;break;case"copy":case"cut":case"paste":ne=LD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=O0;break;case"toggle":case"beforetoggle":ne=YD}var ye=(r&4)!==0,je=!ye&&(s==="scroll"||s==="scrollend"),K=ye?ie!==null?ie+"Capture":null:ie;ye=[];for(var G=te,ee;G!==null;){var ae=G;if(ee=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||ee===null||K===null||(ae=Ya(G,K),ae!=null&&ye.push(Ml(G,ae,ee))),je)break;G=G.return}0<ye.length&&(ie=new ne(ie,we,null,a,oe),ce.push({event:ie,listeners:ye}))}}if((r&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",ie&&a!==od&&(we=a.relatedTarget||a.fromElement)&&(uo(we)||we[co]))break e;if((ne||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ne?(we=a.relatedTarget||a.toElement,ne=te,we=we?uo(we):null,we!==null&&(je=l(we),ye=we.tag,we!==je||ye!==5&&ye!==27&&ye!==6)&&(we=null)):(ne=null,we=te),ne!==we)){if(ye=k0,ae="onMouseLeave",K="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ye=O0,ae="onPointerLeave",K="onPointerEnter",G="pointer"),je=ne==null?ie:Ka(ne),ee=we==null?ie:Ka(we),ie=new ye(ae,G+"leave",ne,a,oe),ie.target=je,ie.relatedTarget=ee,ae=null,uo(oe)===te&&(ye=new ye(K,G+"enter",we,a,oe),ye.target=ee,ye.relatedTarget=je,ae=ye),je=ae,ne&&we)t:{for(ye=ne,K=we,G=0,ee=ye;ee;ee=qo(ee))G++;for(ee=0,ae=K;ae;ae=qo(ae))ee++;for(;0<G-ee;)ye=qo(ye),G--;for(;0<ee-G;)K=qo(K),ee--;for(;G--;){if(ye===K||K!==null&&ye===K.alternate)break t;ye=qo(ye),K=qo(K)}ye=null}else ye=null;ne!==null&&b1(ce,ie,ne,ye,!1),we!==null&&je!==null&&b1(ce,je,we,ye,!0)}}e:{if(ie=te?Ka(te):window,ne=ie.nodeName&&ie.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ie.type==="file")var me=F0;else if(H0(ie))if(z0)me=r2;else{me=n2;var Ae=i2}else ne=ie.nodeName,!ne||ne.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&rd(te.elementType)&&(me=F0):me=s2;if(me&&(me=me(s,te))){U0(ce,me,a,oe);break e}Ae&&Ae(s,ie,te),s==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&sd(ie,"number",ie.value)}switch(Ae=te?Ka(te):window,s){case"focusin":(H0(Ae)||Ae.contentEditable==="true")&&(bo=Ae,yd=te,nl=null);break;case"focusout":nl=yd=bo=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Y0(ce,a,oe);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":Y0(ce,a,oe)}var ge;if(pd)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else So?N0(s,a)&&(Se="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(L0&&a.locale!=="ko"&&(So||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&So&&(ge=A0()):(hs=oe,ud="value"in hs?hs.value:hs.textContent,So=!0)),Ae=rh(te,Se),0<Ae.length&&(Se=new M0(Se,s,null,a,oe),ce.push({event:Se,listeners:Ae}),ge?Se.data=ge:(ge=B0(a),ge!==null&&(Se.data=ge)))),(ge=QD?ZD(s,a):JD(s,a))&&(Se=rh(te,"onBeforeInput"),0<Se.length&&(Ae=new M0("onBeforeInput","beforeinput",null,a,oe),ce.push({event:Ae,listeners:Se}),Ae.data=ge)),j2(ce,s,te,a,oe)}y1(ce,r)})}function Ml(s,r,a){return{instance:s,listener:r,currentTarget:a}}function rh(s,r){for(var a=r+"Capture",d=[];s!==null;){var v=s,E=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||E===null||(v=Ya(s,a),v!=null&&d.unshift(Ml(s,v,E)),v=Ya(s,r),v!=null&&d.push(Ml(s,v,E))),s.tag===3)return d;s=s.return}return[]}function qo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function b1(s,r,a,d,v){for(var E=r._reactName,L=[];a!==null&&a!==d;){var P=a,j=P.alternate,te=P.stateNode;if(P=P.tag,j!==null&&j===d)break;P!==5&&P!==26&&P!==27||te===null||(j=te,v?(te=Ya(a,E),te!=null&&L.unshift(Ml(a,te,j))):v||(te=Ya(a,E),te!=null&&L.push(Ml(a,te,j)))),a=a.return}L.length!==0&&s.push({event:r,listeners:L})}var $2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function C1(s){return(typeof s=="string"?s:""+s).replace($2,`
`).replace(K2,"")}function w1(s,r){return r=C1(r),C1(s)===r}function oh(){}function Ve(s,r,a,d,v,E){switch(a){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||go(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&go(s,""+d);break;case"className":hu(s,"class",d);break;case"tabIndex":hu(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":hu(s,a,d);break;case"style":T0(s,d,E);break;case"data":if(r!=="object"){hu(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||a!=="href")){s.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=_u(""+d),s.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(a==="formAction"?(r!=="input"&&Ve(s,r,"name",v.name,v,null),Ve(s,r,"formEncType",v.formEncType,v,null),Ve(s,r,"formMethod",v.formMethod,v,null),Ve(s,r,"formTarget",v.formTarget,v,null)):(Ve(s,r,"encType",v.encType,v,null),Ve(s,r,"method",v.method,v,null),Ve(s,r,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(a);break}d=_u(""+d),s.setAttribute(a,d);break;case"onClick":d!=null&&(s.onclick=oh);break;case"onScroll":d!=null&&Me("scroll",s);break;case"onScrollEnd":d!=null&&Me("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(a=d.__html,a!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=a}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}a=_u(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""+d):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":d===!0?s.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(a,d):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(a,d):s.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(a):s.setAttribute(a,d);break;case"popover":Me("beforetoggle",s),Me("toggle",s),uu(s,"popover",d);break;case"xlinkActuate":On(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":On(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":On(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":On(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":On(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":On(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":On(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":On(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":On(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":uu(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ED.get(a)||a,uu(s,a,d))}}function j_(s,r,a,d,v,E){switch(a){case"style":T0(s,d,E);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(a=d.__html,a!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=a}}break;case"children":typeof d=="string"?go(s,d):(typeof d=="number"||typeof d=="bigint")&&go(s,""+d);break;case"onScroll":d!=null&&Me("scroll",s);break;case"onScrollEnd":d!=null&&Me("scrollend",s);break;case"onClick":d!=null&&(s.onclick=oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_0.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(v=a.endsWith("Capture"),r=a.slice(2,v?a.length-7:void 0),E=s[ai]||null,E=E!=null?E[a]:null,typeof E=="function"&&s.removeEventListener(r,E,v),typeof d=="function")){typeof E!="function"&&E!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(r,d,v);break e}a in s?s[a]=d:d===!0?s.setAttribute(a,""):uu(s,a,d)}}}function Ft(s,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",s),Me("load",s);var d=!1,v=!1,E;for(E in a)if(a.hasOwnProperty(E)){var L=a[E];if(L!=null)switch(E){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Ve(s,r,E,L,a,null)}}v&&Ve(s,r,"srcSet",a.srcSet,a,null),d&&Ve(s,r,"src",a.src,a,null);return;case"input":Me("invalid",s);var P=E=L=v=null,j=null,te=null;for(d in a)if(a.hasOwnProperty(d)){var oe=a[d];if(oe!=null)switch(d){case"name":v=oe;break;case"type":L=oe;break;case"checked":j=oe;break;case"defaultChecked":te=oe;break;case"value":E=oe;break;case"defaultValue":P=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,r));break;default:Ve(s,r,d,oe,a,null)}}b0(s,E,P,j,te,L,v,!1),fu(s);return;case"select":Me("invalid",s),d=L=E=null;for(v in a)if(a.hasOwnProperty(v)&&(P=a[v],P!=null))switch(v){case"value":E=P;break;case"defaultValue":L=P;break;case"multiple":d=P;default:Ve(s,r,v,P,a,null)}r=E,a=L,s.multiple=!!d,r!=null?mo(s,!!d,r,!1):a!=null&&mo(s,!!d,a,!0);return;case"textarea":Me("invalid",s),E=v=d=null;for(L in a)if(a.hasOwnProperty(L)&&(P=a[L],P!=null))switch(L){case"value":d=P;break;case"defaultValue":v=P;break;case"children":E=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:Ve(s,r,L,P,a,null)}w0(s,d,v,E),fu(s);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(d=a[j],d!=null))switch(j){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ve(s,r,j,d,a,null)}return;case"dialog":Me("beforetoggle",s),Me("toggle",s),Me("cancel",s),Me("close",s);break;case"iframe":case"object":Me("load",s);break;case"video":case"audio":for(d=0;d<kl.length;d++)Me(kl[d],s);break;case"image":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"embed":case"source":case"link":Me("error",s),Me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in a)if(a.hasOwnProperty(te)&&(d=a[te],d!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Ve(s,r,te,d,a,null)}return;default:if(rd(r)){for(oe in a)a.hasOwnProperty(oe)&&(d=a[oe],d!==void 0&&j_(s,r,oe,d,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(d=a[P],d!=null&&Ve(s,r,P,d,a,null))}function Y2(s,r,a,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,E=null,L=null,P=null,j=null,te=null,oe=null;for(ne in a){var ce=a[ne];if(a.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":j=ce;default:d.hasOwnProperty(ne)||Ve(s,r,ne,null,d,ce)}}for(var ie in d){var ne=d[ie];if(ce=a[ie],d.hasOwnProperty(ie)&&(ne!=null||ce!=null))switch(ie){case"type":E=ne;break;case"name":v=ne;break;case"checked":te=ne;break;case"defaultChecked":oe=ne;break;case"value":L=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,r));break;default:ne!==ce&&Ve(s,r,ie,ne,d,ce)}}nd(s,L,P,j,te,oe,E,v);return;case"select":ne=L=P=ie=null;for(E in a)if(j=a[E],a.hasOwnProperty(E)&&j!=null)switch(E){case"value":break;case"multiple":ne=j;default:d.hasOwnProperty(E)||Ve(s,r,E,null,d,j)}for(v in d)if(E=d[v],j=a[v],d.hasOwnProperty(v)&&(E!=null||j!=null))switch(v){case"value":ie=E;break;case"defaultValue":P=E;break;case"multiple":L=E;default:E!==j&&Ve(s,r,v,E,d,j)}r=P,a=L,d=ne,ie!=null?mo(s,!!a,ie,!1):!!d!=!!a&&(r!=null?mo(s,!!a,r,!0):mo(s,!!a,a?[]:"",!1));return;case"textarea":ne=ie=null;for(P in a)if(v=a[P],a.hasOwnProperty(P)&&v!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ve(s,r,P,null,d,v)}for(L in d)if(v=d[L],E=a[L],d.hasOwnProperty(L)&&(v!=null||E!=null))switch(L){case"value":ie=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==E&&Ve(s,r,L,v,d,E)}C0(s,ie,ne);return;case"option":for(var we in a)if(ie=a[we],a.hasOwnProperty(we)&&ie!=null&&!d.hasOwnProperty(we))switch(we){case"selected":s.selected=!1;break;default:Ve(s,r,we,null,d,ie)}for(j in d)if(ie=d[j],ne=a[j],d.hasOwnProperty(j)&&ie!==ne&&(ie!=null||ne!=null))switch(j){case"selected":s.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Ve(s,r,j,ie,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)ie=a[ye],a.hasOwnProperty(ye)&&ie!=null&&!d.hasOwnProperty(ye)&&Ve(s,r,ye,null,d,ie);for(te in d)if(ie=d[te],ne=a[te],d.hasOwnProperty(te)&&ie!==ne&&(ie!=null||ne!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,r));break;default:Ve(s,r,te,ie,d,ne)}return;default:if(rd(r)){for(var je in a)ie=a[je],a.hasOwnProperty(je)&&ie!==void 0&&!d.hasOwnProperty(je)&&j_(s,r,je,void 0,d,ie);for(oe in d)ie=d[oe],ne=a[oe],!d.hasOwnProperty(oe)||ie===ne||ie===void 0&&ne===void 0||j_(s,r,oe,ie,d,ne);return}}for(var K in a)ie=a[K],a.hasOwnProperty(K)&&ie!=null&&!d.hasOwnProperty(K)&&Ve(s,r,K,null,d,ie);for(ce in d)ie=d[ce],ne=a[ce],!d.hasOwnProperty(ce)||ie===ne||ie==null&&ne==null||Ve(s,r,ce,ie,d,ne)}var W_=null,q_=null;function ah(s){return s.nodeType===9?s:s.ownerDocument}function E1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function G_(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $_=null;function X2(){var s=window.event;return s&&s.type==="popstate"?s===$_?!1:($_=s,!0):($_=null,!1)}var x1=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(s){return R1.resolve(null).then(s).catch(J2)}:x1;function J2(s){setTimeout(function(){throw s})}function Rs(s){return s==="head"}function A1(s,r){var a=r,d=0,v=0;do{var E=a.nextSibling;if(s.removeChild(a),E&&E.nodeType===8)if(a=E.data,a==="/$"){if(0<d&&8>d){a=d;var L=s.ownerDocument;if(a&1&&Ol(L.documentElement),a&2&&Ol(L.body),a&4)for(a=L.head,Ol(a),L=a.firstChild;L;){var P=L.nextSibling,j=L.nodeName;L[$a]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&L.rel.toLowerCase()==="stylesheet"||a.removeChild(L),L=P}}if(v===0){s.removeChild(E),Fl(r);return}v--}else a==="$"||a==="$?"||a==="$!"?v++:d=a.charCodeAt(0)-48;else d=0;a=E}while(a);Fl(r)}function K_(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":K_(a),Jf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function ek(s,r,a,d){for(;s.nodeType===1;){var v=a;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[$a])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var E=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=sn(s.nextSibling),s===null)break}return null}function tk(s,r,a){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=sn(s.nextSibling),s===null))return null;return s}function Y_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ik(s,r){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")r();else{var d=function(){r(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function sn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var X_=null;function D1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return s;r--}else a==="/$"&&r++}s=s.previousSibling}return null}function k1(s,r,a){switch(r=ah(a),s){case"html":if(s=r.documentElement,!s)throw Error(n(452));return s;case"head":if(s=r.head,!s)throw Error(n(453));return s;case"body":if(s=r.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Ol(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Jf(s)}var Vi=new Map,M1=new Set;function lh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gn=$.d;$.d={f:nk,r:sk,D:rk,C:ok,L:ak,m:lk,X:uk,S:ck,M:hk};function nk(){var s=Gn.f(),r=Ju();return s||r}function sk(s){var r=ho(s);r!==null&&r.tag===5&&r.type==="form"?Qy(r):Gn.r(s)}var Go=typeof document>"u"?null:document;function O1(s,r,a){var d=Go;if(d&&typeof r=="string"&&r){var v=Pi(r);v='link[rel="'+s+'"][href="'+v+'"]',typeof a=="string"&&(v+='[crossorigin="'+a+'"]'),M1.has(v)||(M1.add(v),s={rel:s,crossOrigin:a,href:r},d.querySelector(v)===null&&(r=d.createElement("link"),Ft(r,"link",s),Dt(r),d.head.appendChild(r)))}}function rk(s){Gn.D(s),O1("dns-prefetch",s,null)}function ok(s,r){Gn.C(s,r),O1("preconnect",s,r)}function ak(s,r,a){Gn.L(s,r,a);var d=Go;if(d&&s&&r){var v='link[rel="preload"][as="'+Pi(r)+'"]';r==="image"&&a&&a.imageSrcSet?(v+='[imagesrcset="'+Pi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(v+='[imagesizes="'+Pi(a.imageSizes)+'"]')):v+='[href="'+Pi(s)+'"]';var E=v;switch(r){case"style":E=$o(s);break;case"script":E=Ko(s)}Vi.has(E)||(s=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:s,as:r},a),Vi.set(E,s),d.querySelector(v)!==null||r==="style"&&d.querySelector(Ll(E))||r==="script"&&d.querySelector(Il(E))||(r=d.createElement("link"),Ft(r,"link",s),Dt(r),d.head.appendChild(r)))}}function lk(s,r){Gn.m(s,r);var a=Go;if(a&&s){var d=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+Pi(d)+'"][href="'+Pi(s)+'"]',E=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ko(s)}if(!Vi.has(E)&&(s=_({rel:"modulepreload",href:s},r),Vi.set(E,s),a.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(E)))return}d=a.createElement("link"),Ft(d,"link",s),Dt(d),a.head.appendChild(d)}}}function ck(s,r,a){Gn.S(s,r,a);var d=Go;if(d&&s){var v=fo(d).hoistableStyles,E=$o(s);r=r||"default";var L=v.get(E);if(!L){var P={loading:0,preload:null};if(L=d.querySelector(Ll(E)))P.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":r},a),(a=Vi.get(E))&&Q_(s,a);var j=L=d.createElement("link");Dt(j),Ft(j,"link",s),j._p=new Promise(function(te,oe){j.onload=te,j.onerror=oe}),j.addEventListener("load",function(){P.loading|=1}),j.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ch(L,r,d)}L={type:"stylesheet",instance:L,count:1,state:P},v.set(E,L)}}}function uk(s,r){Gn.X(s,r);var a=Go;if(a&&s){var d=fo(a).hoistableScripts,v=Ko(s),E=d.get(v);E||(E=a.querySelector(Il(v)),E||(s=_({src:s,async:!0},r),(r=Vi.get(v))&&Z_(s,r),E=a.createElement("script"),Dt(E),Ft(E,"link",s),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(v,E))}}function hk(s,r){Gn.M(s,r);var a=Go;if(a&&s){var d=fo(a).hoistableScripts,v=Ko(s),E=d.get(v);E||(E=a.querySelector(Il(v)),E||(s=_({src:s,async:!0,type:"module"},r),(r=Vi.get(v))&&Z_(s,r),E=a.createElement("script"),Dt(E),Ft(E,"link",s),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(v,E))}}function L1(s,r,a,d){var v=(v=fe.current)?lh(v):null;if(!v)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$o(a.href),a=fo(v).hoistableStyles,d=a.get(r),d||(d={type:"style",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=$o(a.href);var E=fo(v).hoistableStyles,L=E.get(s);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,L),(E=v.querySelector(Ll(s)))&&!E._p&&(L.instance=E,L.state.loading=5),Vi.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vi.set(s,a),E||fk(v,s,a,L.state))),r&&d===null)throw Error(n(528,""));return L}if(r&&d!==null)throw Error(n(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ko(a),a=fo(v).hoistableScripts,d=a.get(r),d||(d={type:"script",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function $o(s){return'href="'+Pi(s)+'"'}function Ll(s){return'link[rel="stylesheet"]['+s+"]"}function I1(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function fk(s,r,a,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Ft(r,"link",a),Dt(r),s.head.appendChild(r))}function Ko(s){return'[src="'+Pi(s)+'"]'}function Il(s){return"script[async]"+s}function P1(s,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+Pi(a.href)+'"]');if(d)return r.instance=d,Dt(d),d;var v=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Dt(d),Ft(d,"style",v),ch(d,a.precedence,s),r.instance=d;case"stylesheet":v=$o(a.href);var E=s.querySelector(Ll(v));if(E)return r.state.loading|=4,r.instance=E,Dt(E),E;d=I1(a),(v=Vi.get(v))&&Q_(d,v),E=(s.ownerDocument||s).createElement("link"),Dt(E);var L=E;return L._p=new Promise(function(P,j){L.onload=P,L.onerror=j}),Ft(E,"link",d),r.state.loading|=4,ch(E,a.precedence,s),r.instance=E;case"script":return E=Ko(a.src),(v=s.querySelector(Il(E)))?(r.instance=v,Dt(v),v):(d=a,(v=Vi.get(E))&&(d=_({},a),Z_(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),Dt(v),Ft(v,"link",d),s.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,ch(d,a.precedence,s));return r.instance}function ch(s,r,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,E=v,L=0;L<d.length;L++){var P=d[L];if(P.dataset.precedence===r)E=P;else if(E!==v)break}E?E.parentNode.insertBefore(s,E.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(s,r.firstChild))}function Q_(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Z_(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var uh=null;function N1(s,r,a){if(uh===null){var d=new Map,v=uh=new Map;v.set(a,d)}else v=uh,d=v.get(a),d||(d=new Map,v.set(a,d));if(d.has(s))return d;for(d.set(s,null),a=a.getElementsByTagName(s),v=0;v<a.length;v++){var E=a[v];if(!(E[$a]||E[Gt]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var L=E.getAttribute(r)||"";L=s+L;var P=d.get(L);P?P.push(E):d.set(L,[E])}}return d}function B1(s,r,a){s=s.ownerDocument||s,s.head.insertBefore(a,r==="title"?s.querySelector("head > title"):null)}function dk(s,r,a){if(a===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function H1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Pl=null;function _k(){}function pk(s,r,a){if(Pl===null)throw Error(n(475));var d=Pl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=$o(a.href),E=s.querySelector(Ll(v));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=hh.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=E,Dt(E);return}E=s.ownerDocument||s,a=I1(a),(v=Vi.get(v))&&Q_(a,v),E=E.createElement("link"),Dt(E);var L=E;L._p=new Promise(function(P,j){L.onload=P,L.onerror=j}),Ft(E,"link",a),r.instance=E}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=hh.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function mk(){if(Pl===null)throw Error(n(475));var s=Pl;return s.stylesheets&&s.count===0&&J_(s,s.stylesheets),0<s.count?function(r){var a=setTimeout(function(){if(s.stylesheets&&J_(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(a)}}:null}function hh(){if(this.count--,this.count===0){if(this.stylesheets)J_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fh=null;function J_(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fh=new Map,r.forEach(gk,s),fh=null,hh.call(s))}function gk(s,r){if(!(r.state.loading&4)){var a=fh.get(s);if(a)var d=a.get(null);else{a=new Map,fh.set(s,a);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<v.length;E++){var L=v[E];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(a.set(L.dataset.precedence,L),d=L)}d&&a.set(null,d)}v=r.instance,L=v.getAttribute("data-precedence"),E=a.get(L)||d,E===d&&a.set(null,v),a.set(L,v),this.count++,d=hh.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),E?E.parentNode.insertBefore(v,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),r.state.loading|=4}}var Nl={$$typeof:m,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function vk(s,r,a,d,v,E,L,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.hiddenUpdates=Yf(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=E,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function U1(s,r,a,d,v,E,L,P,j,te,oe,ce){return s=new vk(s,r,a,L,P,j,te,ce),r=1,E===!0&&(r|=24),E=bi(3,null,null,r),s.current=E,E.stateNode=s,r=Id(),r.refCount++,s.pooledCache=r,r.refCount++,E.memoizedState={element:d,isDehydrated:a,cache:r},Hd(E),s}function F1(s){return s?(s=To,s):To}function z1(s,r,a,d,v,E){v=F1(v),d.context===null?d.context=v:d.pendingContext=v,d=_s(r),d.payload={element:a},E=E===void 0?null:E,E!==null&&(d.callback=E),a=ps(s,d,r),a!==null&&(xi(a,s,r),fl(a,s,r))}function V1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<r?a:r}}function ep(s,r){V1(s,r),(s=s.alternate)&&V1(s,r)}function j1(s){if(s.tag===13){var r=Eo(s,67108864);r!==null&&xi(r,s,67108864),ep(s,67108864)}}var dh=!0;function yk(s,r,a,d){var v=V.T;V.T=null;var E=$.p;try{$.p=2,tp(s,r,a,d)}finally{$.p=E,V.T=v}}function Sk(s,r,a,d){var v=V.T;V.T=null;var E=$.p;try{$.p=8,tp(s,r,a,d)}finally{$.p=E,V.T=v}}function tp(s,r,a,d){if(dh){var v=ip(d);if(v===null)V_(s,r,d,_h,a),q1(s,d);else if(Ck(v,s,r,a,d))d.stopPropagation();else if(q1(s,d),r&4&&-1<bk.indexOf(s)){for(;v!==null;){var E=ho(v);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var L=fr(E.pendingLanes);if(L!==0){var P=E;for(P.pendingLanes|=2,P.entangledLanes|=2;L;){var j=1<<31-At(L);P.entanglements[1]|=j,L&=~j}gn(E),(Ue&6)===0&&(Qu=ve()+500,Dl(0))}}break;case 13:P=Eo(E,2),P!==null&&xi(P,E,2),Ju(),ep(E,2)}if(E=ip(d),E===null&&V_(s,r,d,_h,a),E===v)break;v=E}v!==null&&d.stopPropagation()}else V_(s,r,d,null,a)}}function ip(s){return s=ad(s),np(s)}var _h=null;function np(s){if(_h=null,s=uo(s),s!==null){var r=l(s);if(r===null)s=null;else{var a=r.tag;if(a===13){if(s=u(r),s!==null)return s;s=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return _h=s,null}function W1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case ro:return 2;case oo:return 8;case cs:case ao:return 32;case ei:return 268435456;default:return 32}default:return 32}}var sp=!1,As=null,Ds=null,ks=null,Bl=new Map,Hl=new Map,Ms=[],bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q1(s,r){switch(s){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function Ul(s,r,a,d,v,E){return s===null||s.nativeEvent!==E?(s={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:E,targetContainers:[v]},r!==null&&(r=ho(r),r!==null&&j1(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),s)}function Ck(s,r,a,d,v){switch(r){case"focusin":return As=Ul(As,s,r,a,d,v),!0;case"dragenter":return Ds=Ul(Ds,s,r,a,d,v),!0;case"mouseover":return ks=Ul(ks,s,r,a,d,v),!0;case"pointerover":var E=v.pointerId;return Bl.set(E,Ul(Bl.get(E)||null,s,r,a,d,v)),!0;case"gotpointercapture":return E=v.pointerId,Hl.set(E,Ul(Hl.get(E)||null,s,r,a,d,v)),!0}return!1}function G1(s){var r=uo(s.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){s.blockedOn=r,pD(s.priority,function(){if(a.tag===13){var d=Ti();d=Xf(d);var v=Eo(a,d);v!==null&&xi(v,a,d),ep(a,d)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ph(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var a=ip(s.nativeEvent);if(a===null){a=s.nativeEvent;var d=new a.constructor(a.type,a);od=d,a.target.dispatchEvent(d),od=null}else return r=ho(a),r!==null&&j1(r),s.blockedOn=a,!1;r.shift()}return!0}function $1(s,r,a){ph(s)&&a.delete(r)}function wk(){sp=!1,As!==null&&ph(As)&&(As=null),Ds!==null&&ph(Ds)&&(Ds=null),ks!==null&&ph(ks)&&(ks=null),Bl.forEach($1),Hl.forEach($1)}function mh(s,r){s.blockedOn===r&&(s.blockedOn=null,sp||(sp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wk)))}var gh=null;function K1(s){gh!==s&&(gh=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===s&&(gh=null);for(var r=0;r<s.length;r+=3){var a=s[r],d=s[r+1],v=s[r+2];if(typeof d!="function"){if(np(d||a)===null)continue;break}var E=ho(a);E!==null&&(s.splice(r,3),r-=3,n_(E,{pending:!0,data:v,method:a.method,action:d},d,v))}}))}function Fl(s){function r(j){return mh(j,s)}As!==null&&mh(As,s),Ds!==null&&mh(Ds,s),ks!==null&&mh(ks,s),Bl.forEach(r),Hl.forEach(r);for(var a=0;a<Ms.length;a++){var d=Ms[a];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Ms.length&&(a=Ms[0],a.blockedOn===null);)G1(a),a.blockedOn===null&&Ms.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var v=a[d],E=a[d+1],L=v[ai]||null;if(typeof E=="function")L||K1(a);else if(L){var P=null;if(E&&E.hasAttribute("formAction")){if(v=E,L=E[ai]||null)P=L.formAction;else if(np(v)!==null)continue}else P=L.action;typeof P=="function"?a[d+1]=P:(a.splice(d,3),d-=3),K1(a)}}}function rp(s){this._internalRoot=s}vh.prototype.render=rp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(n(409));var a=r.current,d=Ti();z1(a,d,s,r,null,null)},vh.prototype.unmount=rp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;z1(s.current,2,null,s,null,null),Ju(),r[co]=null}};function vh(s){this._internalRoot=s}vh.prototype.unstable_scheduleHydration=function(s){if(s){var r=h0();s={blockedOn:null,target:s,priority:r};for(var a=0;a<Ms.length&&r!==0&&r<Ms[a].priority;a++);Ms.splice(a,0,s),a===0&&G1(s)}};var Y1=e.version;if(Y1!=="19.1.1")throw Error(n(527,Y1,"19.1.1"));$.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(r),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var Ek={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{en=yh.inject(Ek),Nt=yh}catch{}}return Vl.createRoot=function(s,r){if(!o(s))throw Error(n(299));var a=!1,d="",v=hS,E=fS,L=dS,P=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(L=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=U1(s,1,!1,null,null,a,d,v,E,L,P,null),s[co]=r.current,z_(s),new rp(r)},Vl.hydrateRoot=function(s,r,a){if(!o(s))throw Error(n(299));var d=!1,v="",E=hS,L=fS,P=dS,j=null,te=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onUncaughtError!==void 0&&(E=a.onUncaughtError),a.onCaughtError!==void 0&&(L=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(te=a.formState)),r=U1(s,1,!0,r,a??null,d,v,E,L,P,j,te),r.context=F1(null),a=r.current,d=Ti(),d=Xf(d),v=_s(d),v.callback=null,ps(a,v,d),a=d,r.current.lanes=a,Ga(r,a),gn(r),s[co]=r.current,z_(s),new vh(r)},Vl.version="19.1.1",Vl}var rb;function Ik(){if(rb)return lp.exports;rb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lp.exports=Lk(),lp.exports}var Pk=Ik();const Nk=iE(Pk);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ob="popstate";function Bk(i={}){function e(o,l){let{pathname:u="/",search:c="",hash:h=""}=eo(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),tm("",{pathname:u,search:c,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let u=o.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let h=o.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof l=="string"?l:mc(l))}function n(o,l){Qi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Uk(e,t,n,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hk(){return Math.random().toString(36).substring(2,10)}function ab(i,e){return{usr:i.state,key:i.key,idx:e}}function tm(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:t,key:e&&e.key||n||Hk()}}function mc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function eo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function Uk(i,e,t,n={}){let{window:o=document.defaultView,v5Compat:l=!1}=n,u=o.history,c="POP",h=null,f=_();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function _(){return(u.state||{idx:null}).idx}function p(){c="POP";let S=_(),b=S==null?null:S-f;f=S,h&&h({action:c,location:C.location,delta:b})}function g(S,b){c="PUSH";let y=tm(C.location,S,b);t&&t(y,S),f=_()+1;let m=ab(y,f),x=C.createHref(y);try{u.pushState(m,"",x)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(x)}l&&h&&h({action:c,location:C.location,delta:1})}function w(S,b){c="REPLACE";let y=tm(C.location,S,b);t&&t(y,S),f=_();let m=ab(y,f),x=C.createHref(y);u.replaceState(m,"",x),l&&h&&h({action:c,location:C.location,delta:0})}function T(S){return Fk(S)}let C={get action(){return c},get location(){return i(o,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(ob,p),h=S,()=>{o.removeEventListener(ob,p),h=null}},createHref(S){return e(o,S)},createURL:T,encodeLocation(S){let b=T(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:w,go(S){return u.go(S)}};return C}function Fk(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:mc(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function sE(i,e,t="/"){return zk(i,e,t,!1)}function zk(i,e,t,n){let o=typeof e=="string"?eo(e):e,l=es(o.pathname||"/",t);if(l==null)return null;let u=rE(i);Vk(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let f=Jk(l);c=Qk(u[h],f,n)}return c}function rE(i,e=[],t=[],n="",o=!1){let l=(u,c,h=o,f)=>{let _={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(n)&&h)return;lt(_.relativePath.startsWith(n),`Absolute route path "${_.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(n.length)}let p=Zn([n,_.relativePath]),g=t.concat(_);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rE(u.children,e,g,p,h)),!(u.path==null&&!u.index)&&e.push({path:p,score:Yk(p,u.index),routesMeta:g})};return i.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))l(u,c);else for(let h of oE(u.path))l(u,c,!0,h)}),e}function oE(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let u=oE(n.join("/")),c=[];return c.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&c.push(...u),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function Vk(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Xk(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var jk=/^:[\w-]+$/,Wk=3,qk=2,Gk=1,$k=10,Kk=-2,lb=i=>i==="*";function Yk(i,e){let t=i.split("/"),n=t.length;return t.some(lb)&&(n+=Kk),e&&(n+=qk),t.filter(o=>!lb(o)).reduce((o,l)=>o+(jk.test(l)?Wk:l===""?Gk:$k),n)}function Xk(i,e){return i.length===e.length&&i.slice(0,-1).every((n,o)=>n===e[o])?i[i.length-1]-e[e.length-1]:0}function Qk(i,e,t=!1){let{routesMeta:n}=i,o={},l="/",u=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,_=l==="/"?e:e.slice(l.length)||"/",p=jh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},_),g=h.route;if(!p&&f&&t&&!n[n.length-1].route.index&&(p=jh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!p)return null;Object.assign(o,p.params),u.push({params:o,pathname:Zn([l,p.pathname]),pathnameBase:nM(Zn([l,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(l=Zn([l,p.pathnameBase]))}return u}function jh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=Zk(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:n.reduce((f,{paramName:_,isOptional:p},g)=>{if(_==="*"){let T=c[g]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const w=c[g];return p&&!w?f[_]=void 0:f[_]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:i}}function Zk(i,e=!1,t=!0){Qi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function Jk(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function es(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function eM(i,e="/"){let{pathname:t,search:n="",hash:o=""}=typeof i=="string"?eo(i):i;return{pathname:t?t.startsWith("/")?t:tM(t,e):e,search:sM(n),hash:rM(o)}}function tM(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function fp(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iM(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function aE(i){let e=iM(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function lE(i,e,t,n=!1){let o;typeof i=="string"?o=eo(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),fp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),fp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),fp("#","search","hash",o)));let l=i===""||o.pathname==="",u=l?"/":o.pathname,c;if(u==null)c=t;else{let p=e.length-1;if(!n&&u.startsWith("..")){let g=u.split("/");for(;g[0]==="..";)g.shift(),p-=1;o.pathname=g.join("/")}c=p>=0?e[p]:"/"}let h=eM(o,c),f=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||_)&&(h.pathname+="/"),h}var Zn=i=>i.join("/").replace(/\/\/+/g,"/"),nM=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),sM=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,rM=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function oM(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var cE=["POST","PUT","PATCH","DELETE"];new Set(cE);var aM=["GET",...cE];new Set(aM);var Oa=q.createContext(null);Oa.displayName="DataRouter";var Tf=q.createContext(null);Tf.displayName="DataRouterState";q.createContext(!1);var uE=q.createContext({isTransitioning:!1});uE.displayName="ViewTransition";var lM=q.createContext(new Map);lM.displayName="Fetchers";var cM=q.createContext(null);cM.displayName="Await";var Dn=q.createContext(null);Dn.displayName="Navigation";var jc=q.createContext(null);jc.displayName="Location";var kn=q.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var lg=q.createContext(null);lg.displayName="RouteError";function uM(i,{relative:e}={}){lt(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=q.useContext(Dn),{hash:o,pathname:l,search:u}=qc(i,{relative:e}),c=l;return t!=="/"&&(c=l==="/"?t:Zn([t,l])),n.createHref({pathname:c,search:u,hash:o})}function Wc(){return q.useContext(jc)!=null}function Ji(){return lt(Wc(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(jc).location}var hE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fE(i){q.useContext(Dn).static||q.useLayoutEffect(i)}function cg(){let{isDataRoute:i}=q.useContext(kn);return i?TM():hM()}function hM(){lt(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Oa),{basename:e,navigator:t}=q.useContext(Dn),{matches:n}=q.useContext(kn),{pathname:o}=Ji(),l=JSON.stringify(aE(n)),u=q.useRef(!1);return fE(()=>{u.current=!0}),q.useCallback((h,f={})=>{if(Qi(u.current,hE),!u.current)return;if(typeof h=="number"){t.go(h);return}let _=lE(h,JSON.parse(l),o,f.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zn([e,_.pathname])),(f.replace?t.replace:t.push)(_,f.state,f)},[e,t,l,o,i])}var fM=q.createContext(null);function dM(i){let e=q.useContext(kn).outlet;return e&&q.createElement(fM.Provider,{value:i},e)}function qc(i,{relative:e}={}){let{matches:t}=q.useContext(kn),{pathname:n}=Ji(),o=JSON.stringify(aE(t));return q.useMemo(()=>lE(i,JSON.parse(o),n,e==="path"),[i,o,n,e])}function _M(i,e){return dE(i,e)}function dE(i,e,t,n,o){lt(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=q.useContext(Dn),{matches:u}=q.useContext(kn),c=u[u.length-1],h=c?c.params:{},f=c?c.pathname:"/",_=c?c.pathnameBase:"/",p=c&&c.route;{let y=p&&p.path||"";_E(f,!p||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let g=Ji(),w;if(e){let y=typeof e=="string"?eo(e):e;lt(_==="/"||y.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${y.pathname}" was given in the \`location\` prop.`),w=y}else w=g;let T=w.pathname||"/",C=T;if(_!=="/"){let y=_.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=sE(i,{pathname:C});Qi(p||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Qi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=yM(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},h,y.params),pathname:Zn([_,l.encodeLocation?l.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?_:Zn([_,l.encodeLocation?l.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),u,t,n,o);return e&&b?q.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function pM(){let i=EM(),e=oM(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,u)}var mM=q.createElement(pM,null),gM=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?q.createElement(kn.Provider,{value:this.props.routeContext},q.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vM({routeContext:i,match:e,children:t}){let n=q.useContext(Oa);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(kn.Provider,{value:i},t)}function yM(i,e=[],t=null,n=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,u=t?.errors;if(u!=null){let f=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);lt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<l.length;f++){let _=l[f];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=f),_.route.id){let{loaderData:p,errors:g}=t,w=_.route.loader&&!p.hasOwnProperty(_.route.id)&&(!g||g[_.route.id]===void 0);if(_.route.lazy||w){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,_,p)=>{let g,w=!1,T=null,C=null;t&&(g=u&&_.route.id?u[_.route.id]:void 0,T=_.route.errorElement||mM,c&&(h<0&&p===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):h===p&&(w=!0,C=_.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,p+1)),b=()=>{let y;return g?y=T:w?y=C:_.route.Component?y=q.createElement(_.route.Component,null):_.route.element?y=_.route.element:y=f,q.createElement(vM,{match:_,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:y})};return t&&(_.route.ErrorBoundary||_.route.errorElement||p===0)?q.createElement(gM,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):b()},null)}function ug(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SM(i){let e=q.useContext(Oa);return lt(e,ug(i)),e}function bM(i){let e=q.useContext(Tf);return lt(e,ug(i)),e}function CM(i){let e=q.useContext(kn);return lt(e,ug(i)),e}function hg(i){let e=CM(i),t=e.matches[e.matches.length-1];return lt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function wM(){return hg("useRouteId")}function EM(){let i=q.useContext(lg),e=bM("useRouteError"),t=hg("useRouteError");return i!==void 0?i:e.errors?.[t]}function TM(){let{router:i}=SM("useNavigate"),e=hg("useNavigate"),t=q.useRef(!1);return fE(()=>{t.current=!0}),q.useCallback(async(o,l={})=>{Qi(t.current,hE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var cb={};function _E(i,e,t){!e&&!cb[i]&&(cb[i]=!0,Qi(!1,t))}q.memo(xM);function xM({routes:i,future:e,state:t,unstable_onError:n}){return dE(i,void 0,t,n,e)}function RM(i){return dM(i.context)}function vn(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AM({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:o,static:l=!1}){lt(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=eo(t));let{pathname:h="/",search:f="",hash:_="",state:p=null,key:g="default"}=t,w=q.useMemo(()=>{let T=es(h,u);return T==null?null:{location:{pathname:T,search:f,hash:_,state:p,key:g},navigationType:n}},[u,h,f,_,p,g,n]);return Qi(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${f}${_}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:q.createElement(Dn.Provider,{value:c},q.createElement(jc.Provider,{children:e,value:w}))}function DM({children:i,location:e}){return _M(im(i),e)}function im(i,e=[]){let t=[];return q.Children.forEach(i,(n,o)=>{if(!q.isValidElement(n))return;let l=[...e,o];if(n.type===q.Fragment){t.push.apply(t,im(n.props.children,l));return}lt(n.type===vn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=im(n.props.children,l)),t.push(u)}),t}var Dh="get",kh="application/x-www-form-urlencoded";function xf(i){return i!=null&&typeof i.tagName=="string"}function kM(i){return xf(i)&&i.tagName.toLowerCase()==="button"}function MM(i){return xf(i)&&i.tagName.toLowerCase()==="form"}function OM(i){return xf(i)&&i.tagName.toLowerCase()==="input"}function LM(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function IM(i,e){return i.button===0&&(!e||e==="_self")&&!LM(i)}function nm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let n=i[t];return e.concat(Array.isArray(n)?n.map(o=>[t,o]):[[t,n]])},[]))}function PM(i,e){let t=nm(i);return e&&e.forEach((n,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}var Sh=null;function NM(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var BM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dp(i){return i!=null&&!BM.has(i)?(Qi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):i}function HM(i,e){let t,n,o,l,u;if(MM(i)){let c=i.getAttribute("action");n=c?es(c,e):null,t=i.getAttribute("method")||Dh,o=dp(i.getAttribute("enctype"))||kh,l=new FormData(i)}else if(kM(i)||OM(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?es(h,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||Dh,o=dp(i.getAttribute("formenctype"))||dp(c.getAttribute("enctype"))||kh,l=new FormData(c,i),!NM()){let{name:f,type:_,value:p}=i;if(_==="image"){let g=f?`${f}.`:"";l.append(`${g}x`,"0"),l.append(`${g}y`,"0")}else f&&l.append(f,p)}}else{if(xf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dh,n=null,o=kh,u=i}return l&&o==="text/plain"&&(u=l,l=void 0),{action:n,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function UM(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&es(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function FM(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zM(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VM(i,e,t){let n=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await FM(l,t);return u.links?u.links():[]}return[]}));return GM(n.flat(1).filter(zM).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ub(i,e,t,n,o,l){let u=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,f)=>u(h,f)||c(h,f)):l==="data"?e.filter((h,f)=>{let _=n.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(u(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function jM(i,e,{includeHydrateFallback:t}={}){return WM(i.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function WM(i){return[...new Set(i)]}function qM(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function GM(i,e){let t=new Set;return new Set(e),i.reduce((n,o)=>{let l=JSON.stringify(qM(o));return t.has(l)||(t.add(l),n.push({key:l,link:o})),n},[])}function pE(){let i=q.useContext(Oa);return fg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $M(){let i=q.useContext(Tf);return fg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dg=q.createContext(void 0);dg.displayName="FrameworkContext";function mE(){let i=q.useContext(dg);return fg(i,"You must render this element inside a <HydratedRouter> element"),i}function KM(i,e){let t=q.useContext(dg),[n,o]=q.useState(!1),[l,u]=q.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:_,onTouchStart:p}=e,g=q.useRef(null);q.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let C=b=>{b.forEach(y=>{u(y.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[i]),q.useEffect(()=>{if(n){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[n]);let w=()=>{o(!0)},T=()=>{o(!1),u(!1)};return t?i!=="intent"?[l,g,{}]:[l,g,{onFocus:jl(c,w),onBlur:jl(h,T),onMouseEnter:jl(f,w),onMouseLeave:jl(_,T),onTouchStart:jl(p,w)}]:[!1,g,{}]}function jl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function YM({page:i,...e}){let{router:t}=pE(),n=q.useMemo(()=>sE(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?q.createElement(QM,{page:i,matches:n,...e}):null}function XM(i){let{manifest:e,routeModules:t}=mE(),[n,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return VM(i,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[i,e,t]),n}function QM({page:i,matches:e,...t}){let n=Ji(),{manifest:o,routeModules:l}=mE(),{basename:u}=pE(),{loaderData:c,matches:h}=$M(),f=q.useMemo(()=>ub(i,e,h,o,n,"data"),[i,e,h,o,n]),_=q.useMemo(()=>ub(i,e,h,o,n,"assets"),[i,e,h,o,n]),p=q.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let T=new Set,C=!1;if(e.forEach(b=>{let y=o.routes[b.route.id];!y||!y.hasLoader||(!f.some(m=>m.route.id===b.route.id)&&b.route.id in c&&l[b.route.id]?.shouldRevalidate||y.hasClientLoader?C=!0:T.add(b.route.id))}),T.size===0)return[];let S=UM(i,u,"data");return C&&T.size>0&&S.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[u,c,n,o,f,e,i,l]),g=q.useMemo(()=>jM(_,o),[_,o]),w=XM(_);return q.createElement(q.Fragment,null,p.map(T=>q.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>q.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:C})=>q.createElement("link",{key:T,nonce:t.nonce,...C})))}function ZM(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gE&&(window.__reactRouterVersion="7.8.2")}catch{}function JM({basename:i,children:e,window:t}){let n=q.useRef();n.current==null&&(n.current=Bk({window:t,v5Compat:!0}));let o=n.current,[l,u]=q.useState({action:o.action,location:o.location}),c=q.useCallback(h=>{q.startTransition(()=>u(h))},[u]);return q.useLayoutEffect(()=>o.listen(c),[o,c]),q.createElement(AM,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var vE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oa=q.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:o,reloadDocument:l,replace:u,state:c,target:h,to:f,preventScrollReset:_,viewTransition:p,...g},w){let{basename:T}=q.useContext(Dn),C=typeof f=="string"&&vE.test(f),S,b=!1;if(typeof f=="string"&&C&&(S=f,gE))try{let M=new URL(window.location.href),U=f.startsWith("//")?new URL(M.protocol+f):new URL(f),z=es(U.pathname,T);U.origin===M.origin&&z!=null?f=z+U.search+U.hash:b=!0}catch{Qi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=uM(f,{relative:o}),[m,x,A]=KM(n,g),D=nO(f,{replace:u,state:c,target:h,preventScrollReset:_,relative:o,viewTransition:p});function k(M){e&&e(M),M.defaultPrevented||D(M)}let R=q.createElement("a",{...g,...A,href:S||y,onClick:b||l?e:k,ref:ZM(w,x),target:h,"data-discover":!C&&t==="render"?"true":void 0});return m&&!C?q.createElement(q.Fragment,null,R,q.createElement(YM,{page:y})):R});oa.displayName="Link";var eO=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:o=!1,style:l,to:u,viewTransition:c,children:h,...f},_){let p=qc(u,{relative:f.relative}),g=Ji(),w=q.useContext(Tf),{navigator:T,basename:C}=q.useContext(Dn),S=w!=null&&lO(p)&&c===!0,b=T.encodeLocation?T.encodeLocation(p).pathname:p.pathname,y=g.pathname,m=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(y=y.toLowerCase(),m=m?m.toLowerCase():null,b=b.toLowerCase()),m&&C&&(m=es(m,C)||m);const x=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=y===b||!o&&y.startsWith(b)&&y.charAt(x)==="/",D=m!=null&&(m===b||!o&&m.startsWith(b)&&m.charAt(b.length)==="/"),k={isActive:A,isPending:D,isTransitioning:S},R=A?e:void 0,M;typeof n=="function"?M=n(k):M=[n,A?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(k):l;return q.createElement(oa,{...f,"aria-current":R,className:M,ref:_,style:U,to:u,viewTransition:c},typeof h=="function"?h(k):h)});eO.displayName="NavLink";var tO=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:o,state:l,method:u=Dh,action:c,onSubmit:h,relative:f,preventScrollReset:_,viewTransition:p,...g},w)=>{let T=oO(),C=aO(c,{relative:f}),S=u.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&vE.test(c),y=m=>{if(h&&h(m),m.defaultPrevented)return;m.preventDefault();let x=m.nativeEvent.submitter,A=x?.getAttribute("formmethod")||u;T(x||m.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:o,state:l,relative:f,preventScrollReset:_,viewTransition:p})};return q.createElement("form",{ref:w,method:S,action:C,onSubmit:n?h:y,...g,"data-discover":!b&&i==="render"?"true":void 0})});tO.displayName="Form";function iO(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yE(i){let e=q.useContext(Oa);return lt(e,iO(i)),e}function nO(i,{target:e,replace:t,state:n,preventScrollReset:o,relative:l,viewTransition:u}={}){let c=cg(),h=Ji(),f=qc(i,{relative:l});return q.useCallback(_=>{if(IM(_,e)){_.preventDefault();let p=t!==void 0?t:mc(h)===mc(f);c(i,{replace:p,state:n,preventScrollReset:o,relative:l,viewTransition:u})}},[h,c,f,t,n,e,i,o,l,u])}function dF(i){Qi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(nm(i)),t=q.useRef(!1),n=Ji(),o=q.useMemo(()=>PM(n.search,t.current?null:e.current),[n.search]),l=cg(),u=q.useCallback((c,h)=>{const f=nm(typeof c=="function"?c(new URLSearchParams(o)):c);t.current=!0,l("?"+f,h)},[l,o]);return[o,u]}var sO=0,rO=()=>`__${String(++sO)}__`;function oO(){let{router:i}=yE("useSubmit"),{basename:e}=q.useContext(Dn),t=wM();return q.useCallback(async(n,o={})=>{let{action:l,method:u,encType:c,formData:h,body:f}=HM(n,e);if(o.navigate===!1){let _=o.fetcherKey||rO();await i.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function aO(i,{relative:e}={}){let{basename:t}=q.useContext(Dn),n=q.useContext(kn);lt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),l={...qc(i||".",{relative:e})},u=Ji();if(i==null){l.search=u.search;let c=new URLSearchParams(l.search),h=c.getAll("index");if(h.some(_=>_==="")){c.delete("index"),h.filter(p=>p).forEach(p=>c.append("index",p));let _=c.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Zn([t,l.pathname])),mc(l)}function lO(i,{relative:e}={}){let t=q.useContext(uE);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yE("useViewTransitionState"),o=qc(i,{relative:e});if(!t.isTransitioning)return!1;let l=es(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=es(t.nextLocation.pathname,n)||t.nextLocation.pathname;return jh(o.pathname,u)!=null||jh(o.pathname,l)!=null}const cO="modulepreload",uO=function(i){return"/"+i},hb={},sr=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let u=function(f){return Promise.all(f.map(_=>Promise.resolve(_).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");o=u(t.map(f=>{if(f=uO(f),f in hb)return;hb[f]=!0;const _=f.endsWith(".css"),p=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=_?"stylesheet":cO,_||(g.as="script"),g.crossOrigin="",g.href=f,h&&g.setAttribute("nonce",h),document.head.appendChild(g),_)return new Promise((w,T)=>{g.addEventListener("load",w),g.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return o.then(u=>{for(const c of u||[])c.status==="rejected"&&l(c.reason);return e().catch(l)})};class hO extends nE.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?Y.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-white px-4 text-gray-900 dark:bg-gray-900 dark:text-white",children:Y.jsxs("div",{className:"max-w-2xl text-center",children:[Y.jsx("h1",{className:"mb-6 text-3xl font-bold",children:""}),Y.jsxs("p",{className:"mb-8 text-lg",children:["",Y.jsx("br",{}),""]}),Y.jsxs("div",{className:"mb-8 flex flex-col gap-4 sm:flex-row sm:justify-center",children:[Y.jsx("button",{onClick:this.handleReload,className:"rounded bg-blue-600 px-6 py-3 text-white transition-colors hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:""}),Y.jsx("button",{onClick:this.handleReset,className:"rounded bg-gray-600 px-6 py-3 text-white transition-colors hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600",children:""})]}),!1]})}):this.props.children}}function $n(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function SE(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ki={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ma={duration:.5,overwrite:!1,delay:0},_g,jt,it,Gi=1e8,Ke=1/Gi,sm=Math.PI*2,fO=sm/4,dO=0,bE=Math.sqrt,_O=Math.cos,pO=Math.sin,Pt=function(e){return typeof e=="string"},dt=function(e){return typeof e=="function"},ts=function(e){return typeof e=="number"},pg=function(e){return typeof e>"u"},An=function(e){return typeof e=="object"},_i=function(e){return e!==!1},mg=function(){return typeof window<"u"},bh=function(e){return dt(e)||Pt(e)},CE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Zt=Array.isArray,rm=/(?:-?\.?\d|\.)+/gi,wE=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Qo=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_p=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,EE=/[+-]=-?[.\d]+/,TE=/[^,'"\[\]\s]+/gi,mO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,rt,yn,om,gg,Mi={},Wh={},xE,RE=function(e){return(Wh=ga(e,Mi))&&vi},vg=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},gc=function(e,t){return!t&&console.warn(e)},AE=function(e,t){return e&&(Mi[e]=t)&&Wh&&(Wh[e]=t)||Mi},vc=function(){return 0},gO={suppressEvents:!0,isStart:!0,kill:!1},Mh={suppressEvents:!0,kill:!1},vO={suppressEvents:!0},yg={},js=[],am={},DE,Ri={},pp={},fb=30,Oh=[],Sg="",bg=function(e){var t=e[0],n,o;if(An(t)||dt(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(o=Oh.length;o--&&!Oh[o].targetTest(t););n=Oh[o]}for(o=e.length;o--;)e[o]&&(e[o]._gsap||(e[o]._gsap=new JE(e[o],n)))||e.splice(o,1);return e},zr=function(e){return e._gsap||bg($i(e))[0]._gsap},kE=function(e,t,n){return(n=e[t])&&dt(n)?e[t]():pg(n)&&e.getAttribute&&e.getAttribute(t)||n},pi=function(e,t){return(e=e.split(",")).forEach(t)||e},vt=function(e){return Math.round(e*1e5)/1e5||0},wt=function(e){return Math.round(e*1e7)/1e7||0},aa=function(e,t){var n=t.charAt(0),o=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+o:n==="-"?e-o:n==="*"?e*o:e/o},yO=function(e,t){for(var n=t.length,o=0;e.indexOf(t[o])<0&&++o<n;);return o<n},qh=function(){var e=js.length,t=js.slice(0),n,o;for(am={},js.length=0,n=0;n<e;n++)o=t[n],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Cg=function(e){return!!(e._initted||e._startAt||e.add)},ME=function(e,t,n,o){js.length&&!jt&&qh(),e.render(t,n,!!(jt&&t<0&&Cg(e))),js.length&&!jt&&qh()},OE=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(TE).length<2?t:Pt(e)?e.trim():e},LE=function(e){return e},Oi=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},SO=function(e){return function(t,n){for(var o in n)o in t||o==="duration"&&e||o==="ease"||(t[o]=n[o])}},ga=function(e,t){for(var n in t)e[n]=t[n];return e},db=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=An(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},Gh=function(e,t){var n={},o;for(o in e)o in t||(n[o]=e[o]);return n},tc=function(e){var t=e.parent||rt,n=e.keyframes?SO(Zt(e.keyframes)):Oi;if(_i(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},bO=function(e,t){for(var n=e.length,o=n===t.length;o&&n--&&e[n]===t[n];);return n<0},IE=function(e,t,n,o,l){var u=e[o],c;if(l)for(c=t[l];u&&u[l]>c;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[o]=t,t._prev=u,t.parent=t._dp=e,t},Rf=function(e,t,n,o){n===void 0&&(n="_first"),o===void 0&&(o="_last");var l=t._prev,u=t._next;l?l._next=u:e[n]===t&&(e[n]=u),u?u._prev=l:e[o]===t&&(e[o]=l),t._next=t._prev=t.parent=null},Qs=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Vr=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},CO=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},lm=function(e,t,n,o){return e._startAt&&(jt?e._startAt.revert(Mh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,o))},wO=function i(e){return!e||e._ts&&i(e.parent)},_b=function(e){return e._repeat?va(e._tTime,e=e.duration()+e._rDelay)*e:0},va=function(e,t){var n=Math.floor(e=wt(e/t));return e&&n===e?n-1:n},$h=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Af=function(e){return e._end=wt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ke)||0))},Df=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=wt(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Af(e),n._dirty||Vr(n,e)),e},PE=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=$h(e.rawTime(),t),(!t._dur||Gc(0,t.totalDuration(),n)-t._tTime>Ke)&&t.render(n,!0)),Vr(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Ke}},bn=function(e,t,n,o){return t.parent&&Qs(t),t._start=wt((ts(n)?n:n||e!==rt?Wi(e,n,t):e._time)+t._delay),t._end=wt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),IE(e,t,"_first","_last",e._sort?"_start":0),cm(t)||(e._recent=t),o||PE(e,t),e._ts<0&&Df(e,e._tTime),e},NE=function(e,t){return(Mi.ScrollTrigger||vg("scrollTrigger",t))&&Mi.ScrollTrigger.create(t,e)},BE=function(e,t,n,o,l){if(Eg(e,t,l),!e._initted)return 1;if(!n&&e._pt&&!jt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&DE!==Ai.frame)return js.push(e),e._lazy=[l,o],1},EO=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},cm=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},TO=function(e,t,n,o){var l=e.ratio,u=t<0||!t&&(!e._start&&EO(e)&&!(!e._initted&&cm(e))||(e._ts<0||e._dp._ts<0)&&!cm(e))?0:1,c=e._rDelay,h=0,f,_,p;if(c&&e._repeat&&(h=Gc(0,e._tDur,t),_=va(h,c),e._yoyo&&_&1&&(u=1-u),_!==va(e._tTime,c)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||jt||o||e._zTime===Ke||!t&&e._zTime){if(!e._initted&&BE(e,t,o,n,h))return;for(p=e._zTime,e._zTime=t||(n?Ke:0),n||(n=t&&!p),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=h,f=e._pt;f;)f.r(u,f.d),f=f._next;t<0&&lm(e,t,n,!0),e._onUpdate&&!n&&Di(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&Di(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Qs(e,1),!n&&!jt&&(Di(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},xO=function(e,t,n){var o;if(n>t)for(o=e._first;o&&o._start<=n;){if(o.data==="isPause"&&o._start>t)return o;o=o._next}else for(o=e._last;o&&o._start>=n;){if(o.data==="isPause"&&o._start<t)return o;o=o._prev}},ya=function(e,t,n,o){var l=e._repeat,u=wt(t)||0,c=e._tTime/e._tDur;return c&&!o&&(e._time*=u/e._dur),e._dur=u,e._tDur=l?l<0?1e10:wt(u*(l+1)+e._rDelay*l):u,c>0&&!o&&Df(e,e._tTime=e._tDur*c),e.parent&&Af(e),n||Vr(e.parent,e),e},pb=function(e){return e instanceof ii?Vr(e):ya(e,e._dur)},RO={_start:0,endTime:vc,totalDuration:vc},Wi=function i(e,t,n){var o=e.labels,l=e._recent||RO,u=e.duration()>=Gi?l.endTime(!1):e._dur,c,h,f;return Pt(t)&&(isNaN(t)||t in o)?(h=t.charAt(0),f=t.substr(-1)==="%",c=t.indexOf("="),h==="<"||h===">"?(c>=0&&(t=t.replace(/=/,"")),(h==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(c<0?l:n).totalDuration()/100:1)):c<0?(t in o||(o[t]=u),o[t]):(h=parseFloat(t.charAt(c-1)+t.substr(c+1)),f&&n&&(h=h/100*(Zt(n)?n[0]:n).totalDuration()),c>1?i(e,t.substr(0,c-1),n)+h:u+h)):t==null?u:+t},ic=function(e,t,n){var o=ts(t[1]),l=(o?2:1)+(e<2?0:1),u=t[l],c,h;if(o&&(u.duration=t[1]),u.parent=n,e){for(c=u,h=n;h&&!("immediateRender"in c);)c=h.vars.defaults||{},h=_i(h.vars.inherit)&&h.parent;u.immediateRender=_i(c.immediateRender),e<2?u.runBackwards=1:u.startAt=t[l-1]}return new Ct(t[0],u,t[l+1])},rr=function(e,t){return e||e===0?t(e):t},Gc=function(e,t,n){return n<e?e:n>t?t:n},Xt=function(e,t){return!Pt(e)||!(t=mO.exec(e))?"":t[1]},AO=function(e,t,n){return rr(n,function(o){return Gc(e,t,o)})},um=[].slice,HE=function(e,t){return e&&An(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&An(e[0]))&&!e.nodeType&&e!==yn},DO=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(o){var l;return Pt(o)&&!t||HE(o,1)?(l=n).push.apply(l,$i(o)):n.push(o)})||n},$i=function(e,t,n){return it&&!t&&it.selector?it.selector(e):Pt(e)&&!n&&(om||!Sa())?um.call((t||gg).querySelectorAll(e),0):Zt(e)?DO(e,n):HE(e)?um.call(e,0):e?[e]:[]},hm=function(e){return e=$i(e)[0]||gc("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return $i(t,n.querySelectorAll?n:n===e?gc("Invalid scope")||gg.createElement("div"):e)}},UE=function(e){return e.sort(function(){return .5-Math.random()})},FE=function(e){if(dt(e))return e;var t=An(e)?e:{each:e},n=jr(t.ease),o=t.from||0,l=parseFloat(t.base)||0,u={},c=o>0&&o<1,h=isNaN(o)||c,f=t.axis,_=o,p=o;return Pt(o)?_=p={center:.5,edges:.5,end:1}[o]||0:!c&&h&&(_=o[0],p=o[1]),function(g,w,T){var C=(T||t).length,S=u[C],b,y,m,x,A,D,k,R,M;if(!S){if(M=t.grid==="auto"?0:(t.grid||[1,Gi])[1],!M){for(k=-Gi;k<(k=T[M++].getBoundingClientRect().left)&&M<C;);M<C&&M--}for(S=u[C]=[],b=h?Math.min(M,C)*_-.5:o%M,y=M===Gi?0:h?C*p/M-.5:o/M|0,k=0,R=Gi,D=0;D<C;D++)m=D%M-b,x=y-(D/M|0),S[D]=A=f?Math.abs(f==="y"?x:m):bE(m*m+x*x),A>k&&(k=A),A<R&&(R=A);o==="random"&&UE(S),S.max=k-R,S.min=R,S.v=C=(parseFloat(t.amount)||parseFloat(t.each)*(M>C?C-1:f?f==="y"?C/M:M:Math.max(M,C/M))||0)*(o==="edges"?-1:1),S.b=C<0?l-C:l,S.u=Xt(t.amount||t.each)||0,n=n&&C<0?XE(n):n}return C=(S[g]-S.min)/S.max||0,wt(S.b+(n?n(C):C)*S.v)+S.u}},fm=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var o=wt(Math.round(parseFloat(n)/e)*e*t);return(o-o%1)/t+(ts(n)?0:Xt(n))}},zE=function(e,t){var n=Zt(e),o,l;return!n&&An(e)&&(o=n=e.radius||Gi,e.values?(e=$i(e.values),(l=!ts(e[0]))&&(o*=o)):e=fm(e.increment)),rr(t,n?dt(e)?function(u){return l=e(u),Math.abs(l-u)<=o?l:u}:function(u){for(var c=parseFloat(l?u.x:u),h=parseFloat(l?u.y:0),f=Gi,_=0,p=e.length,g,w;p--;)l?(g=e[p].x-c,w=e[p].y-h,g=g*g+w*w):g=Math.abs(e[p]-c),g<f&&(f=g,_=p);return _=!o||f<=o?e[_]:u,l||_===u||ts(u)?_:_+Xt(u)}:fm(e))},VE=function(e,t,n,o){return rr(Zt(e)?!t:n===!0?!!(n=0):!o,function(){return Zt(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(o=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*o)/o})},kO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduce(function(l,u){return u(l)},o)}},MO=function(e,t){return function(n){return e(parseFloat(n))+(t||Xt(n))}},OO=function(e,t,n){return WE(e,t,0,1,n)},jE=function(e,t,n){return rr(n,function(o){return e[~~t(o)]})},LO=function i(e,t,n){var o=t-e;return Zt(e)?jE(e,i(0,e.length),t):rr(n,function(l){return(o+(l-e)%o)%o+e})},IO=function i(e,t,n){var o=t-e,l=o*2;return Zt(e)?jE(e,i(0,e.length-1),t):rr(n,function(u){return u=(l+(u-e)%l)%l||0,e+(u>o?l-u:u)})},yc=function(e){for(var t=0,n="",o,l,u,c;~(o=e.indexOf("random(",t));)u=e.indexOf(")",o),c=e.charAt(o+7)==="[",l=e.substr(o+7,u-o-7).match(c?TE:rm),n+=e.substr(t,o-t)+VE(c?l:+l[0],c?0:+l[1],+l[2]||1e-5),t=u+1;return n+e.substr(t,e.length-t)},WE=function(e,t,n,o,l){var u=t-e,c=o-n;return rr(l,function(h){return n+((h-e)/u*c||0)})},PO=function i(e,t,n,o){var l=isNaN(e+t)?0:function(w){return(1-w)*e+w*t};if(!l){var u=Pt(e),c={},h,f,_,p,g;if(n===!0&&(o=1)&&(n=null),u)e={p:e},t={p:t};else if(Zt(e)&&!Zt(t)){for(_=[],p=e.length,g=p-2,f=1;f<p;f++)_.push(i(e[f-1],e[f]));p--,l=function(T){T*=p;var C=Math.min(g,~~T);return _[C](T-C)},n=t}else o||(e=ga(Zt(e)?[]:{},e));if(!_){for(h in t)wg.call(c,e,h,"get",t[h]);l=function(T){return Rg(T,c)||(u?e.p:e)}}}return rr(n,l)},mb=function(e,t,n){var o=e.labels,l=Gi,u,c,h;for(u in o)c=o[u]-t,c<0==!!n&&c&&l>(c=Math.abs(c))&&(h=u,l=c);return h},Di=function(e,t,n){var o=e.vars,l=o[t],u=it,c=e._ctx,h,f,_;if(l)return h=o[t+"Params"],f=o.callbackScope||e,n&&js.length&&qh(),c&&(it=c),_=h?l.apply(f,h):l.call(f),it=u,_},Xl=function(e){return Qs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!jt),e.progress()<1&&Di(e,"onInterrupt"),e},Zo,qE=[],GE=function(e){if(e)if(e=!e.name&&e.default||e,mg()||e.headless){var t=e.name,n=dt(e),o=t&&!n&&e.init?function(){this._props=[]}:e,l={init:vc,render:Rg,add:wg,kill:QO,modifier:XO,rawVars:0},u={targetTest:0,get:0,getSetter:xg,aliases:{},register:0};if(Sa(),e!==o){if(Ri[t])return;Oi(o,Oi(Gh(e,l),u)),ga(o.prototype,ga(l,Gh(e,u))),Ri[o.prop=t]=o,e.targetTest&&(Oh.push(o),yg[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}AE(t,o),e.register&&e.register(vi,o,mi)}else qE.push(e)},$e=255,Ql={aqua:[0,$e,$e],lime:[0,$e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,$e],navy:[0,0,128],white:[$e,$e,$e],olive:[128,128,0],yellow:[$e,$e,0],orange:[$e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[$e,0,0],pink:[$e,192,203],cyan:[0,$e,$e],transparent:[$e,$e,$e,0]},mp=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*$e+.5|0},$E=function(e,t,n){var o=e?ts(e)?[e>>16,e>>8&$e,e&$e]:0:Ql.black,l,u,c,h,f,_,p,g,w,T;if(!o){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ql[e])o=Ql[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),u=e.charAt(2),c=e.charAt(3),e="#"+l+l+u+u+c+c+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return o=parseInt(e.substr(1,6),16),[o>>16,o>>8&$e,o&$e,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),o=[e>>16,e>>8&$e,e&$e]}else if(e.substr(0,3)==="hsl"){if(o=T=e.match(rm),!t)h=+o[0]%360/360,f=+o[1]/100,_=+o[2]/100,u=_<=.5?_*(f+1):_+f-_*f,l=_*2-u,o.length>3&&(o[3]*=1),o[0]=mp(h+1/3,l,u),o[1]=mp(h,l,u),o[2]=mp(h-1/3,l,u);else if(~e.indexOf("="))return o=e.match(wE),n&&o.length<4&&(o[3]=1),o}else o=e.match(rm)||Ql.transparent;o=o.map(Number)}return t&&!T&&(l=o[0]/$e,u=o[1]/$e,c=o[2]/$e,p=Math.max(l,u,c),g=Math.min(l,u,c),_=(p+g)/2,p===g?h=f=0:(w=p-g,f=_>.5?w/(2-p-g):w/(p+g),h=p===l?(u-c)/w+(u<c?6:0):p===u?(c-l)/w+2:(l-u)/w+4,h*=60),o[0]=~~(h+.5),o[1]=~~(f*100+.5),o[2]=~~(_*100+.5)),n&&o.length<4&&(o[3]=1),o},KE=function(e){var t=[],n=[],o=-1;return e.split(Ws).forEach(function(l){var u=l.match(Qo)||[];t.push.apply(t,u),n.push(o+=u.length+1)}),t.c=n,t},gb=function(e,t,n){var o="",l=(e+o).match(Ws),u=t?"hsla(":"rgba(",c=0,h,f,_,p;if(!l)return e;if(l=l.map(function(g){return(g=$E(g,t,1))&&u+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(_=KE(e),h=n.c,h.join(o)!==_.c.join(o)))for(f=e.replace(Ws,"1").split(Qo),p=f.length-1;c<p;c++)o+=f[c]+(~h.indexOf(c)?l.shift()||u+"0,0,0,0)":(_.length?_:l.length?l:n).shift());if(!f)for(f=e.split(Ws),p=f.length-1;c<p;c++)o+=f[c]+l[c];return o+f[p]},Ws=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ql)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),NO=/hsl[a]?\(/,YE=function(e){var t=e.join(" "),n;if(Ws.lastIndex=0,Ws.test(t))return n=NO.test(t),e[1]=gb(e[1],n),e[0]=gb(e[0],n,KE(e[1])),!0},Sc,Ai=(function(){var i=Date.now,e=500,t=33,n=i(),o=n,l=1e3/240,u=l,c=[],h,f,_,p,g,w,T=function C(S){var b=i()-o,y=S===!0,m,x,A,D;if((b>e||b<0)&&(n+=b-t),o+=b,A=o-n,m=A-u,(m>0||y)&&(D=++p.frame,g=A-p.time*1e3,p.time=A=A/1e3,u+=m+(m>=l?4:l-m),x=1),y||(h=f(C)),x)for(w=0;w<c.length;w++)c[w](A,g,D,S)};return p={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(S){return g/(1e3/(S||60))},wake:function(){xE&&(!om&&mg()&&(yn=om=window,gg=yn.document||{},Mi.gsap=vi,(yn.gsapVersions||(yn.gsapVersions=[])).push(vi.version),RE(Wh||yn.GreenSockGlobals||!yn.gsap&&yn||{}),qE.forEach(GE)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&p.sleep(),f=_||function(S){return setTimeout(S,u-p.time*1e3+1|0)},Sc=1,T(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(h),Sc=0,f=vc},lagSmoothing:function(S,b){e=S||1/0,t=Math.min(b||33,e)},fps:function(S){l=1e3/(S||240),u=p.time*1e3+l},add:function(S,b,y){var m=b?function(x,A,D,k){S(x,A,D,k),p.remove(m)}:S;return p.remove(S),c[y?"unshift":"push"](m),Sa(),m},remove:function(S,b){~(b=c.indexOf(S))&&c.splice(b,1)&&w>=b&&w--},_listeners:c},p})(),Sa=function(){return!Sc&&Ai.wake()},Ie={},BO=/^[\d.\-M][\d.\-,\s]/,HO=/["']/g,UO=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),o=n[0],l=1,u=n.length,c,h,f;l<u;l++)h=n[l],c=l!==u-1?h.lastIndexOf(","):h.length,f=h.substr(0,c),t[o]=isNaN(f)?f.replace(HO,"").trim():+f,o=h.substr(c+1).trim();return t},FO=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),o=e.indexOf("(",t);return e.substring(t,~o&&o<n?e.indexOf(")",n+1):n)},zO=function(e){var t=(e+"").split("("),n=Ie[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[UO(t[1])]:FO(e).split(",").map(OE)):Ie._CE&&BO.test(e)?Ie._CE("",e):n},XE=function(e){return function(t){return 1-e(1-t)}},QE=function i(e,t){for(var n=e._first,o;n;)n instanceof ii?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(o=n._ease,n._ease=n._yEase,n._yEase=o,n._yoyo=t)),n=n._next},jr=function(e,t){return e&&(dt(e)?e:Ie[e]||zO(e))||t},to=function(e,t,n,o){n===void 0&&(n=function(h){return 1-t(1-h)}),o===void 0&&(o=function(h){return h<.5?t(h*2)/2:1-t((1-h)*2)/2});var l={easeIn:t,easeOut:n,easeInOut:o},u;return pi(e,function(c){Ie[c]=Mi[c]=l,Ie[u=c.toLowerCase()]=n;for(var h in l)Ie[u+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=Ie[c+"."+h]=l[h]}),l},ZE=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},gp=function i(e,t,n){var o=t>=1?t:1,l=(n||(e?.3:.45))/(t<1?t:1),u=l/sm*(Math.asin(1/o)||0),c=function(_){return _===1?1:o*Math.pow(2,-10*_)*pO((_-u)*l)+1},h=e==="out"?c:e==="in"?function(f){return 1-c(1-f)}:ZE(c);return l=sm/l,h.config=function(f,_){return i(e,f,_)},h},vp=function i(e,t){t===void 0&&(t=1.70158);var n=function(u){return u?--u*u*((t+1)*u+t)+1:0},o=e==="out"?n:e==="in"?function(l){return 1-n(1-l)}:ZE(n);return o.config=function(l){return i(e,l)},o};pi("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;to(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Ie.Linear.easeNone=Ie.none=Ie.Linear.easeIn;to("Elastic",gp("in"),gp("out"),gp());(function(i,e){var t=1/e,n=2*t,o=2.5*t,l=function(c){return c<t?i*c*c:c<n?i*Math.pow(c-1.5/e,2)+.75:c<o?i*(c-=2.25/e)*c+.9375:i*Math.pow(c-2.625/e,2)+.984375};to("Bounce",function(u){return 1-l(1-u)},l)})(7.5625,2.75);to("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});to("Circ",function(i){return-(bE(1-i*i)-1)});to("Sine",function(i){return i===1?1:-_O(i*fO)+1});to("Back",vp("in"),vp("out"),vp());Ie.SteppedEase=Ie.steps=Mi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,o=e+(t?0:1),l=t?1:0,u=1-Ke;return function(c){return((o*Gc(0,u,c)|0)+l)*n}}};ma.ease=Ie["quad.out"];pi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return Sg+=i+","+i+"Params,"});var JE=function(e,t){this.id=dO++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:kE,this.set=t?t.getSetter:xg},bc=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ya(this,+t.duration,1,1),this.data=t.data,it&&(this._ctx=it,it.data.push(this)),Sc||Ai.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,ya(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,o){if(Sa(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Df(this,n),!l._dp||l.parent||PE(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&bn(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Ke||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),ME(this,n,o)),this},e.time=function(n,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+_b(this))%(this._dur+this._rDelay)||(n?this._dur:0),o):this._time},e.totalProgress=function(n,o){return arguments.length?this.totalTime(this.totalDuration()*n,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+_b(this),o):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,o){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*l,o):this._repeat?va(this._tTime,l)+1:1},e.timeScale=function(n,o){if(!arguments.length)return this._rts===-Ke?0:this._rts;if(this._rts===n)return this;var l=this.parent&&this._ts?$h(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Ke?0:this._rts,this.totalTime(Gc(-Math.abs(this._delay),this.totalDuration(),l),o!==!1),Af(this),CO(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Sa(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ke&&(this._tTime-=Ke)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&bn(o,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(_i(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var o=this.parent||this._dp;return o?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?$h(o.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=vO);var o=jt;return jt=n,Cg(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),jt=o,this},e.globalTime=function(n){for(var o=this,l=arguments.length?n:o.rawTime();o;)l=o._start+l/(Math.abs(o._ts)||1),o=o._dp;return!this.parent&&this._sat?this._sat.globalTime(n):l},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,pb(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var o=this._time;return this._rDelay=n,pb(this),o?this.time(o):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,o){return this.totalTime(Wi(this,n),_i(o))},e.restart=function(n,o){return this.play().totalTime(n?-this._delay:0,_i(o)),this._dur||(this._zTime=-Ke),this},e.play=function(n,o){return n!=null&&this.seek(n,o),this.reversed(!1).paused(!1)},e.reverse=function(n,o){return n!=null&&this.seek(n||this.totalDuration(),o),this.reversed(!0).paused(!1)},e.pause=function(n,o){return n!=null&&this.seek(n,o),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Ke:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ke,this},e.isActive=function(){var n=this.parent||this._dp,o=this._start,l;return!!(!n||this._ts&&this._initted&&n.isActive()&&(l=n.rawTime(!0))>=o&&l<this.endTime(!0)-Ke)},e.eventCallback=function(n,o,l){var u=this.vars;return arguments.length>1?(o?(u[n]=o,l&&(u[n+"Params"]=l),n==="onUpdate"&&(this._onUpdate=o)):delete u[n],this):u[n]},e.then=function(n){var o=this;return new Promise(function(l){var u=dt(n)?n:LE,c=function(){var f=o.then;o.then=null,dt(u)&&(u=u(o))&&(u.then||u===o)&&(o.then=f),l(u),o.then=f};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?c():o._prom=c})},e.kill=function(){Xl(this)},i})();Oi(bc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ke,_prom:0,_ps:!1,_rts:1});var ii=(function(i){SE(e,i);function e(n,o){var l;return n===void 0&&(n={}),l=i.call(this,n)||this,l.labels={},l.smoothChildTiming=!!n.smoothChildTiming,l.autoRemoveChildren=!!n.autoRemoveChildren,l._sort=_i(n.sortChildren),rt&&bn(n.parent||rt,$n(l),o),n.reversed&&l.reverse(),n.paused&&l.paused(!0),n.scrollTrigger&&NE($n(l),n.scrollTrigger),l}var t=e.prototype;return t.to=function(o,l,u){return ic(0,arguments,this),this},t.from=function(o,l,u){return ic(1,arguments,this),this},t.fromTo=function(o,l,u,c){return ic(2,arguments,this),this},t.set=function(o,l,u){return l.duration=0,l.parent=this,tc(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new Ct(o,l,Wi(this,u),1),this},t.call=function(o,l,u){return bn(this,Ct.delayedCall(0,o,l),u)},t.staggerTo=function(o,l,u,c,h,f,_){return u.duration=l,u.stagger=u.stagger||c,u.onComplete=f,u.onCompleteParams=_,u.parent=this,new Ct(o,u,Wi(this,h)),this},t.staggerFrom=function(o,l,u,c,h,f,_){return u.runBackwards=1,tc(u).immediateRender=_i(u.immediateRender),this.staggerTo(o,l,u,c,h,f,_)},t.staggerFromTo=function(o,l,u,c,h,f,_,p){return c.startAt=u,tc(c).immediateRender=_i(c.immediateRender),this.staggerTo(o,l,c,h,f,_,p)},t.render=function(o,l,u){var c=this._time,h=this._dirty?this.totalDuration():this._tDur,f=this._dur,_=o<=0?0:wt(o),p=this._zTime<0!=o<0&&(this._initted||!f),g,w,T,C,S,b,y,m,x,A,D,k;if(this!==rt&&_>h&&o>=0&&(_=h),_!==this._tTime||u||p){if(c!==this._time&&f&&(_+=this._time-c,o+=this._time-c),g=_,x=this._start,m=this._ts,b=!m,p&&(f||(c=this._zTime),(o||!l)&&(this._zTime=o)),this._repeat){if(D=this._yoyo,S=f+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(S*100+o,l,u);if(g=wt(_%S),_===h?(C=this._repeat,g=f):(A=wt(_/S),C=~~A,C&&C===A&&(g=f,C--),g>f&&(g=f)),A=va(this._tTime,S),!c&&this._tTime&&A!==C&&this._tTime-A*S-this._dur<=0&&(A=C),D&&C&1&&(g=f-g,k=1),C!==A&&!this._lock){var R=D&&A&1,M=R===(D&&C&1);if(C<A&&(R=!R),c=R?0:_%f?f:_,this._lock=1,this.render(c||(k?0:wt(C*S)),l,!f)._lock=0,this._tTime=_,!l&&this.parent&&Di(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),c&&c!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,h=this._tDur,M&&(this._lock=2,c=R?f:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;QE(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=xO(this,wt(c),wt(g)),y&&(_-=g-(g=y._start))),this._tTime=_,this._time=g,this._act=!m,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,c=0),!c&&_&&!l&&!A&&(Di(this,"onStart"),this._tTime!==_))return this;if(g>=c&&o>=0)for(w=this._first;w;){if(T=w._next,(w._act||g>=w._start)&&w._ts&&y!==w){if(w.parent!==this)return this.render(o,l,u);if(w.render(w._ts>0?(g-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(g-w._start)*w._ts,l,u),g!==this._time||!this._ts&&!b){y=0,T&&(_+=this._zTime=-Ke);break}}w=T}else{w=this._last;for(var U=o<0?o:g;w;){if(T=w._prev,(w._act||U<=w._end)&&w._ts&&y!==w){if(w.parent!==this)return this.render(o,l,u);if(w.render(w._ts>0?(U-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(U-w._start)*w._ts,l,u||jt&&Cg(w)),g!==this._time||!this._ts&&!b){y=0,T&&(_+=this._zTime=U?-Ke:Ke);break}}w=T}}if(y&&!l&&(this.pause(),y.render(g>=c?0:-Ke)._zTime=g>=c?1:-1,this._ts))return this._start=x,Af(this),this.render(o,l,u);this._onUpdate&&!l&&Di(this,"onUpdate",!0),(_===h&&this._tTime>=this.totalDuration()||!_&&c)&&(x===this._start||Math.abs(m)!==Math.abs(this._ts))&&(this._lock||((o||!f)&&(_===h&&this._ts>0||!_&&this._ts<0)&&Qs(this,1),!l&&!(o<0&&!c)&&(_||c||!h)&&(Di(this,_===h&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<h&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(o,l){var u=this;if(ts(l)||(l=Wi(this,l,o)),!(o instanceof bc)){if(Zt(o))return o.forEach(function(c){return u.add(c,l)}),this;if(Pt(o))return this.addLabel(o,l);if(dt(o))o=Ct.delayedCall(0,o);else return this}return this!==o?bn(this,o,l):this},t.getChildren=function(o,l,u,c){o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),c===void 0&&(c=-Gi);for(var h=[],f=this._first;f;)f._start>=c&&(f instanceof Ct?l&&h.push(f):(u&&h.push(f),o&&h.push.apply(h,f.getChildren(!0,l,u)))),f=f._next;return h},t.getById=function(o){for(var l=this.getChildren(1,1,1),u=l.length;u--;)if(l[u].vars.id===o)return l[u]},t.remove=function(o){return Pt(o)?this.removeLabel(o):dt(o)?this.killTweensOf(o):(o.parent===this&&Rf(this,o),o===this._recent&&(this._recent=this._last),Vr(this))},t.totalTime=function(o,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=wt(Ai.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),i.prototype.totalTime.call(this,o,l),this._forcing=0,this):this._tTime},t.addLabel=function(o,l){return this.labels[o]=Wi(this,l),this},t.removeLabel=function(o){return delete this.labels[o],this},t.addPause=function(o,l,u){var c=Ct.delayedCall(0,l||vc,u);return c.data="isPause",this._hasPause=1,bn(this,c,Wi(this,o))},t.removePause=function(o){var l=this._first;for(o=Wi(this,o);l;)l._start===o&&l.data==="isPause"&&Qs(l),l=l._next},t.killTweensOf=function(o,l,u){for(var c=this.getTweensOf(o,u),h=c.length;h--;)Us!==c[h]&&c[h].kill(o,l);return this},t.getTweensOf=function(o,l){for(var u=[],c=$i(o),h=this._first,f=ts(l),_;h;)h instanceof Ct?yO(h._targets,c)&&(f?(!Us||h._initted&&h._ts)&&h.globalTime(0)<=l&&h.globalTime(h.totalDuration())>l:!l||h.isActive())&&u.push(h):(_=h.getTweensOf(c,l)).length&&u.push.apply(u,_),h=h._next;return u},t.tweenTo=function(o,l){l=l||{};var u=this,c=Wi(u,o),h=l,f=h.startAt,_=h.onStart,p=h.onStartParams,g=h.immediateRender,w,T=Ct.to(u,Oi({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:l.duration||Math.abs((c-(f&&"time"in f?f.time:u._time))/u.timeScale())||Ke,onStart:function(){if(u.pause(),!w){var S=l.duration||Math.abs((c-(f&&"time"in f?f.time:u._time))/u.timeScale());T._dur!==S&&ya(T,S,0,1).render(T._time,!0,!0),w=1}_&&_.apply(T,p||[])}},l));return g?T.render(0):T},t.tweenFromTo=function(o,l,u){return this.tweenTo(l,Oi({startAt:{time:Wi(this,o)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(o){return o===void 0&&(o=this._time),mb(this,Wi(this,o))},t.previousLabel=function(o){return o===void 0&&(o=this._time),mb(this,Wi(this,o),1)},t.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Ke)},t.shiftChildren=function(o,l,u){u===void 0&&(u=0);for(var c=this._first,h=this.labels,f;c;)c._start>=u&&(c._start+=o,c._end+=o),c=c._next;if(l)for(f in h)h[f]>=u&&(h[f]+=o);return Vr(this)},t.invalidate=function(o){var l=this._first;for(this._lock=0;l;)l.invalidate(o),l=l._next;return i.prototype.invalidate.call(this,o)},t.clear=function(o){o===void 0&&(o=!0);for(var l=this._first,u;l;)u=l._next,this.remove(l),l=u;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Vr(this)},t.totalDuration=function(o){var l=0,u=this,c=u._last,h=Gi,f,_,p;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-o:o));if(u._dirty){for(p=u.parent;c;)f=c._prev,c._dirty&&c.totalDuration(),_=c._start,_>h&&u._sort&&c._ts&&!u._lock?(u._lock=1,bn(u,c,_-c._delay,1)._lock=0):h=_,_<0&&c._ts&&(l-=_,(!p&&!u._dp||p&&p.smoothChildTiming)&&(u._start+=_/u._ts,u._time-=_,u._tTime-=_),u.shiftChildren(-_,!1,-1/0),h=0),c._end>l&&c._ts&&(l=c._end),c=f;ya(u,u===rt&&u._time>l?u._time:l,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(o){if(rt._ts&&(ME(rt,$h(o,rt)),DE=Ai.frame),Ai.frame>=fb){fb+=ki.autoSleep||120;var l=rt._first;if((!l||!l._ts)&&ki.autoSleep&&Ai._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||Ai.sleep()}}},e})(bc);Oi(ii.prototype,{_lock:0,_hasPause:0,_forcing:0});var VO=function(e,t,n,o,l,u,c){var h=new mi(this._pt,e,t,0,1,rT,null,l),f=0,_=0,p,g,w,T,C,S,b,y;for(h.b=n,h.e=o,n+="",o+="",(b=~o.indexOf("random("))&&(o=yc(o)),u&&(y=[n,o],u(y,e,t),n=y[0],o=y[1]),g=n.match(_p)||[];p=_p.exec(o);)T=p[0],C=o.substring(f,p.index),w?w=(w+1)%5:C.substr(-5)==="rgba("&&(w=1),T!==g[_++]&&(S=parseFloat(g[_-1])||0,h._pt={_next:h._pt,p:C||_===1?C:",",s:S,c:T.charAt(1)==="="?aa(S,T)-S:parseFloat(T)-S,m:w&&w<4?Math.round:0},f=_p.lastIndex);return h.c=f<o.length?o.substring(f,o.length):"",h.fp=c,(EE.test(o)||b)&&(h.e=0),this._pt=h,h},wg=function(e,t,n,o,l,u,c,h,f,_){dt(o)&&(o=o(l||0,e,u));var p=e[t],g=n!=="get"?n:dt(p)?f?e[t.indexOf("set")||!dt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():p,w=dt(p)?f?$O:nT:Tg,T;if(Pt(o)&&(~o.indexOf("random(")&&(o=yc(o)),o.charAt(1)==="="&&(T=aa(g,o)+(Xt(g)||0),(T||T===0)&&(o=T))),!_||g!==o||dm)return!isNaN(g*o)&&o!==""?(T=new mi(this._pt,e,t,+g||0,o-(g||0),typeof p=="boolean"?YO:sT,0,w),f&&(T.fp=f),c&&T.modifier(c,this,e),this._pt=T):(!p&&!(t in e)&&vg(t,o),VO.call(this,e,t,g,o,w,h||ki.stringFilter,f))},jO=function(e,t,n,o,l){if(dt(e)&&(e=nc(e,l,t,n,o)),!An(e)||e.style&&e.nodeType||Zt(e)||CE(e))return Pt(e)?nc(e,l,t,n,o):e;var u={},c;for(c in e)u[c]=nc(e[c],l,t,n,o);return u},eT=function(e,t,n,o,l,u){var c,h,f,_;if(Ri[e]&&(c=new Ri[e]).init(l,c.rawVars?t[e]:jO(t[e],o,l,u,n),n,o,u)!==!1&&(n._pt=h=new mi(n._pt,l,e,0,1,c.render,c,0,c.priority),n!==Zo))for(f=n._ptLookup[n._targets.indexOf(l)],_=c._props.length;_--;)f[c._props[_]]=h;return c},Us,dm,Eg=function i(e,t,n){var o=e.vars,l=o.ease,u=o.startAt,c=o.immediateRender,h=o.lazy,f=o.onUpdate,_=o.runBackwards,p=o.yoyoEase,g=o.keyframes,w=o.autoRevert,T=e._dur,C=e._startAt,S=e._targets,b=e.parent,y=b&&b.data==="nested"?b.vars.targets:S,m=e._overwrite==="auto"&&!_g,x=e.timeline,A,D,k,R,M,U,z,W,H,J,se,V,$;if(x&&(!g||!l)&&(l="none"),e._ease=jr(l,ma.ease),e._yEase=p?XE(jr(p===!0?l:p,ma.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!x&&!!o.runBackwards,!x||g&&!o.stagger){if(W=S[0]?zr(S[0]).harness:0,V=W&&o[W.prop],A=Gh(o,yg),C&&(C._zTime<0&&C.progress(1),t<0&&_&&c&&!w?C.render(-1,!0):C.revert(_&&T?Mh:gO),C._lazy=0),u){if(Qs(e._startAt=Ct.set(S,Oi({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!C&&_i(h),startAt:null,delay:0,onUpdate:f&&function(){return Di(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(jt||!c&&!w)&&e._startAt.revert(Mh),c&&T&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(_&&T&&!C){if(t&&(c=!1),k=Oi({overwrite:!1,data:"isFromStart",lazy:c&&!C&&_i(h),immediateRender:c,stagger:0,parent:b},A),V&&(k[W.prop]=V),Qs(e._startAt=Ct.set(S,k)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(jt?e._startAt.revert(Mh):e._startAt.render(-1,!0)),e._zTime=t,!c)i(e._startAt,Ke,Ke);else if(!t)return}for(e._pt=e._ptCache=0,h=T&&_i(h)||h&&!T,D=0;D<S.length;D++){if(M=S[D],z=M._gsap||bg(S)[D]._gsap,e._ptLookup[D]=J={},am[z.id]&&js.length&&qh(),se=y===S?D:y.indexOf(M),W&&(H=new W).init(M,V||A,e,se,y)!==!1&&(e._pt=R=new mi(e._pt,M,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(Q){J[Q]=R}),H.priority&&(U=1)),!W||V)for(k in A)Ri[k]&&(H=eT(k,A,e,se,M,y))?H.priority&&(U=1):J[k]=R=wg.call(e,M,k,"get",A[k],se,y,0,o.stringFilter);e._op&&e._op[D]&&e.kill(M,e._op[D]),m&&e._pt&&(Us=e,rt.killTweensOf(M,J,e.globalTime(t)),$=!e.parent,Us=0),e._pt&&h&&(am[z.id]=1)}U&&oT(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!$,g&&t<=0&&x.render(Gi,!0,!0)},WO=function(e,t,n,o,l,u,c,h){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,p,g,w;if(!f)for(f=e._ptCache[t]=[],g=e._ptLookup,w=e._targets.length;w--;){if(_=g[w][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return dm=1,e.vars[t]="+=0",Eg(e,c),dm=0,h?gc(t+" not eligible for reset"):1;f.push(_)}for(w=f.length;w--;)p=f[w],_=p._pt||p,_.s=(o||o===0)&&!l?o:_.s+(o||0)+u*_.c,_.c=n-_.s,p.e&&(p.e=vt(n)+Xt(p.e)),p.b&&(p.b=_.s+Xt(p.b))},qO=function(e,t){var n=e[0]?zr(e[0]).harness:0,o=n&&n.aliases,l,u,c,h;if(!o)return t;l=ga({},t);for(u in o)if(u in l)for(h=o[u].split(","),c=h.length;c--;)l[h[c]]=l[u];return l},GO=function(e,t,n,o){var l=t.ease||o||"power1.inOut",u,c;if(Zt(t))c=n[e]||(n[e]=[]),t.forEach(function(h,f){return c.push({t:f/(t.length-1)*100,v:h,e:l})});else for(u in t)c=n[u]||(n[u]=[]),u==="ease"||c.push({t:parseFloat(e),v:t[u],e:l})},nc=function(e,t,n,o,l){return dt(e)?e.call(t,n,o,l):Pt(e)&&~e.indexOf("random(")?yc(e):e},tT=Sg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iT={};pi(tT+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return iT[i]=1});var Ct=(function(i){SE(e,i);function e(n,o,l,u){var c;typeof o=="number"&&(l.duration=o,o=l,l=null),c=i.call(this,u?o:tc(o))||this;var h=c.vars,f=h.duration,_=h.delay,p=h.immediateRender,g=h.stagger,w=h.overwrite,T=h.keyframes,C=h.defaults,S=h.scrollTrigger,b=h.yoyoEase,y=o.parent||rt,m=(Zt(n)||CE(n)?ts(n[0]):"length"in o)?[n]:$i(n),x,A,D,k,R,M,U,z;if(c._targets=m.length?bg(m):gc("GSAP target "+n+" not found. https://gsap.com",!ki.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=w,T||g||bh(f)||bh(_)){if(o=c.vars,x=c.timeline=new ii({data:"nested",defaults:C||{},targets:y&&y.data==="nested"?y.vars.targets:m}),x.kill(),x.parent=x._dp=$n(c),x._start=0,g||bh(f)||bh(_)){if(k=m.length,U=g&&FE(g),An(g))for(R in g)~tT.indexOf(R)&&(z||(z={}),z[R]=g[R]);for(A=0;A<k;A++)D=Gh(o,iT),D.stagger=0,b&&(D.yoyoEase=b),z&&ga(D,z),M=m[A],D.duration=+nc(f,$n(c),A,M,m),D.delay=(+nc(_,$n(c),A,M,m)||0)-c._delay,!g&&k===1&&D.delay&&(c._delay=_=D.delay,c._start+=_,D.delay=0),x.to(M,D,U?U(A,M,m):0),x._ease=Ie.none;x.duration()?f=_=0:c.timeline=0}else if(T){tc(Oi(x.vars.defaults,{ease:"none"})),x._ease=jr(T.ease||o.ease||"none");var W=0,H,J,se;if(Zt(T))T.forEach(function(V){return x.to(m,V,">")}),x.duration();else{D={};for(R in T)R==="ease"||R==="easeEach"||GO(R,T[R],D,T.easeEach);for(R in D)for(H=D[R].sort(function(V,$){return V.t-$.t}),W=0,A=0;A<H.length;A++)J=H[A],se={ease:J.e,duration:(J.t-(A?H[A-1].t:0))/100*f},se[R]=J.v,x.to(m,se,W),W+=se.duration;x.duration()<f&&x.to({},{duration:f-x.duration()})}}f||c.duration(f=x.duration())}else c.timeline=0;return w===!0&&!_g&&(Us=$n(c),rt.killTweensOf(m),Us=0),bn(y,$n(c),l),o.reversed&&c.reverse(),o.paused&&c.paused(!0),(p||!f&&!T&&c._start===wt(y._time)&&_i(p)&&wO($n(c))&&y.data!=="nested")&&(c._tTime=-Ke,c.render(Math.max(0,-_)||0)),S&&NE($n(c),S),c}var t=e.prototype;return t.render=function(o,l,u){var c=this._time,h=this._tDur,f=this._dur,_=o<0,p=o>h-Ke&&!_?h:o<Ke?0:o,g,w,T,C,S,b,y,m,x;if(!f)TO(this,o,l,u);else if(p!==this._tTime||!o||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(g=p,m=this.timeline,this._repeat){if(C=f+this._rDelay,this._repeat<-1&&_)return this.totalTime(C*100+o,l,u);if(g=wt(p%C),p===h?(T=this._repeat,g=f):(S=wt(p/C),T=~~S,T&&T===S?(g=f,T--):g>f&&(g=f)),b=this._yoyo&&T&1,b&&(x=this._yEase,g=f-g),S=va(this._tTime,C),g===c&&!u&&this._initted&&T===S)return this._tTime=p,this;T!==S&&(m&&this._yEase&&QE(m,b),this.vars.repeatRefresh&&!b&&!this._lock&&g!==C&&this._initted&&(this._lock=u=1,this.render(wt(C*T),!0).invalidate()._lock=0))}if(!this._initted){if(BE(this,_?o:g,u,l,p))return this._tTime=0,this;if(c!==this._time&&!(u&&this.vars.repeatRefresh&&T!==S))return this;if(f!==this._dur)return this.render(o,l,u)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(x||this._ease)(g/f),this._from&&(this.ratio=y=1-y),!c&&p&&!l&&!S&&(Di(this,"onStart"),this._tTime!==p))return this;for(w=this._pt;w;)w.r(y,w.d),w=w._next;m&&m.render(o<0?o:m._dur*m._ease(g/this._dur),l,u)||this._startAt&&(this._zTime=o),this._onUpdate&&!l&&(_&&lm(this,o,l,u),Di(this,"onUpdate")),this._repeat&&T!==S&&this.vars.onRepeat&&!l&&this.parent&&Di(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(_&&!this._onUpdate&&lm(this,o,!0,!0),(o||!f)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Qs(this,1),!l&&!(_&&!c)&&(p||c||b)&&(Di(this,p===h?"onComplete":"onReverseComplete",!0),this._prom&&!(p<h&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),i.prototype.invalidate.call(this,o)},t.resetTo=function(o,l,u,c,h){Sc||Ai.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||Eg(this,f),_=this._ease(f/this._dur),WO(this,o,l,u,c,_,f,h)?this.resetTo(o,l,u,c,1):(Df(this,0),this.parent||IE(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(o,l){if(l===void 0&&(l="all"),!o&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?Xl(this):this.scrollTrigger&&this.scrollTrigger.kill(!!jt),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(o,l,Us&&Us.vars.overwrite!==!0)._first||Xl(this),this.parent&&u!==this.timeline.totalDuration()&&ya(this,this._dur*this.timeline._tDur/u,0,1),this}var c=this._targets,h=o?$i(o):c,f=this._ptLookup,_=this._pt,p,g,w,T,C,S,b;if((!l||l==="all")&&bO(c,h))return l==="all"&&(this._pt=0),Xl(this);for(p=this._op=this._op||[],l!=="all"&&(Pt(l)&&(C={},pi(l,function(y){return C[y]=1}),l=C),l=qO(c,l)),b=c.length;b--;)if(~h.indexOf(c[b])){g=f[b],l==="all"?(p[b]=l,T=g,w={}):(w=p[b]=p[b]||{},T=l);for(C in T)S=g&&g[C],S&&((!("kill"in S.d)||S.d.kill(C)===!0)&&Rf(this,S,"_pt"),delete g[C]),w!=="all"&&(w[C]=1)}return this._initted&&!this._pt&&_&&Xl(this),this},e.to=function(o,l){return new e(o,l,arguments[2])},e.from=function(o,l){return ic(1,arguments)},e.delayedCall=function(o,l,u,c){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:l,onReverseComplete:l,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:c})},e.fromTo=function(o,l,u){return ic(2,arguments)},e.set=function(o,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(o,l)},e.killTweensOf=function(o,l,u){return rt.killTweensOf(o,l,u)},e})(bc);Oi(Ct.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});pi("staggerTo,staggerFrom,staggerFromTo",function(i){Ct[i]=function(){var e=new ii,t=um.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var Tg=function(e,t,n){return e[t]=n},nT=function(e,t,n){return e[t](n)},$O=function(e,t,n,o){return e[t](o.fp,n)},KO=function(e,t,n){return e.setAttribute(t,n)},xg=function(e,t){return dt(e[t])?nT:pg(e[t])&&e.setAttribute?KO:Tg},sT=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},YO=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},rT=function(e,t){var n=t._pt,o="";if(!e&&t.b)o=t.b;else if(e===1&&t.e)o=t.e;else{for(;n;)o=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+o,n=n._next;o+=t.c}t.set(t.t,t.p,o,t)},Rg=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},XO=function(e,t,n,o){for(var l=this._pt,u;l;)u=l._next,l.p===o&&l.modifier(e,t,n),l=u},QO=function(e){for(var t=this._pt,n,o;t;)o=t._next,t.p===e&&!t.op||t.op===e?Rf(this,t,"_pt"):t.dep||(n=1),t=o;return!n},ZO=function(e,t,n,o){o.mSet(e,t,o.m.call(o.tween,n,o.mt),o)},oT=function(e){for(var t=e._pt,n,o,l,u;t;){for(n=t._next,o=l;o&&o.pr>t.pr;)o=o._next;(t._prev=o?o._prev:u)?t._prev._next=t:l=t,(t._next=o)?o._prev=t:u=t,t=n}e._pt=l},mi=(function(){function i(t,n,o,l,u,c,h,f,_){this.t=n,this.s=l,this.c=u,this.p=o,this.r=c||sT,this.d=h||this,this.set=f||Tg,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,o,l){this.mSet=this.mSet||this.set,this.set=ZO,this.m=n,this.mt=l,this.tween=o},i})();pi(Sg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return yg[i]=1});Mi.TweenMax=Mi.TweenLite=Ct;Mi.TimelineLite=Mi.TimelineMax=ii;rt=new ii({sortChildren:!1,defaults:ma,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ki.stringFilter=YE;var Wr=[],Lh={},JO=[],vb=0,eL=0,yp=function(e){return(Lh[e]||JO).map(function(t){return t()})},_m=function(){var e=Date.now(),t=[];e-vb>2&&(yp("matchMediaInit"),Wr.forEach(function(n){var o=n.queries,l=n.conditions,u,c,h,f;for(c in o)u=yn.matchMedia(o[c]).matches,u&&(h=1),u!==l[c]&&(l[c]=u,f=1);f&&(n.revert(),h&&t.push(n))}),yp("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(o){return n.add(null,o)})}),vb=e,yp("matchMedia"))},aT=(function(){function i(t,n){this.selector=n&&hm(n),this.data=[],this._r=[],this.isReverted=!1,this.id=eL++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,o,l){dt(n)&&(l=o,o=n,n=dt);var u=this,c=function(){var f=it,_=u.selector,p;return f&&f!==u&&f.data.push(u),l&&(u.selector=hm(l)),it=u,p=o.apply(u,arguments),dt(p)&&u._r.push(p),it=f,u.selector=_,u.isReverted=!1,p};return u.last=c,n===dt?c(u,function(h){return u.add(null,h)}):n?u[n]=c:c},e.ignore=function(n){var o=it;it=null,n(this),it=o},e.getTweens=function(){var n=[];return this.data.forEach(function(o){return o instanceof i?n.push.apply(n,o.getTweens()):o instanceof Ct&&!(o.parent&&o.parent.data==="nested")&&n.push(o)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,o){var l=this;if(n?(function(){for(var c=l.getTweens(),h=l.data.length,f;h--;)f=l.data[h],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(_){return c.splice(c.indexOf(_),1)}));for(c.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,p){return p.g-_.g||-1/0}).forEach(function(_){return _.t.revert(n)}),h=l.data.length;h--;)f=l.data[h],f instanceof ii?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof Ct)&&f.revert&&f.revert(n);l._r.forEach(function(_){return _(n,l)}),l.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),o)for(var u=Wr.length;u--;)Wr[u].id===this.id&&Wr.splice(u,1)},e.revert=function(n){this.kill(n||{})},i})(),tL=(function(){function i(t){this.contexts=[],this.scope=t,it&&it.data.push(this)}var e=i.prototype;return e.add=function(n,o,l){An(n)||(n={matches:n});var u=new aT(0,l||this.scope),c=u.conditions={},h,f,_;it&&!u.selector&&(u.selector=it.selector),this.contexts.push(u),o=u.add("onMatch",o),u.queries=n;for(f in n)f==="all"?_=1:(h=yn.matchMedia(n[f]),h&&(Wr.indexOf(u)<0&&Wr.push(u),(c[f]=h.matches)&&(_=1),h.addListener?h.addListener(_m):h.addEventListener("change",_m)));return _&&o(u,function(p){return u.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(o){return o.kill(n,!0)})},i})(),Kh={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(o){return GE(o)})},timeline:function(e){return new ii(e)},getTweensOf:function(e,t){return rt.getTweensOf(e,t)},getProperty:function(e,t,n,o){Pt(e)&&(e=$i(e)[0]);var l=zr(e||{}).get,u=n?LE:OE;return n==="native"&&(n=""),e&&(t?u((Ri[t]&&Ri[t].get||l)(e,t,n,o)):function(c,h,f){return u((Ri[c]&&Ri[c].get||l)(e,c,h,f))})},quickSetter:function(e,t,n){if(e=$i(e),e.length>1){var o=e.map(function(_){return vi.quickSetter(_,t,n)}),l=o.length;return function(_){for(var p=l;p--;)o[p](_)}}e=e[0]||{};var u=Ri[t],c=zr(e),h=c.harness&&(c.harness.aliases||{})[t]||t,f=u?function(_){var p=new u;Zo._pt=0,p.init(e,n?_+n:_,Zo,0,[e]),p.render(1,p),Zo._pt&&Rg(1,Zo)}:c.set(e,h);return u?f:function(_){return f(e,h,n?_+n:_,c,1)}},quickTo:function(e,t,n){var o,l=vi.to(e,Oi((o={},o[t]="+=0.1",o.paused=!0,o.stagger=0,o),n||{})),u=function(h,f,_){return l.resetTo(t,h,f,_)};return u.tween=l,u},isTweening:function(e){return rt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=jr(e.ease,ma.ease)),db(ma,e||{})},config:function(e){return db(ki,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,o=e.plugins,l=e.defaults,u=e.extendTimeline;(o||"").split(",").forEach(function(c){return c&&!Ri[c]&&!Mi[c]&&gc(t+" effect requires "+c+" plugin.")}),pp[t]=function(c,h,f){return n($i(c),Oi(h||{},l),f)},u&&(ii.prototype[t]=function(c,h,f){return this.add(pp[t](c,An(h)?h:(f=h)&&{},this),f)})},registerEase:function(e,t){Ie[e]=jr(t)},parseEase:function(e,t){return arguments.length?jr(e,t):Ie},getById:function(e){return rt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ii(e),o,l;for(n.smoothChildTiming=_i(e.smoothChildTiming),rt.remove(n),n._dp=0,n._time=n._tTime=rt._time,o=rt._first;o;)l=o._next,(t||!(!o._dur&&o instanceof Ct&&o.vars.onComplete===o._targets[0]))&&bn(n,o,o._start-o._delay),o=l;return bn(rt,n,0),n},context:function(e,t){return e?new aT(e,t):it},matchMedia:function(e){return new tL(e)},matchMediaRefresh:function(){return Wr.forEach(function(e){var t=e.conditions,n,o;for(o in t)t[o]&&(t[o]=!1,n=1);n&&e.revert()})||_m()},addEventListener:function(e,t){var n=Lh[e]||(Lh[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Lh[e],o=n&&n.indexOf(t);o>=0&&n.splice(o,1)},utils:{wrap:LO,wrapYoyo:IO,distribute:FE,random:VE,snap:zE,normalize:OO,getUnit:Xt,clamp:AO,splitColor:$E,toArray:$i,selector:hm,mapRange:WE,pipe:kO,unitize:MO,interpolate:PO,shuffle:UE},install:RE,effects:pp,ticker:Ai,updateRoot:ii.updateRoot,plugins:Ri,globalTimeline:rt,core:{PropTween:mi,globals:AE,Tween:Ct,Timeline:ii,Animation:bc,getCache:zr,_removeLinkedListItem:Rf,reverting:function(){return jt},context:function(e){return e&&it&&(it.data.push(e),e._ctx=it),it},suppressOverwrites:function(e){return _g=e}}};pi("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Kh[i]=Ct[i]});Ai.add(ii.updateRoot);Zo=Kh.to({},{duration:0});var iL=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},nL=function(e,t){var n=e._targets,o,l,u;for(o in t)for(l=n.length;l--;)u=e._ptLookup[l][o],u&&(u=u.d)&&(u._pt&&(u=iL(u,o)),u&&u.modifier&&u.modifier(t[o],e,n[l],o))},Sp=function(e,t){return{name:e,headless:1,rawVars:1,init:function(o,l,u){u._onInit=function(c){var h,f;if(Pt(l)&&(h={},pi(l,function(_){return h[_]=1}),l=h),t){h={};for(f in l)h[f]=t(l[f]);l=h}nL(c,l)}}}},vi=Kh.registerPlugin({name:"attr",init:function(e,t,n,o,l){var u,c,h;this.tween=n;for(u in t)h=e.getAttribute(u)||"",c=this.add(e,"setAttribute",(h||0)+"",t[u],o,l,0,0,u),c.op=u,c.b=h,this._props.push(u)},render:function(e,t){for(var n=t._pt;n;)jt?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Sp("roundProps",fm),Sp("modifiers"),Sp("snap",zE))||Kh;Ct.version=ii.version=vi.version="3.13.0";xE=1;mg()&&Sa();Ie.Power0;Ie.Power1;Ie.Power2;Ie.Power3;Ie.Power4;Ie.Linear;Ie.Quad;Ie.Cubic;Ie.Quart;Ie.Quint;Ie.Strong;Ie.Elastic;Ie.Back;Ie.SteppedEase;Ie.Bounce;Ie.Sine;Ie.Expo;Ie.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yb,Fs,la,Ag,Br,Sb,Dg,sL=function(){return typeof window<"u"},is={},Lr=180/Math.PI,ca=Math.PI/180,Yo=Math.atan2,bb=1e8,kg=/([A-Z])/g,rL=/(left|right|width|margin|padding|x)/i,oL=/[\s,\(]\S/,Cn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},pm=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},aL=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},lL=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},cL=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},lT=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},cT=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},uL=function(e,t,n){return e.style[t]=n},hL=function(e,t,n){return e.style.setProperty(t,n)},fL=function(e,t,n){return e._gsap[t]=n},dL=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},_L=function(e,t,n,o,l){var u=e._gsap;u.scaleX=u.scaleY=n,u.renderTransform(l,u)},pL=function(e,t,n,o,l){var u=e._gsap;u[t]=n,u.renderTransform(l,u)},ot="transform",gi=ot+"Origin",mL=function i(e,t){var n=this,o=this.target,l=o.style,u=o._gsap;if(e in is&&l){if(this.tfm=this.tfm||{},e!=="transform")e=Cn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return n.tfm[c]=Kn(o,c)}):this.tfm[e]=u.x?u[e]:Kn(o,e),e===gi&&(this.tfm.zOrigin=u.zOrigin);else return Cn.transform.split(",").forEach(function(c){return i.call(n,c,t)});if(this.props.indexOf(ot)>=0)return;u.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(gi,t,"")),e=ot}(l||t)&&this.props.push(e,t,l[e])},uT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},gL=function(){var e=this.props,t=this.target,n=t.style,o=t._gsap,l,u;for(l=0;l<e.length;l+=3)e[l+1]?e[l+1]===2?t[e[l]](e[l+2]):t[e[l]]=e[l+2]:e[l+2]?n[e[l]]=e[l+2]:n.removeProperty(e[l].substr(0,2)==="--"?e[l]:e[l].replace(kg,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)o[u]=this.tfm[u];o.svg&&(o.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),l=Dg(),(!l||!l.isStart)&&!n[ot]&&(uT(n),o.zOrigin&&n[gi]&&(n[gi]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},hT=function(e,t){var n={target:e,props:[],revert:gL,save:mL};return e._gsap||vi.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(o){return n.save(o)}),n},fT,mm=function(e,t){var n=Fs.createElementNS?Fs.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Fs.createElement(e);return n&&n.style?n:Fs.createElement(e)},Ki=function i(e,t,n){var o=getComputedStyle(e);return o[t]||o.getPropertyValue(t.replace(kg,"-$1").toLowerCase())||o.getPropertyValue(t)||!n&&i(e,ba(t)||t,1)||""},Cb="O,Moz,ms,Ms,Webkit".split(","),ba=function(e,t,n){var o=t||Br,l=o.style,u=5;if(e in l&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(Cb[u]+e in l););return u<0?null:(u===3?"ms":u>=0?Cb[u]:"")+e},gm=function(){sL()&&window.document&&(yb=window,Fs=yb.document,la=Fs.documentElement,Br=mm("div")||{style:{}},mm("div"),ot=ba(ot),gi=ot+"Origin",Br.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",fT=!!ba("perspective"),Dg=vi.core.reverting,Ag=1)},wb=function(e){var t=e.ownerSVGElement,n=mm("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=e.cloneNode(!0),l;o.style.display="block",n.appendChild(o),la.appendChild(n);try{l=o.getBBox()}catch{}return n.removeChild(o),la.removeChild(n),l},Eb=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},dT=function(e){var t,n;try{t=e.getBBox()}catch{t=wb(e),n=1}return t&&(t.width||t.height)||n||(t=wb(e)),t&&!t.width&&!t.x&&!t.y?{x:+Eb(e,["x","cx","x1"])||0,y:+Eb(e,["y","cy","y1"])||0,width:0,height:0}:t},_T=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&dT(e))},$r=function(e,t){if(t){var n=e.style,o;t in is&&t!==gi&&(t=ot),n.removeProperty?(o=t.substr(0,2),(o==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(o==="--"?t:t.replace(kg,"-$1").toLowerCase())):n.removeAttribute(t)}},zs=function(e,t,n,o,l,u){var c=new mi(e._pt,t,n,0,1,u?cT:lT);return e._pt=c,c.b=o,c.e=l,e._props.push(n),c},Tb={deg:1,rad:1,turn:1},vL={grid:1,flex:1},Zs=function i(e,t,n,o){var l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",c=Br.style,h=rL.test(t),f=e.tagName.toLowerCase()==="svg",_=(f?"client":"offset")+(h?"Width":"Height"),p=100,g=o==="px",w=o==="%",T,C,S,b;if(o===u||!l||Tb[o]||Tb[u])return l;if(u!=="px"&&!g&&(l=i(e,t,n,"px")),b=e.getCTM&&_T(e),(w||u==="%")&&(is[t]||~t.indexOf("adius")))return T=b?e.getBBox()[h?"width":"height"]:e[_],vt(w?l/T*p:l/100*T);if(c[h?"width":"height"]=p+(g?u:o),C=o!=="rem"&&~t.indexOf("adius")||o==="em"&&e.appendChild&&!f?e:e.parentNode,b&&(C=(e.ownerSVGElement||{}).parentNode),(!C||C===Fs||!C.appendChild)&&(C=Fs.body),S=C._gsap,S&&w&&S.width&&h&&S.time===Ai.time&&!S.uncache)return vt(l/S.width*p);if(w&&(t==="height"||t==="width")){var y=e.style[t];e.style[t]=p+o,T=e[_],y?e.style[t]=y:$r(e,t)}else(w||u==="%")&&!vL[Ki(C,"display")]&&(c.position=Ki(e,"position")),C===e&&(c.position="static"),C.appendChild(Br),T=Br[_],C.removeChild(Br),c.position="absolute";return h&&w&&(S=zr(C),S.time=Ai.time,S.width=C[_]),vt(g?T*l/p:T&&l?p/T*l:0)},Kn=function(e,t,n,o){var l;return Ag||gm(),t in Cn&&t!=="transform"&&(t=Cn[t],~t.indexOf(",")&&(t=t.split(",")[0])),is[t]&&t!=="transform"?(l=wc(e,o),l=t!=="transformOrigin"?l[t]:l.svg?l.origin:Xh(Ki(e,gi))+" "+l.zOrigin+"px"):(l=e.style[t],(!l||l==="auto"||o||~(l+"").indexOf("calc("))&&(l=Yh[t]&&Yh[t](e,t,n)||Ki(e,t)||kE(e,t)||(t==="opacity"?1:0))),n&&!~(l+"").trim().indexOf(" ")?Zs(e,t,l,n)+n:l},yL=function(e,t,n,o){if(!n||n==="none"){var l=ba(t,e,1),u=l&&Ki(e,l,1);u&&u!==n?(t=l,n=u):t==="borderColor"&&(n=Ki(e,"borderTopColor"))}var c=new mi(this._pt,e.style,t,0,1,rT),h=0,f=0,_,p,g,w,T,C,S,b,y,m,x,A;if(c.b=n,c.e=o,n+="",o+="",o.substring(0,6)==="var(--"&&(o=Ki(e,o.substring(4,o.indexOf(")")))),o==="auto"&&(C=e.style[t],e.style[t]=o,o=Ki(e,t)||o,C?e.style[t]=C:$r(e,t)),_=[n,o],YE(_),n=_[0],o=_[1],g=n.match(Qo)||[],A=o.match(Qo)||[],A.length){for(;p=Qo.exec(o);)S=p[0],y=o.substring(h,p.index),T?T=(T+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(T=1),S!==(C=g[f++]||"")&&(w=parseFloat(C)||0,x=C.substr((w+"").length),S.charAt(1)==="="&&(S=aa(w,S)+x),b=parseFloat(S),m=S.substr((b+"").length),h=Qo.lastIndex-m.length,m||(m=m||ki.units[t]||x,h===o.length&&(o+=m,c.e+=m)),x!==m&&(w=Zs(e,t,C,m)||0),c._pt={_next:c._pt,p:y||f===1?y:",",s:w,c:b-w,m:T&&T<4||t==="zIndex"?Math.round:0});c.c=h<o.length?o.substring(h,o.length):""}else c.r=t==="display"&&o==="none"?cT:lT;return EE.test(o)&&(c.e=0),this._pt=c,c},xb={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},SL=function(e){var t=e.split(" "),n=t[0],o=t[1]||"50%";return(n==="top"||n==="bottom"||o==="left"||o==="right")&&(e=n,n=o,o=e),t[0]=xb[n]||n,t[1]=xb[o]||o,t.join(" ")},bL=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,o=n.style,l=t.u,u=n._gsap,c,h,f;if(l==="all"||l===!0)o.cssText="",h=1;else for(l=l.split(","),f=l.length;--f>-1;)c=l[f],is[c]&&(h=1,c=c==="transformOrigin"?gi:ot),$r(n,c);h&&($r(n,ot),u&&(u.svg&&n.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",wc(n,1),u.uncache=1,uT(o)))}},Yh={clearProps:function(e,t,n,o,l){if(l.data!=="isFromStart"){var u=e._pt=new mi(e._pt,t,n,0,0,bL);return u.u=o,u.pr=-10,u.tween=l,e._props.push(n),1}}},Cc=[1,0,0,1,0,0],pT={},mT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Rb=function(e){var t=Ki(e,ot);return mT(t)?Cc:t.substr(7).match(wE).map(vt)},Mg=function(e,t){var n=e._gsap||zr(e),o=e.style,l=Rb(e),u,c,h,f;return n.svg&&e.getAttribute("transform")?(h=e.transform.baseVal.consolidate().matrix,l=[h.a,h.b,h.c,h.d,h.e,h.f],l.join(",")==="1,0,0,1,0,0"?Cc:l):(l===Cc&&!e.offsetParent&&e!==la&&!n.svg&&(h=o.display,o.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,c=e.nextElementSibling,la.appendChild(e)),l=Rb(e),h?o.display=h:$r(e,"display"),f&&(c?u.insertBefore(e,c):u?u.appendChild(e):la.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},vm=function(e,t,n,o,l,u){var c=e._gsap,h=l||Mg(e,!0),f=c.xOrigin||0,_=c.yOrigin||0,p=c.xOffset||0,g=c.yOffset||0,w=h[0],T=h[1],C=h[2],S=h[3],b=h[4],y=h[5],m=t.split(" "),x=parseFloat(m[0])||0,A=parseFloat(m[1])||0,D,k,R,M;n?h!==Cc&&(k=w*S-T*C)&&(R=x*(S/k)+A*(-C/k)+(C*y-S*b)/k,M=x*(-T/k)+A*(w/k)-(w*y-T*b)/k,x=R,A=M):(D=dT(e),x=D.x+(~m[0].indexOf("%")?x/100*D.width:x),A=D.y+(~(m[1]||m[0]).indexOf("%")?A/100*D.height:A)),o||o!==!1&&c.smooth?(b=x-f,y=A-_,c.xOffset=p+(b*w+y*C)-b,c.yOffset=g+(b*T+y*S)-y):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=A,c.smooth=!!o,c.origin=t,c.originIsAbsolute=!!n,e.style[gi]="0px 0px",u&&(zs(u,c,"xOrigin",f,x),zs(u,c,"yOrigin",_,A),zs(u,c,"xOffset",p,c.xOffset),zs(u,c,"yOffset",g,c.yOffset)),e.setAttribute("data-svg-origin",x+" "+A)},wc=function(e,t){var n=e._gsap||new JE(e);if("x"in n&&!t&&!n.uncache)return n;var o=e.style,l=n.scaleX<0,u="px",c="deg",h=getComputedStyle(e),f=Ki(e,gi)||"0",_,p,g,w,T,C,S,b,y,m,x,A,D,k,R,M,U,z,W,H,J,se,V,$,Q,I,O,N,F,X,re,he;return _=p=g=C=S=b=y=m=x=0,w=T=1,n.svg=!!(e.getCTM&&_T(e)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(o[ot]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[ot]!=="none"?h[ot]:"")),o.scale=o.rotate=o.translate="none"),k=Mg(e,n.svg),n.svg&&(n.uncache?(Q=e.getBBox(),f=n.xOrigin-Q.x+"px "+(n.yOrigin-Q.y)+"px",$=""):$=!t&&e.getAttribute("data-svg-origin"),vm(e,$||f,!!$||n.originIsAbsolute,n.smooth!==!1,k)),A=n.xOrigin||0,D=n.yOrigin||0,k!==Cc&&(z=k[0],W=k[1],H=k[2],J=k[3],_=se=k[4],p=V=k[5],k.length===6?(w=Math.sqrt(z*z+W*W),T=Math.sqrt(J*J+H*H),C=z||W?Yo(W,z)*Lr:0,y=H||J?Yo(H,J)*Lr+C:0,y&&(T*=Math.abs(Math.cos(y*ca))),n.svg&&(_-=A-(A*z+D*H),p-=D-(A*W+D*J))):(he=k[6],X=k[7],O=k[8],N=k[9],F=k[10],re=k[11],_=k[12],p=k[13],g=k[14],R=Yo(he,F),S=R*Lr,R&&(M=Math.cos(-R),U=Math.sin(-R),$=se*M+O*U,Q=V*M+N*U,I=he*M+F*U,O=se*-U+O*M,N=V*-U+N*M,F=he*-U+F*M,re=X*-U+re*M,se=$,V=Q,he=I),R=Yo(-H,F),b=R*Lr,R&&(M=Math.cos(-R),U=Math.sin(-R),$=z*M-O*U,Q=W*M-N*U,I=H*M-F*U,re=J*U+re*M,z=$,W=Q,H=I),R=Yo(W,z),C=R*Lr,R&&(M=Math.cos(R),U=Math.sin(R),$=z*M+W*U,Q=se*M+V*U,W=W*M-z*U,V=V*M-se*U,z=$,se=Q),S&&Math.abs(S)+Math.abs(C)>359.9&&(S=C=0,b=180-b),w=vt(Math.sqrt(z*z+W*W+H*H)),T=vt(Math.sqrt(V*V+he*he)),R=Yo(se,V),y=Math.abs(R)>2e-4?R*Lr:0,x=re?1/(re<0?-re:re):0),n.svg&&($=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!mT(Ki(e,ot)),$&&e.setAttribute("transform",$))),Math.abs(y)>90&&Math.abs(y)<270&&(l?(w*=-1,y+=C<=0?180:-180,C+=C<=0?180:-180):(T*=-1,y+=y<=0?180:-180)),t=t||n.uncache,n.x=_-((n.xPercent=_&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+u,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+u,n.z=g+u,n.scaleX=vt(w),n.scaleY=vt(T),n.rotation=vt(C)+c,n.rotationX=vt(S)+c,n.rotationY=vt(b)+c,n.skewX=y+c,n.skewY=m+c,n.transformPerspective=x+u,(n.zOrigin=parseFloat(f.split(" ")[2])||!t&&n.zOrigin||0)&&(o[gi]=Xh(f)),n.xOffset=n.yOffset=0,n.force3D=ki.force3D,n.renderTransform=n.svg?wL:fT?gT:CL,n.uncache=0,n},Xh=function(e){return(e=e.split(" "))[0]+" "+e[1]},bp=function(e,t,n){var o=Xt(t);return vt(parseFloat(t)+parseFloat(Zs(e,"x",n+"px",o)))+o},CL=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,gT(e,t)},kr="0deg",Wl="0px",Mr=") ",gT=function(e,t){var n=t||this,o=n.xPercent,l=n.yPercent,u=n.x,c=n.y,h=n.z,f=n.rotation,_=n.rotationY,p=n.rotationX,g=n.skewX,w=n.skewY,T=n.scaleX,C=n.scaleY,S=n.transformPerspective,b=n.force3D,y=n.target,m=n.zOrigin,x="",A=b==="auto"&&e&&e!==1||b===!0;if(m&&(p!==kr||_!==kr)){var D=parseFloat(_)*ca,k=Math.sin(D),R=Math.cos(D),M;D=parseFloat(p)*ca,M=Math.cos(D),u=bp(y,u,k*M*-m),c=bp(y,c,-Math.sin(D)*-m),h=bp(y,h,R*M*-m+m)}S!==Wl&&(x+="perspective("+S+Mr),(o||l)&&(x+="translate("+o+"%, "+l+"%) "),(A||u!==Wl||c!==Wl||h!==Wl)&&(x+=h!==Wl||A?"translate3d("+u+", "+c+", "+h+") ":"translate("+u+", "+c+Mr),f!==kr&&(x+="rotate("+f+Mr),_!==kr&&(x+="rotateY("+_+Mr),p!==kr&&(x+="rotateX("+p+Mr),(g!==kr||w!==kr)&&(x+="skew("+g+", "+w+Mr),(T!==1||C!==1)&&(x+="scale("+T+", "+C+Mr),y.style[ot]=x||"translate(0, 0)"},wL=function(e,t){var n=t||this,o=n.xPercent,l=n.yPercent,u=n.x,c=n.y,h=n.rotation,f=n.skewX,_=n.skewY,p=n.scaleX,g=n.scaleY,w=n.target,T=n.xOrigin,C=n.yOrigin,S=n.xOffset,b=n.yOffset,y=n.forceCSS,m=parseFloat(u),x=parseFloat(c),A,D,k,R,M;h=parseFloat(h),f=parseFloat(f),_=parseFloat(_),_&&(_=parseFloat(_),f+=_,h+=_),h||f?(h*=ca,f*=ca,A=Math.cos(h)*p,D=Math.sin(h)*p,k=Math.sin(h-f)*-g,R=Math.cos(h-f)*g,f&&(_*=ca,M=Math.tan(f-_),M=Math.sqrt(1+M*M),k*=M,R*=M,_&&(M=Math.tan(_),M=Math.sqrt(1+M*M),A*=M,D*=M)),A=vt(A),D=vt(D),k=vt(k),R=vt(R)):(A=p,R=g,D=k=0),(m&&!~(u+"").indexOf("px")||x&&!~(c+"").indexOf("px"))&&(m=Zs(w,"x",u,"px"),x=Zs(w,"y",c,"px")),(T||C||S||b)&&(m=vt(m+T-(T*A+C*k)+S),x=vt(x+C-(T*D+C*R)+b)),(o||l)&&(M=w.getBBox(),m=vt(m+o/100*M.width),x=vt(x+l/100*M.height)),M="matrix("+A+","+D+","+k+","+R+","+m+","+x+")",w.setAttribute("transform",M),y&&(w.style[ot]=M)},EL=function(e,t,n,o,l){var u=360,c=Pt(l),h=parseFloat(l)*(c&&~l.indexOf("rad")?Lr:1),f=h-o,_=o+f+"deg",p,g;return c&&(p=l.split("_")[1],p==="short"&&(f%=u,f!==f%(u/2)&&(f+=f<0?u:-u)),p==="cw"&&f<0?f=(f+u*bb)%u-~~(f/u)*u:p==="ccw"&&f>0&&(f=(f-u*bb)%u-~~(f/u)*u)),e._pt=g=new mi(e._pt,t,n,o,f,aL),g.e=_,g.u="deg",e._props.push(n),g},Ab=function(e,t){for(var n in t)e[n]=t[n];return e},TL=function(e,t,n){var o=Ab({},n._gsap),l="perspective,force3D,transformOrigin,svgOrigin",u=n.style,c,h,f,_,p,g,w,T;o.svg?(f=n.getAttribute("transform"),n.setAttribute("transform",""),u[ot]=t,c=wc(n,1),$r(n,ot),n.setAttribute("transform",f)):(f=getComputedStyle(n)[ot],u[ot]=t,c=wc(n,1),u[ot]=f);for(h in is)f=o[h],_=c[h],f!==_&&l.indexOf(h)<0&&(w=Xt(f),T=Xt(_),p=w!==T?Zs(n,h,f,T):parseFloat(f),g=parseFloat(_),e._pt=new mi(e._pt,c,h,p,g-p,pm),e._pt.u=T||0,e._props.push(h));Ab(c,o)};pi("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",o="Bottom",l="Left",u=(e<3?[t,n,o,l]:[t+l,t+n,o+n,o+l]).map(function(c){return e<2?i+c:"border"+c+i});Yh[e>1?"border"+i:i]=function(c,h,f,_,p){var g,w;if(arguments.length<4)return g=u.map(function(T){return Kn(c,T,f)}),w=g.join(" "),w.split(g[0]).length===5?g[0]:w;g=(_+"").split(" "),w={},u.forEach(function(T,C){return w[T]=g[C]=g[C]||g[(C-1)/2|0]}),c.init(h,w,p)}});var vT={name:"css",register:gm,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,o,l){var u=this._props,c=e.style,h=n.vars.startAt,f,_,p,g,w,T,C,S,b,y,m,x,A,D,k,R;Ag||gm(),this.styles=this.styles||hT(e),R=this.styles.props,this.tween=n;for(C in t)if(C!=="autoRound"&&(_=t[C],!(Ri[C]&&eT(C,t,n,o,e,l)))){if(w=typeof _,T=Yh[C],w==="function"&&(_=_.call(n,o,e,l),w=typeof _),w==="string"&&~_.indexOf("random(")&&(_=yc(_)),T)T(this,e,C,_,n)&&(k=1);else if(C.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(C)+"").trim(),_+="",Ws.lastIndex=0,Ws.test(f)||(S=Xt(f),b=Xt(_)),b?S!==b&&(f=Zs(e,C,f,b)+b):S&&(_+=S),this.add(c,"setProperty",f,_,o,l,0,0,C),u.push(C),R.push(C,0,c[C]);else if(w!=="undefined"){if(h&&C in h?(f=typeof h[C]=="function"?h[C].call(n,o,e,l):h[C],Pt(f)&&~f.indexOf("random(")&&(f=yc(f)),Xt(f+"")||f==="auto"||(f+=ki.units[C]||Xt(Kn(e,C))||""),(f+"").charAt(1)==="="&&(f=Kn(e,C))):f=Kn(e,C),g=parseFloat(f),y=w==="string"&&_.charAt(1)==="="&&_.substr(0,2),y&&(_=_.substr(2)),p=parseFloat(_),C in Cn&&(C==="autoAlpha"&&(g===1&&Kn(e,"visibility")==="hidden"&&p&&(g=0),R.push("visibility",0,c.visibility),zs(this,c,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),C!=="scale"&&C!=="transform"&&(C=Cn[C],~C.indexOf(",")&&(C=C.split(",")[0]))),m=C in is,m){if(this.styles.save(C),w==="string"&&_.substring(0,6)==="var(--"&&(_=Ki(e,_.substring(4,_.indexOf(")"))),p=parseFloat(_)),x||(A=e._gsap,A.renderTransform&&!t.parseTransform||wc(e,t.parseTransform),D=t.smoothOrigin!==!1&&A.smooth,x=this._pt=new mi(this._pt,c,ot,0,1,A.renderTransform,A,0,-1),x.dep=1),C==="scale")this._pt=new mi(this._pt,A,"scaleY",A.scaleY,(y?aa(A.scaleY,y+p):p)-A.scaleY||0,pm),this._pt.u=0,u.push("scaleY",C),C+="X";else if(C==="transformOrigin"){R.push(gi,0,c[gi]),_=SL(_),A.svg?vm(e,_,0,D,0,this):(b=parseFloat(_.split(" ")[2])||0,b!==A.zOrigin&&zs(this,A,"zOrigin",A.zOrigin,b),zs(this,c,C,Xh(f),Xh(_)));continue}else if(C==="svgOrigin"){vm(e,_,1,D,0,this);continue}else if(C in pT){EL(this,A,C,g,y?aa(g,y+_):_);continue}else if(C==="smoothOrigin"){zs(this,A,"smooth",A.smooth,_);continue}else if(C==="force3D"){A[C]=_;continue}else if(C==="transform"){TL(this,_,e);continue}}else C in c||(C=ba(C)||C);if(m||(p||p===0)&&(g||g===0)&&!oL.test(_)&&C in c)S=(f+"").substr((g+"").length),p||(p=0),b=Xt(_)||(C in ki.units?ki.units[C]:S),S!==b&&(g=Zs(e,C,f,b)),this._pt=new mi(this._pt,m?A:c,C,g,(y?aa(g,y+p):p)-g,!m&&(b==="px"||C==="zIndex")&&t.autoRound!==!1?cL:pm),this._pt.u=b||0,S!==b&&b!=="%"&&(this._pt.b=f,this._pt.r=lL);else if(C in c)yL.call(this,e,C,f,y?y+_:_);else if(C in e)this.add(e,C,f||e[C],y?y+_:_,o,l);else if(C!=="parseTransform"){vg(C,_);continue}m||(C in c?R.push(C,0,c[C]):typeof e[C]=="function"?R.push(C,2,e[C]()):R.push(C,1,f||e[C])),u.push(C)}}k&&oT(this)},render:function(e,t){if(t.tween._time||!Dg())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Kn,aliases:Cn,getSetter:function(e,t,n){var o=Cn[t];return o&&o.indexOf(",")<0&&(t=o),t in is&&t!==gi&&(e._gsap.x||Kn(e,"x"))?n&&Sb===n?t==="scale"?dL:fL:(Sb=n||{})&&(t==="scale"?_L:pL):e.style&&!pg(e.style[t])?uL:~t.indexOf("-")?hL:xg(e,t)},core:{_removeProperty:$r,_getMatrix:Mg}};vi.utils.checkPrefix=ba;vi.core.getStyleSaver=hT;(function(i,e,t,n){var o=pi(i+","+e+","+t,function(l){is[l]=1});pi(e,function(l){ki.units[l]="deg",pT[l]=1}),Cn[o[13]]=i+","+e,pi(n,function(l){var u=l.split(":");Cn[u[1]]=o[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");pi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){ki.units[i]="px"});vi.registerPlugin(vT);var Sn=vi.registerPlugin(vT)||vi;Sn.core.Tween;const xL=()=>{const i=q.useRef(null),e=q.useRef([]),t=q.useRef(null);return q.useEffect(()=>{const n=i.current,o=e.current,l=t.current;return n===null||l===null?void 0:(Sn.timeline({repeat:-1}).to(l,{rotation:360,duration:2,ease:"power2.inOut"}),o.forEach((c,h)=>{c!=null&&(Sn.set(c,{scale:.8,opacity:.6}),Sn.to(c,{scale:1.2,opacity:1,duration:.8,repeat:-1,yoyo:!0,delay:h*.15,ease:"back.inOut(1.7)"}),Sn.to(c,{filter:"brightness(1.2) saturate(1.1)",duration:1.2,repeat:-1,yoyo:!0,delay:h*.2,ease:"sine.inOut"}))}),Sn.fromTo(n,{opacity:0,y:30,scale:.9},{opacity:1,y:0,scale:1,duration:.8,ease:"back.out(1.2)"}),()=>{Sn.killTweensOf([n,l,...o])})},[]),Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-md dark:bg-slate-900/90",children:Y.jsxs("div",{ref:i,className:"flex flex-col items-center space-y-10",children:[Y.jsxs("div",{className:"relative",children:[Y.jsx("div",{ref:t,className:"h-20 w-20 rounded-full border-4 border-orange-100 border-t-orange-500 shadow-lg dark:border-slate-700 dark:border-t-orange-400"}),Y.jsx("div",{className:"animate-spin-reverse absolute inset-3 h-14 w-14 rounded-full border-3 border-emerald-100 border-b-emerald-500 dark:border-slate-800 dark:border-b-emerald-400"}),Y.jsx("div",{className:"absolute inset-6 h-8 w-8 rounded-full bg-gradient-to-br from-orange-400 to-emerald-500 opacity-20"})]}),Y.jsx("div",{className:"flex space-x-3",children:[...Array(5)].map((n,o)=>Y.jsx("div",{ref:l=>{l!=null&&(e.current[o]=l)},className:`h-4 w-4 rounded-full shadow-md ${o%2===0?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-emerald-400 to-emerald-600"}`},o))}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("h3",{className:"mb-3 text-xl font-bold text-slate-800 dark:text-slate-100",children:""}),Y.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:""})]}),Y.jsxs("div",{className:"relative h-2 w-56 overflow-hidden rounded-full bg-slate-200 shadow-inner dark:bg-slate-700",children:[Y.jsx("div",{className:"h-full animate-pulse rounded-full bg-gradient-to-r from-orange-500 via-emerald-500 to-orange-500 shadow-lg"}),Y.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/30 to-transparent"})]})]})})},RL=()=>{const i=Ji(),{pathname:e,search:t}=i;return q.useEffect(()=>{window.scrollTo(0,0)},[e,t]),null},AL=()=>{};var Db={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de=function(i,e){if(!i)throw La(e)},La=function(i){return new Error("Firebase Database ("+yT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let o=i.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DL=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const o=i[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],u=i[t++],c=i[t++],h=((o&7)<<18|(l&63)<<12|(u&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const l=i[t++],u=i[t++];e[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Og={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<i.length;o+=3){const l=i[o],u=o+1<i.length,c=u?i[o+1]:0,h=o+2<i.length,f=h?i[o+2]:0,_=l>>2,p=(l&3)<<4|c>>4;let g=(c&15)<<2|f>>6,w=f&63;h||(w=64,u||(g=64)),n.push(t[_],t[p],t[g],t[w])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ST(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DL(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],c=o<i.length?t[i.charAt(o)]:0;++o;const f=o<i.length?t[i.charAt(o)]:64;++o;const p=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||c==null||f==null||p==null)throw new kL;const g=l<<2|c>>4;if(n.push(g),f!==64){const w=c<<4&240|f>>2;if(n.push(w),p!==64){const T=f<<6&192|p;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(i){const e=ST(i);return Og.encodeByteArray(e,!0)},Qh=function(i){return bT(i).replace(/\./g,"")},Zh=function(i){try{return Og.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(i){return CT(void 0,i)}function CT(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!OL(t)||(i[t]=CT(i[t],e[t]));return i}function OL(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=()=>LL().__FIREBASE_DEFAULTS__,PL=()=>{if(typeof process>"u"||typeof Db>"u")return;const i=Db.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},NL=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Zh(i[1]);return e&&JSON.parse(e)},Lg=()=>{try{return AL()||IL()||PL()||NL()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wT=i=>Lg()?.emulatorHosts?.[i],BL=i=>{const e=wT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},ET=()=>Lg()?.config,TT=i=>Lg()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qh(JSON.stringify(t)),Qh(JSON.stringify(u)),""].join(".")}const sc={};function UL(){const i={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?i.emulator.push(e):i.prod.push(e);return i}function FL(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let kb=!1;function RT(i,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||sc[i]===e||sc[i]||kb)return;sc[i]=e;function t(g){return`__firebase__banner__${g}`}const n="__firebase__banner",l=UL().prod.length>0;function u(){const g=document.getElementById(n);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function h(g,w){g.setAttribute("width","24"),g.setAttribute("id",w),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{kb=!0,u()},g}function _(g,w){g.setAttribute("id",w),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=FL(n),w=t("text"),T=document.getElementById(w)||document.createElement("span"),C=t("learnmore"),S=document.getElementById(C)||document.createElement("a"),b=t("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const m=g.element;c(m),_(S,C);const x=f();h(y,b),m.append(y,T,S,x),document.body.appendChild(m)}l?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ig(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function zL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VL(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function AT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jL(){const i=oi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function WL(){return yT.NODE_ADMIN===!0}function qL(){try{return typeof indexedDB=="object"}catch{return!1}}function GL(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="FirebaseError";class or extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=$L,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?KL(l,n):"Error",c=`${this.serviceName}: ${u} (${o}).`;return new or(o,c,n)}}function KL(i,e){return i.replace(YL,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const YL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(i){return JSON.parse(i)}function Rt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=function(i){let e={},t={},n={},o="";try{const l=i.split(".");e=Ec(Zh(l[0])||""),t=Ec(Zh(l[1])||""),o=l[2],n=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:n,signature:o}},XL=function(i){const e=DT(i),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},QL=function(i){const e=DT(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Ca(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function ym(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Jh(i,e,t){const n={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=e.call(t,i[o],o,i));return n}function Kr(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=i[o],u=e[o];if(Mb(l)&&Mb(u)){if(!Kr(l,u))return!1}else if(l!==u)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function Mb(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)n[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)n[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){const g=n[p-3]^n[p-8]^n[p-14]^n[p-16];n[p]=(g<<1|g>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,_;for(let p=0;p<80;p++){p<40?p<20?(f=c^l&(u^c),_=1518500249):(f=l^u^c,_=1859775393):p<60?(f=l&u|c&(l|u),_=2400959708):(f=l^u^c,_=3395469782);const g=(o<<5|o>>>27)+f+h+_+n[p]&4294967295;h=c,c=u,u=(l<<30|l>>>2)&4294967295,l=o,o=g}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const n=t-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<t;){if(u===0)for(;o<=n;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<t;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=t&255,t/=256;this.compress_(this.buf_);let n=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[n]=this.chain_[o]>>l&255,++n;return e}}function JL(i,e){const t=new e3(i,e);return t.subscribe.bind(t)}class e3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");t3(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:n},o.next===void 0&&(o.next=Cp),o.error===void 0&&(o.error=Cp),o.complete===void 0&&(o.complete=Cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t3(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Cp(){}function kf(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let o=i.charCodeAt(n);if(o>=55296&&o<=56319){const l=o-55296;n++,de(n<i.length,"Surrogate pair missing trail surrogate.");const u=i.charCodeAt(n)-56320;o=65536+(l<<10)+u}o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):o<65536?(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Mf=function(i){let e=0;for(let t=0;t<i.length;t++){const n=i.charCodeAt(t);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(i){return i&&i._delegate?i._delegate:i}class Yr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new $c;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r3(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);n===c&&u.resolve(o)}return o}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const l=this.instances.get(n);return l&&e(l,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:s3(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s3(i){return i===Ir?void 0:i}function r3(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new n3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(We||(We={}));const a3={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},l3=We.INFO,c3={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},u3=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),o=c3[e];if(o)console[o](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=l3,this._logHandler=u3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const h3=(i,e)=>e.some(t=>i instanceof t);let Ob,Lb;function f3(){return Ob||(Ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d3(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kT=new WeakMap,Sm=new WeakMap,MT=new WeakMap,wp=new WeakMap,Ng=new WeakMap;function _3(i){const e=new Promise((t,n)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",u)},l=()=>{t(qs(i.result)),o()},u=()=>{n(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&kT.set(t,i)}).catch(()=>{}),Ng.set(e,i),e}function p3(i){if(Sm.has(i))return;const e=new Promise((t,n)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",u),i.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{n(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",u),i.addEventListener("abort",u)});Sm.set(i,e)}let bm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Sm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||MT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function m3(i){bm=i(bm)}function g3(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(Ep(this),e,...t);return MT.set(n,e.sort?e.sort():[e]),qs(n)}:d3().includes(i)?function(...e){return i.apply(Ep(this),e),qs(kT.get(this))}:function(...e){return qs(i.apply(Ep(this),e))}}function v3(i){return typeof i=="function"?g3(i):(i instanceof IDBTransaction&&p3(i),h3(i,f3())?new Proxy(i,bm):i)}function qs(i){if(i instanceof IDBRequest)return _3(i);if(wp.has(i))return wp.get(i);const e=v3(i);return e!==i&&(wp.set(i,e),Ng.set(e,i)),e}const Ep=i=>Ng.get(i);function y3(i,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const u=indexedDB.open(i,e),c=qs(u);return n&&u.addEventListener("upgradeneeded",h=>{n(qs(u.result),h.oldVersion,h.newVersion,qs(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const S3=["get","getKey","getAll","getAllKeys","count"],b3=["put","add","delete","clear"],Tp=new Map;function Ib(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=b3.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||S3.includes(t)))return;const l=async function(u,...c){const h=this.transaction(u,o?"readwrite":"readonly");let f=h.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),o&&h.done]))[0]};return Tp.set(e,l),l}m3(i=>({...i,get:(e,t,n)=>Ib(e,t)||i.get(e,t,n),has:(e,t)=>!!Ib(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w3(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function w3(i){return i.getComponent()?.type==="VERSION"}const Cm="@firebase/app",Pb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Pg("@firebase/app"),E3="@firebase/app-compat",T3="@firebase/analytics-compat",x3="@firebase/analytics",R3="@firebase/app-check-compat",A3="@firebase/app-check",D3="@firebase/auth",k3="@firebase/auth-compat",M3="@firebase/database",O3="@firebase/data-connect",L3="@firebase/database-compat",I3="@firebase/functions",P3="@firebase/functions-compat",N3="@firebase/installations",B3="@firebase/installations-compat",H3="@firebase/messaging",U3="@firebase/messaging-compat",F3="@firebase/performance",z3="@firebase/performance-compat",V3="@firebase/remote-config",j3="@firebase/remote-config-compat",W3="@firebase/storage",q3="@firebase/storage-compat",G3="@firebase/firestore",$3="@firebase/ai",K3="@firebase/firestore-compat",Y3="firebase",X3="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",Q3={[Cm]:"fire-core",[E3]:"fire-core-compat",[x3]:"fire-analytics",[T3]:"fire-analytics-compat",[A3]:"fire-app-check",[R3]:"fire-app-check-compat",[D3]:"fire-auth",[k3]:"fire-auth-compat",[M3]:"fire-rtdb",[O3]:"fire-data-connect",[L3]:"fire-rtdb-compat",[I3]:"fire-fn",[P3]:"fire-fn-compat",[N3]:"fire-iid",[B3]:"fire-iid-compat",[H3]:"fire-fcm",[U3]:"fire-fcm-compat",[F3]:"fire-perf",[z3]:"fire-perf-compat",[V3]:"fire-rc",[j3]:"fire-rc-compat",[W3]:"fire-gcs",[q3]:"fire-gcs-compat",[G3]:"fire-fst",[K3]:"fire-fst-compat",[$3]:"fire-vertex","fire-js":"fire-js",[Y3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,Z3=new Map,Em=new Map;function Nb(i,e){try{i.container.addComponent(e)}catch(t){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function wa(i){const e=i.name;if(Em.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,i);for(const t of ef.values())Nb(t,i);for(const t of Z3.values())Nb(t,i);return!0}function Bg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function on(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Kc("app","Firebase",J3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=X3;function OT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n={name:wm,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw Gs.create("bad-app-name",{appName:String(o)});if(t||(t=ET()),!t)throw Gs.create("no-options");const l=ef.get(o);if(l){if(Kr(t,l.options)&&Kr(n,l.config))return l;throw Gs.create("duplicate-app",{appName:o})}const u=new o3(o);for(const h of Em.values())u.addComponent(h);const c=new eI(t,n,u);return ef.set(o,c),c}function LT(i=wm){const e=ef.get(i);if(!e&&i===wm&&ET())return OT();if(!e)throw Gs.create("no-app",{appName:i});return e}function $s(i,e,t){let n=Q3[i]??i;t&&(n+=`-${t}`);const o=n.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${n}" with version "${e}":`];o&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(u.join(" "));return}wa(new Yr(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebase-heartbeat-database",iI=1,Tc="firebase-heartbeat-store";let xp=null;function IT(){return xp||(xp=y3(tI,iI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gs.create("idb-open",{originalErrorMessage:i.message})})),xp}async function nI(i){try{const t=(await IT()).transaction(Tc),n=await t.objectStore(Tc).get(PT(i));return await t.done,n}catch(e){if(e instanceof or)ns.warn(e.message);else{const t=Gs.create("idb-get",{originalErrorMessage:e?.message});ns.warn(t.message)}}}async function Bb(i,e){try{const n=(await IT()).transaction(Tc,"readwrite");await n.objectStore(Tc).put(e,PT(i)),await n.done}catch(t){if(t instanceof or)ns.warn(t.message);else{const n=Gs.create("idb-set",{originalErrorMessage:t?.message});ns.warn(n.message)}}}function PT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1024,rI=30;class oI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Hb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>rI){const o=cI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hb(),{heartbeatsToSend:t,unsentEntries:n}=aI(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ns.warn(e),""}}}function Hb(){return new Date().toISOString().substring(0,10)}function aI(i,e=sI){const t=[];let n=i.slice();for(const o of i){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Ub(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ub(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class lI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qL()?GL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Ub(i){return Qh(JSON.stringify({version:2,heartbeats:i})).length}function cI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(i){wa(new Yr("platform-logger",e=>new C3(e),"PRIVATE")),wa(new Yr("heartbeat",e=>new oI(e),"PRIVATE")),$s(Cm,Pb,i),$s(Cm,Pb,"esm2020"),$s("fire-js","")}uI("");function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hI=NT,BT=new Kc("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Pg("@firebase/auth");function fI(i,...e){tf.logLevel<=We.WARN&&tf.warn(`Auth (${Na}): ${i}`,...e)}function Ih(i,...e){tf.logLevel<=We.ERROR&&tf.error(`Auth (${Na}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(i,...e){throw Hg(i,...e)}function wn(i,...e){return Hg(i,...e)}function HT(i,e,t){const n={...hI(),[e]:t};return new Kc("auth","Firebase",n).create(e,{appName:i.name})}function Ks(i){return HT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return BT.create(i,...e)}function be(i,e,...t){if(!i)throw Hg(e,...t)}function Yn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ih(e),new Error(e)}function ss(i,e){i||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){return typeof self<"u"&&self.location?.href||""}function dI(){return Fb()==="http:"||Fb()==="https:"}function Fb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dI()||VL()||"connection"in navigator)?navigator.onLine:!0}function pI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ss(t>e,"Short delay should be less than long delay!"),this.isMobile=Ig()||AT()}get(){return _I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i,e){ss(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vI=new Yc(3e4,6e4);function io(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ar(i,e,t,n,o={}){return FT(i,o,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const c=Pa({key:i.config.apiKey,...u}).slice(1),h=await i._getAdditionalHeaders();h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode);const f={method:e,headers:h,...l};return zL()||(f.referrerPolicy="no-referrer"),i.emulatorConfig&&Ia(i.emulatorConfig.host)&&(f.credentials="include"),UT.fetch()(await zT(i,i.config.apiHost,t,c),f)})}async function FT(i,e,t){i._canInitEmulator=!1;const n={...mI,...e};try{const o=new SI(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ch(i,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const c=l.ok?u.errorMessage:u.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(i,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Ch(i,"email-already-in-use",u);if(h==="USER_DISABLED")throw Ch(i,"user-disabled",u);const _=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw HT(i,_,f);hn(i,_)}}catch(o){if(o instanceof or)throw o;hn(i,"network-request-failed",{message:String(o)})}}async function Of(i,e,t,n,o={}){const l=await ar(i,e,t,n,o);return"mfaPendingCredential"in l&&hn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function zT(i,e,t,n){const o=`${e}${t}?${n}`,l=i,u=l.config.emulator?Ug(i.config,o):`${i.config.apiScheme}://${o}`;return gI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function yI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(wn(this.auth,"network-request-failed")),vI.get())})}}function Ch(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=wn(i,e,n);return o.customData._tokenResponse=t,o}function zb(i){return i!==void 0&&i.enterprise!==void 0}class bI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CI(i,e){return ar(i,"GET","/v2/recaptchaConfig",io(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e){return ar(i,"POST","/v1/accounts:delete",e)}async function nf(i,e){return ar(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EI(i,e=!1){const t=Jt(i),n=await t.getIdToken(e),o=Fg(n);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:n,authTime:rc(Rp(o.auth_time)),issuedAtTime:rc(Rp(o.iat)),expirationTime:rc(Rp(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rp(i){return Number(i)*1e3}function Fg(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zh(t);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Vb(i){const e=Fg(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof or&&TI(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function TI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(i){const e=i.auth,t=await i.getIdToken(),n=await xc(i,nf(e,{idToken:t}));be(n?.users.length,e,"internal-error");const o=n.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?VT(o.providerUserInfo):[],u=AI(i.providerData,l),c=i.isAnonymous,h=!(i.email&&o.passwordHash)&&!u?.length,f=c?h:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(i,_)}async function RI(i){const e=Jt(i);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AI(i,e){return[...i.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function VT(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(i,e){const t=await FT(i,{},async()=>{const n=Pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,u=await zT(i,o,"/v1/token",`key=${l}`),c=await i._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:n};return i.emulatorConfig&&Ia(i.emulatorConfig.host)&&(h.credentials="include"),UT.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kI(i,e){return ar(i,"POST","/v2/accounts:revokeToken",io(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=Vb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:l}=await DI(e,t);this.updateTokensAndExpiration(n,o,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,u=new ua;return n&&(be(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),o&&(be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:t,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await xc(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EI(this,e)}reload(){return RI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await xc(this,wI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:w,providerData:T,stsTokenManager:C}=t;be(p&&C,e,"internal-error");const S=ua.fromJSON(this.name,C);be(typeof p=="string",e,"internal-error"),Ls(n,e.name),Ls(o,e.name),be(typeof g=="boolean",e,"internal-error"),be(typeof w=="boolean",e,"internal-error"),Ls(l,e.name),Ls(u,e.name),Ls(c,e.name),Ls(h,e.name),Ls(f,e.name),Ls(_,e.name);const b=new ln({uid:p,auth:e,email:o,emailVerified:g,displayName:n,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:_});return T&&Array.isArray(T)&&(b.providerData=T.map(y=>({...y}))),h&&(b._redirectEventId=h),b}static async _fromIdTokenResponse(e,t,n=!1){const o=new ua;o.updateFromServerResponse(t);const l=new ln({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await sf(l),l}static async _fromGetAccountInfoResponse(e,t,n){const o=t.users[0];be(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,c=new ua;c.updateFromIdToken(n);const h=new ln({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:u}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Xn(i){ss(i instanceof Function,"Expected a class definition");let e=jb.get(i);return e?(ss(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,jb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jT.type="NONE";const Wb=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i,e,t){return`firebase:${i}:${e}:${t}`}class ha{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ph("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nf(this.auth,{idToken:e}).catch(()=>{});return t?ln._fromGetAccountInfoResponse(this.auth,t,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ha(Xn(Wb),e,n);const o=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=o[0]||Xn(Wb);const u=Ph(n,e.config.apiKey,e.name);let c=null;for(const f of t)try{const _=await f._get(u);if(_){let p;if(typeof _=="string"){const g=await nf(e,{idToken:_}).catch(()=>{});if(!g)break;p=await ln._fromGetAccountInfoResponse(e,g,_)}else p=ln._fromJSON(e,_);f!==l&&(c=p),l=f;break}}catch{}const h=o.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new ha(l,e,n):(l=h[0],c&&await l._set(u,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==l)try{await f._remove(u)}catch{}})),new ha(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(XT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if(n?.length===2)return n[1]}return"Other"}function WT(i=oi()){return/firefox\//i.test(i)}function qT(i=oi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(i=oi()){return/crios\//i.test(i)}function $T(i=oi()){return/iemobile/i.test(i)}function KT(i=oi()){return/android/i.test(i)}function YT(i=oi()){return/blackberry/i.test(i)}function XT(i=oi()){return/webos/i.test(i)}function zg(i=oi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function MI(i=oi()){return zg(i)&&!!window.navigator?.standalone}function OI(){return jL()&&document.documentMode===10}function QT(i=oi()){return zg(i)||KT(i)||XT(i)||YT(i)||/windows phone/i.test(i)||$T(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i,e=[]){let t;switch(i){case"Browser":t=qb(oi());break;case"Worker":t=`${qb(oi())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Na}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,c)=>{try{const h=e(l);u(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,e={}){return ar(i,"GET","/v2/passwordPolicy",io(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=6;class NI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??PI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new LI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xn(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nf(this,{idToken:e}),n=await ln._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===u)&&c?.user&&(n=c.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Ks(this));const t=e?Jt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await II(this),t=new NI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await kI(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xn(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[Xn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(c,this,"internal-error"),c.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ba(i){return Jt(i)}class Gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=JL(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HI(i){Lf=i}function JT(i){return Lf.loadJS(i)}function UI(){return Lf.recaptchaEnterpriseScript}function FI(){return Lf.gapiScript}function zI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class VI{constructor(){this.enterprise=new jI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WI="recaptcha-enterprise",ex="NO_RECAPTCHA";class qI{constructor(e){this.type=WI,this.auth=Ba(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,c)=>{CI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new bI(h);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,u(f.siteKey)}}).catch(h=>{c(h)})})}function o(l,u,c){const h=window.grecaptcha;zb(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(f=>{u(f)}).catch(()=>{u(ex)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(c=>{if(!t&&zb(window.grecaptcha))o(c,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=UI();h.length!==0&&(h+=c),JT(h).then(()=>{o(c,l,u)}).catch(f=>{u(f)})}}).catch(c=>{u(c)})})}}async function $b(i,e,t,n=!1,o=!1){const l=new qI(i);let u;if(o)u=ex;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Kb(i,e,t,n,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $b(i,e,t,t==="getOobCode");return n(i,l)}else return n(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await $b(i,e,t,t==="getOobCode");return n(i,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(i,e){const t=Bg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Kr(l,e??{}))return o;hn(o,"already-initialized")}return t.initialize({options:e})}function $I(i,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Xn);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e?.popupRedirectResolver)}function KI(i,e,t){const n=Ba(i);be(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,l=tx(e),{host:u,port:c}=YI(e),h=c===null?"":`:${c}`,f={url:`${l}//${u}${h}/`},_=Object.freeze({host:u,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){be(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),be(Kr(f,n.config.emulator)&&Kr(_,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=_,n.settings.appVerificationDisabledForTesting=!0,Ia(u)?(xT(`${l}//${u}${h}`),RT("Auth",!0)):XI()}function tx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function YI(i){const e=tx(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:Yb(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:Yb(u)}}}function Yb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,t){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function QI(i,e){return ar(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,e){return Of(i,"POST","/v1/accounts:signInWithPassword",io(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i,e){return Of(i,"POST","/v1/accounts:signInWithEmailLink",io(i,e))}async function eP(i,e){return Of(i,"POST","/v1/accounts:signInWithEmailLink",io(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Vg{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Rc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kb(e,t,"signInWithPassword",ZI);case"emailLink":return JI(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kb(e,n,"signUpPassword",QI);case"emailLink":return eP(e,{idToken:t,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(i,e){return Of(i,"POST","/v1/accounts:signInWithIdp",io(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="http://localhost";class Xr extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...l}=t;if(!n||!o)return null;const u=new Xr(n,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return fa(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}buildRequest(){const e={requestUri:tP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pa(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nP(i){const e=Zl(Jl(i)).link,t=e?Zl(Jl(e)).deep_link_id:null,n=Zl(Jl(i)).deep_link_id;return(n?Zl(Jl(n)).link:null)||n||t||e||i}class jg{constructor(e){const t=Zl(Jl(e)),n=t.apiKey??null,o=t.oobCode??null,l=iP(t.mode??null);be(n&&o&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=nP(e);try{return new jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=jg.parseLink(t);return be(n,"argument-error"),Rc._fromEmailAndCode(e,n.code,n.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Xc{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xr._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ns.credential(t,n)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Xc{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Xc{constructor(){super("twitter.com")}static credential(e,t){return Xr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Hs.credential(t,n)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const l=await ln._fromIdTokenResponse(e,n,o),u=Xb(n);return new Ea({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=Xb(n);return new Ea({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function Xb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends or{constructor(e,t,n,o){super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new rf(e,t,n,o)}}function nx(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(i,l,e,n):l})}async function sP(i,e,t=!1){const n=await xc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ea._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(i,e,t=!1){const{auth:n}=i;if(on(n.app))return Promise.reject(Ks(n));const o="reauthenticate";try{const l=await xc(i,nx(n,o,e,i),t);be(l.idToken,n,"internal-error");const u=Fg(l.idToken);be(u,n,"internal-error");const{sub:c}=u;return be(i.uid===c,n,"user-mismatch"),Ea._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&hn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(i,e,t=!1){if(on(i.app))return Promise.reject(Ks(i));const n="signIn",o=await nx(i,n,e),l=await Ea._fromIdTokenResponse(i,n,o);return t||await i._updateCurrentUser(l.user),l}async function oP(i,e){return sx(Ba(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(i){const e=Ba(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lP(i,e,t){return on(i.app)?Promise.reject(Ks(i)):oP(Jt(i),Ha.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&aP(i),n})}function cP(i,e,t,n){return Jt(i).onIdTokenChanged(e,t,n)}function uP(i,e,t){return Jt(i).beforeAuthStateChanged(e,t)}function hP(i,e,t,n){return Jt(i).onAuthStateChanged(e,t,n)}function fP(i){return Jt(i).signOut()}const of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=1e3,_P=10;class ox extends rx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);OI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_P):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ox.type="LOCAL";const pP=ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends rx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ax.type="SESSION";const lx=ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const n=new If(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const c=Array.from(u).map(async f=>f(t.origin,l)),h=await mP(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((c,h)=>{const f=Wg("",20);o.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(g.data.response);break;default:clearTimeout(_),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function vP(i){En().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function yP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SP(){return navigator?.serviceWorker?.controller||null}function bP(){return cx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="firebaseLocalStorageDb",CP=1,af="firebaseLocalStorage",hx="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pf(i,e){return i.transaction([af],e?"readwrite":"readonly").objectStore(af)}function wP(){const i=indexedDB.deleteDatabase(ux);return new Qc(i).toPromise()}function Rm(){const i=indexedDB.open(ux,CP);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(af,{keyPath:hx})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(af)?e(n):(n.close(),await wP(),e(await Rm()))})})}async function Qb(i,e,t){const n=Pf(i,!0).put({[hx]:e,value:t});return new Qc(n).toPromise()}async function EP(i,e){const t=Pf(i,!1).get(e),n=await new Qc(t).toPromise();return n===void 0?null:n.value}function Zb(i,e){const t=Pf(i,!0).delete(e);return new Qc(t).toPromise()}const TP=800,xP=3;class fx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>xP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(bP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yP(),!this.activeServiceWorker)return;this.sender=new gP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Qb(e,of,"1"),await Zb(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>EP(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Pf(o,!1).getAll();return new Qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fx.type="LOCAL";const RP=fx;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(i,e){return e?Xn(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DP(i){return sx(i.auth,new qg(i),i.bypassAuthState)}function kP(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),rP(t,new qg(i),i.bypassAuthState)}async function MP(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),sP(t,new qg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:l,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DP;case"linkViaPopup":case"linkViaRedirect":return MP;case"reauthViaPopup":case"reauthViaRedirect":return kP;default:hn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Yc(2e3,1e4);class Jo extends dx{constructor(e,t,n,o,l){super(e,t,o,l),this.provider=n,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OP.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="pendingRedirect",Nh=new Map;class IP extends dx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const n=await PP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PP(i,e){const t=HP(e),n=BP(i);if(!await n._isAvailable())return!1;const o=await n._get(t)==="true";return await n._remove(t),o}function NP(i,e){Nh.set(i._key(),e)}function BP(i){return Xn(i._redirectPersistence)}function HP(i){return Ph(LP,i.config.apiKey,i.name)}async function UP(i,e,t=!1){if(on(i.app))return Promise.reject(Ks(i));const n=Ba(i),o=AP(n,e),u=await new IP(n,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=600*1e3;class zP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_x(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wn(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jb(e))}saveEventToCache(e){this.cachedEventUids.add(Jb(e)),this.lastProcessedEventTime=Date.now()}}function Jb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function _x({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function VP(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(i,e={}){return ar(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qP=/^https?/;async function GP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await jP(i);for(const t of e)try{if($P(t))return}catch{}hn(i,"unauthorized-domain")}function $P(i){const e=Tm(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!qP.test(t))return!1;if(WP.test(i))return n===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Yc(3e4,6e4);function eC(){const i=En().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function YP(i){return new Promise((e,t)=>{function n(){eC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eC(),t(wn(i,"network-request-failed"))},timeout:KP.get()})}if(En().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(En().gapi?.load)n();else{const o=zI("iframefcb");return En()[o]=()=>{gapi.load?n():t(wn(i,"network-request-failed"))},JT(`${FI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function XP(i){return Bh=Bh||YP(i),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Yc(5e3,15e3),ZP="__/auth/iframe",JP="emulator/auth/iframe",eN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iN(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ug(e,JP):`https://${i.config.authDomain}/${ZP}`,n={apiKey:e.apiKey,appName:i.name,v:Na},o=tN.get(i.config.apiHost);o&&(n.eid=o);const l=i._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${Pa(n).slice(1)}`}async function nN(i){const e=await XP(i),t=En().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:iN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eN,dontclear:!0},n=>new Promise(async(o,l)=>{await n.restyle({setHideOnLeave:!1});const u=wn(i,"network-request-failed"),c=En().setTimeout(()=>{l(u)},QP.get());function h(){En().clearTimeout(c),o(n)}n.ping(h).then(h,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rN=500,oN=600,aN="_blank",lN="http://localhost";class tC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cN(i,e,t,n=rN,o=oN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h={...sN,width:n.toString(),height:o.toString(),top:l,left:u},f=oi().toLowerCase();t&&(c=GT(f)?aN:t),WT(f)&&(e=e||lN,h.scrollbars="yes");const _=Object.entries(h).reduce((g,[w,T])=>`${g}${w}=${T},`,"");if(MI(f)&&c!=="_self")return uN(e||"",c),new tC(null);const p=window.open(e||"",c,_);be(p,i,"popup-blocked");try{p.focus()}catch{}return new tC(p)}function uN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="__/auth/handler",fN="emulator/auth/handler",dN=encodeURIComponent("fac");async function iC(i,e,t,n,o,l){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Na,eventId:o};if(e instanceof ix){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",ym(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,p]of Object.entries({}))u[_]=p}if(e instanceof Xc){const _=e.getScopes().filter(p=>p!=="");_.length>0&&(u.scopes=_.join(","))}i.tenantId&&(u.tid=i.tenantId);const c=u;for(const _ of Object.keys(c))c[_]===void 0&&delete c[_];const h=await i._getAppCheckToken(),f=h?`#${dN}=${encodeURIComponent(h)}`:"";return`${_N(i)}?${Pa(c).slice(1)}${f}`}function _N({config:i}){return i.emulator?Ug(i,fN):`https://${i.authDomain}/${hN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class pN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lx,this._completeRedirectFn=UP,this._overrideRedirectResult=NP}async _openPopup(e,t,n,o){ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await iC(e,t,n,Tm(),o);return cN(e,l,Wg())}async _openRedirect(e,t,n,o){await this._originValidation(e);const l=await iC(e,t,n,Tm(),o);return vP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ss(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await nN(e),n=new zP(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ap,{type:Ap},o=>{const l=o?.[0]?.[Ap];l!==void 0&&t(!!l),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=GP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QT()||qT()||zg()}}const mN=pN;var nC="@firebase/auth",sC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yN(i){wa(new Yr("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=n.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:u,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(i)},f=new BI(n,o,l,h);return $I(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),wa(new Yr("auth-internal",e=>{const t=Ba(e.getProvider("auth").getImmediate());return(n=>new gN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(nC,sC,vN(i)),$s(nC,sC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=300,bN=TT("authIdTokenMaxAge")||SN;let rC=null;const CN=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bN)return;const o=t?.token;rC!==o&&(rC=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wN(i=LT()){const e=Bg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=GI(i,{popupRedirectResolver:mN,persistence:[RP,pP,lx]}),n=TT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=CN(l.toString());uP(t,u,()=>u(t.currentUser)),cP(t,c=>u(c))}}const o=wT("auth");return o&&KI(t,`http://${o}`),t}function EN(){return document.getElementsByTagName("head")?.[0]??document}HI({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=o=>{const l=wn("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",EN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yN("Browser");var TN="firebase",xN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(TN,xN,"app");var oC={};const aC="@firebase/database",lC="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let px="";function RN(i){px=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ec(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AN(e)}}catch{}return new DN},Hr=mx("localStorage"),kN=mx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Pg("@firebase/database"),MN=(function(){let i=1;return function(){return i++}})(),gx=function(i){const e=i3(i),t=new ZL;t.update(e);const n=t.digest();return Og.encodeByteArray(n)},Zc=function(...i){let e="";for(let t=0;t<i.length;t++){const n=i[t];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=Zc.apply(null,n):typeof n=="object"?e+=Rt(n):e+=n,e+=" "}return e};let oc=null,cC=!0;const ON=function(i,e){de(!0,"Can't turn on custom loggers persistently."),da.logLevel=We.VERBOSE,oc=da.log.bind(da)},Vt=function(...i){if(cC===!0&&(cC=!1,oc===null&&kN.get("logging_enabled")===!0&&ON()),oc){const e=Zc.apply(null,i);oc(e)}},Jc=function(i){return function(...e){Vt(i,...e)}},Am=function(...i){const e="FIREBASE INTERNAL ERROR: "+Zc(...i);da.error(e)},rs=function(...i){const e=`FIREBASE FATAL ERROR: ${Zc(...i)}`;throw da.error(e),new Error(e)},ri=function(...i){const e="FIREBASE WARNING: "+Zc(...i);da.warn(e)},LN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gg=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},IN=function(i){if(document.readyState==="complete")i();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ta="[MIN_NAME]",Qr="[MAX_NAME]",no=function(i,e){if(i===e)return 0;if(i===Ta||e===Qr)return-1;if(e===Ta||i===Qr)return 1;{const t=uC(i),n=uC(e);return t!==null?n!==null?t-n===0?i.length-e.length:t-n:-1:n!==null?1:i<e?-1:1}},PN=function(i,e){return i===e?0:i<e?-1:1},ql=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Rt(e))},$g=function(i){if(typeof i!="object"||i===null)return Rt(i);const e=[];for(const n in i)e.push(n);e.sort();let t="{";for(let n=0;n<e.length;n++)n!==0&&(t+=","),t+=Rt(e[n]),t+=":",t+=$g(i[e[n]]);return t+="}",t},vx=function(i,e){const t=i.length;if(t<=e)return[i];const n=[];for(let o=0;o<t;o+=e)o+e>t?n.push(i.substring(o,t)):n.push(i.substring(o,o+e));return n};function Wt(i,e){for(const t in i)i.hasOwnProperty(t)&&e(t,i[t])}const yx=function(i){de(!Gg(i),"Invalid JSON number");const e=11,t=52,n=(1<<e-1)-1;let o,l,u,c,h;i===0?(l=0,u=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-n)?(c=Math.min(Math.floor(Math.log(i)/Math.LN2),n),l=c+n,u=Math.round(i*Math.pow(2,t-c)-Math.pow(2,t))):(l=0,u=Math.round(i/Math.pow(2,1-n-t))));const f=[];for(h=t;h;h-=1)f.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);f.push(o?1:0),f.reverse();const _=f.join("");let p="";for(h=0;h<64;h+=8){let g=parseInt(_.substr(h,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},NN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HN(i,e){let t="Unknown Error";i==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?t="Client doesn't have permission to access the desired data.":i==="unavailable"&&(t="The service is unavailable");const n=new Error(i+" at "+e._path.toString()+": "+t);return n.code=i.toUpperCase(),n}const UN=new RegExp("^-?(0*)\\d{1,10}$"),FN=-2147483648,zN=2147483647,uC=function(i){if(UN.test(i)){const e=Number(i);if(e>=FN&&e<=zN)return e}return null},Ua=function(i){try{i()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ri("Exception was thrown by user callback.",t),e},Math.floor(0))}},VN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ac=function(i,e){const t=setTimeout(i,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){ri(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ri(e)}}class Hh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="5",Sx="v",bx="s",Cx="r",wx="f",Ex=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tx="ls",xx="p",Dm="ac",Rx="websocket",Ax="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,n,o,l=!1,u="",c=!1,h=!1,f=null){this.secure=t,this.namespace=n,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function qN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function kx(i,e,t){de(typeof e=="string","typeof type must == string"),de(typeof t=="object","typeof params must == object");let n;if(e===Rx)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===Ax)n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qN(i)&&(t.ns=i.namespace);const o=[];return Wt(t,(l,u)=>{o.push(l+"="+u)}),n+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.counters_={}}incrementCounter(e,t=1){Mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ML(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp={},kp={};function Yg(i){const e=i.toString();return Dp[e]||(Dp[e]=new GN),Dp[e]}function $N(i,e){const t=i.toString();return kp[t]||(kp[t]=e()),kp[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<n.length;++o)n[o]&&Ua(()=>{this.onMessage_(n[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="start",YN="close",XN="pLPCommand",QN="pRTLPCB",Mx="id",Ox="pw",Lx="ser",ZN="cb",JN="seg",e5="ts",t5="d",i5="dframe",Ix=1870,Px=30,n5=Ix-Px,s5=25e3,r5=3e4;class ea{constructor(e,t,n,o,l,u,c){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jc(e),this.stats_=Yg(t),this.urlFn=h=>(this.appCheckToken&&(h[Dm]=this.appCheckToken),kx(t,Ax,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new KN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(r5)),IN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xg((...l)=>{const[u,c,h,f,_]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===hC)this.id=c,this.password=h;else if(u===YN)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,c]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,c)},()=>{this.onClosed_()},this.urlFn);const n={};n[hC]="t",n[Lx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[ZN]=this.scriptTagHolder.uniqueCallbackIdentifier),n[Sx]=Kg,this.transportSessionId&&(n[bx]=this.transportSessionId),this.lastSessionId&&(n[Tx]=this.lastSessionId),this.applicationId&&(n[xx]=this.applicationId),this.appCheckToken&&(n[Dm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ex.test(location.hostname)&&(n[Cx]=wx);const o=this.urlFn(n);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ea.forceAllow_=!0}static forceDisallow(){ea.forceDisallow_=!0}static isAvailable(){return ea.forceAllow_?!0:!ea.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!NN()&&!BN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=bT(t),o=vx(n,n5);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={};n[i5]="t",n[Mx]=e,n[Ox]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Rt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Xg{constructor(e,t,n,o){this.onDisconnect=n,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=MN(),window[XN+this.uniqueCallbackIdentifier]=e,window[QN+this.uniqueCallbackIdentifier]=t,this.myIFrame=Xg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Vt("frame writing exception"),c.stack&&Vt(c.stack),Vt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vt("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Mx]=this.myID,e[Ox]=this.myPW,e[Lx]=this.currentSerial;let t=this.urlFn(e),n="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Px+n.length<=Ix;){const u=this.pendingSegs.shift();n=n+"&"+JN+o+"="+u.seg+"&"+e5+o+"="+u.ts+"&"+t5+o+"="+u.d,o++}return t=t+n,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(n,Math.floor(s5)),l=()=>{clearTimeout(o),n()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const o=n.readyState;(!o||o==="loaded"||o==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=16384,a5=45e3;let lf=null;typeof MozWebSocket<"u"?lf=MozWebSocket:typeof WebSocket<"u"&&(lf=WebSocket);class an{constructor(e,t,n,o,l,u,c){this.connId=e,this.applicationId=n,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jc(this.connId),this.stats_=Yg(t),this.connURL=an.connectionURL_(t,u,c,o,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,o,l){const u={};return u[Sx]=Kg,typeof location<"u"&&location.hostname&&Ex.test(location.hostname)&&(u[Cx]=wx),t&&(u[bx]=t),n&&(u[Tx]=n),o&&(u[Dm]=o),l&&(u[xx]=l),kx(e,Rx,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hr.set("previous_websocket_failure",!0);try{let n;WL(),this.mySock=new lf(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const o=n.message||n.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const o=n.message||n.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&lf!==null&&!an.forceDisallow_}static previouslyFailed(){return Hr.isInMemoryStorage||Hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const n=Ec(t);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(de(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const n=this.extractFrameCount_(t);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=vx(t,o5);n.length>1&&this.sendString_(String(n.length));for(let o=0;o<n.length;o++)this.sendString_(n[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(a5))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{static get ALL_TRANSPORTS(){return[ea,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=an&&an.isAvailable();let n=t&&!an.previouslyFailed();if(e.webSocketOnly&&(t||ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[an];else{const o=this.transports_=[];for(const l of Ac.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Ac.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ac.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=6e4,c5=5e3,u5=10*1024,h5=100*1024,Mp="t",fC="d",f5="s",dC="r",d5="e",_C="o",pC="a",mC="n",gC="p",_5="h";class p5{constructor(e,t,n,o,l,u,c,h,f,_){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jc("c:"+this.id+":"),this.transportManager_=new Ac(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ac(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>u5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mp in e){const t=e[Mp];t===pC?this.upgradeIfSecondaryHealthy_():t===dC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===_C&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ql("t",e),n=ql("d",e);if(t==="c")this.onSecondaryControl_(n);else if(t==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ql("t",e),n=ql("d",e);t==="c"?this.onControl_(n):t==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ql(Mp,e);if(fC in e){const n=e[fC];if(t===_5){const o={...n};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(t===mC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===f5?this.onConnectionShutdown_(n):t===dC?this.onReset_(n):t===d5?Am("Server Error: "+n):t===_C?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Am("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Kg!==n&&ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),ac(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(l5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ac(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(c5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{put(e,t,n,o){}merge(e,t,n,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.allowedEvents_=e,this.listeners_={},de(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let o=0;o<n.length;o++)n[o].callback.apply(n[o].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const o=this.getInitialEvent(e);o&&t.apply(n,o)}off(e,t,n){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===t&&(!n||n===o[l].context)){o.splice(l,1);return}}validateEventType_(e){de(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends Bx{static getInstance(){return new cf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ig()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return de(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=32,yC=768;class qe{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let n=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[n]=this.pieces_[o],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Be(){return new qe("")}function Le(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Js(i){return i.pieces_.length-i.pieceNum_}function Ze(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new qe(i.pieces_,e)}function Qg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function m5(i){let e="";for(let t=i.pieceNum_;t<i.pieces_.length;t++)i.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[t])));return e||"/"}function Dc(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function Hx(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let t=i.pieceNum_;t<i.pieces_.length-1;t++)e.push(i.pieces_[t]);return new qe(e,0)}function ft(i,e){const t=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)t.push(i.pieces_[n]);if(e instanceof qe)for(let n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{const n=e.split("/");for(let o=0;o<n.length;o++)n[o].length>0&&t.push(n[o])}return new qe(t,0)}function Oe(i){return i.pieceNum_>=i.pieces_.length}function ni(i,e){const t=Le(i),n=Le(e);if(t===null)return e;if(t===n)return ni(Ze(i),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function g5(i,e){const t=Dc(i,0),n=Dc(e,0);for(let o=0;o<t.length&&o<n.length;o++){const l=no(t[o],n[o]);if(l!==0)return l}return t.length===n.length?0:t.length<n.length?-1:1}function Ux(i,e){if(Js(i)!==Js(e))return!1;for(let t=i.pieceNum_,n=e.pieceNum_;t<=i.pieces_.length;t++,n++)if(i.pieces_[t]!==e.pieces_[n])return!1;return!0}function Yi(i,e){let t=i.pieceNum_,n=e.pieceNum_;if(Js(i)>Js(e))return!1;for(;t<i.pieces_.length;){if(i.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0}class v5{constructor(e,t){this.errorPrefix_=t,this.parts_=Dc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Mf(this.parts_[n]);Fx(this)}}function y5(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Mf(e),Fx(i)}function S5(i){const e=i.parts_.pop();i.byteLength_-=Mf(e),i.parts_.length>0&&(i.byteLength_-=1)}function Fx(i){if(i.byteLength_>yC)throw new Error(i.errorPrefix_+"has a key path longer than "+yC+" bytes ("+i.byteLength_+").");if(i.parts_.length>vC)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vC+") or object contains a cycle "+Pr(i))}function Pr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends Bx{static getInstance(){return new Zg}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return de(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=1e3,b5=300*1e3,SC=30*1e3,C5=1.3,w5=3e4,E5="server_kill",bC=3;class Jn extends Nx{constructor(e,t,n,o,l,u,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Jn.nextPersistentConnectionId_++,this.log_=Jc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gl,this.maxReconnectDelay_=b5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&cf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const o=++this.requestNumber_,l={r:o,a:e,b:t};this.log_(Rt(l)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),n&&(this.requestCBHash_[o]=n)}get(e){this.initConnection_();const t=new $c,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const c=u.d;u.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,n,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:t,query:e,tag:n};this.listens.get(u).set(l,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+n+" for "+o);const l={p:n},u="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,c=>{const h=c.d,f=c.s;Jn.warnOnListenWarnings_(h,t),(this.listens.get(n)&&this.listens.get(n).get(o))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(n,o),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Mn(e,"w")){const n=Ca(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const o='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||QL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=SC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=XL(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(t,n,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+o),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,o)&&this.connected_&&this.sendUnlisten_(n,o,e._queryObject,t)}sendUnlisten_(e,t,n,o){this.log_("Unlisten on "+e+" for "+t);const l={p:e},u="n";o&&(l.q=n,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,o){const l={p:t,d:n};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,t,n,o){this.putInternal("p",e,t,n,o)}merge(e,t,n,o){this.putInternal("m",e,t,n,o)}putInternal(e,t,n,o,l){this.initConnection_();const u={p:t,d:n};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,n=>{if(n.s!=="ok"){const l=n.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Rt(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Am("Unrecognized action received from server: "+Rt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>w5&&(this.reconnectDelay_=Gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*C5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Jn.nextConnectionId_++,l=this.lastSessionId;let u=!1,c=null;const h=function(){c?c.close():(u=!0,n())},f=function(p){de(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:h,sendRequest:f};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);u?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new p5(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,w=>{ri(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(E5)},l))}catch(p){this.log_("Failed to get token: "+p),u||(this.repoInfo_.nodeAdmin&&ri(p),h())}}}interrupt(e){Vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ym(this.interruptReasons_)&&(this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;t?n=t.map(l=>$g(l)).join("$"):n="default";const o=this.removeListen_(e,n);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const n=new qe(e).toString();let o;if(this.listens.has(n)){const l=this.listens.get(n);o=l.get(t),l.delete(t),l.size===0&&this.listens.delete(n)}else o=void 0;return o}onAuthRevoked_(e,t){Vt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bC&&(this.reconnectDelay_=SC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Vt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+px.replace(/\./g,"-")]=1,Ig()?e["framework.cordova"]=1:AT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cf.getInstance().currentlyOnline();return ym(this.interruptReasons_)&&e}}Jn.nextPersistentConnectionId_=0;Jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new De(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new De(Ta,e),o=new De(Ta,t);return this.compare(n,o)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;class zx extends Nf{static get __EMPTY_NODE(){return wh}static set __EMPTY_NODE(e){wh=e}compare(e,t){return no(e.name,t.name)}isDefinedOn(e){throw La("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return De.MIN}maxPost(){return new De(Qr,wh)}makePost(e,t){return de(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,wh)}toString(){return".key"}}const _a=new zx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,n,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?n(e.key,t):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??It.RED,this.left=o??fi.EMPTY_NODE,this.right=l??fi.EMPTY_NODE}copy(e,t,n,o,l){return new It(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,t,n),null):l===0?o=o.copy(null,t,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return fi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,o;if(n=this,t(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),t(e,n.key)===0){if(n.right.isEmpty())return fi.EMPTY_NODE;o=n.right.min_(),n=n.copy(o.key,o.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class T5{copy(e,t,n,o,l){return this}insert(e,t,n){return new It(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fi{constructor(e,t=fi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new fi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new fi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),t===0)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,o=null;for(;!n.isEmpty();)if(t=this.comparator_(e,n.key),t===0){if(n.left.isEmpty())return o?o.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else t<0?n=n.left:t>0&&(o=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Eh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Eh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Eh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Eh(this.root_,null,this.comparator_,!0,e)}}fi.EMPTY_NODE=new T5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(i,e){return no(i.name,e.name)}function Jg(i,e){return no(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km;function R5(i){km=i}const Vx=function(i){return typeof i=="number"?"number:"+yx(i):"string:"+i},jx=function(i){if(i.isLeafNode()){const e=i.val();de(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mn(e,".sv"),"Priority must be a string or number.")}else de(i===km||i.isEmpty(),"priority of unexpected type.");de(i===km||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CC;class Lt{static set __childrenNodeConstructor(e){CC=e}static get __childrenNodeConstructor(){return CC}constructor(e,t=Lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Le(e)===".priority"?this.priorityNode_:Lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Le(e);return n===null?t:t.isEmpty()&&n!==".priority"?this:(de(n!==".priority"||Js(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vx(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=yx(this.value_):e+=this.value_,this.lazyHash_=gx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Lt.__childrenNodeConstructor?-1:(de(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,o=Lt.VALUE_TYPE_ORDER.indexOf(t),l=Lt.VALUE_TYPE_ORDER.indexOf(n);return de(o>=0,"Unknown leaf type: "+t),de(l>=0,"Unknown leaf type: "+n),o===l?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wx,qx;function A5(i){Wx=i}function D5(i){qx=i}class k5 extends Nf{compare(e,t){const n=e.node.getPriority(),o=t.node.getPriority(),l=n.compareTo(o);return l===0?no(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Qr,new Lt("[PRIORITY-POST]",qx))}makePost(e,t){const n=Wx(e);return new De(t,new Lt("[PRIORITY-POST]",n))}toString(){return".priority"}}const _t=new k5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=Math.log(2);class O5{constructor(e){const t=l=>parseInt(Math.log(l)/M5,10),n=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const o=n(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uf=function(i,e,t,n){i.sort(e);const o=function(h,f){const _=f-h;let p,g;if(_===0)return null;if(_===1)return p=i[h],g=t?t(p):p,new It(g,p.node,It.BLACK,null,null);{const w=parseInt(_/2,10)+h,T=o(h,w),C=o(w+1,f);return p=i[w],g=t?t(p):p,new It(g,p.node,It.BLACK,T,C)}},l=function(h){let f=null,_=null,p=i.length;const g=function(T,C){const S=p-T,b=p;p-=T;const y=o(S+1,b),m=i[S],x=t?t(m):m;w(new It(x,m.node,C,null,y))},w=function(T){f?(f.left=T,f=T):(_=T,f=T)};for(let T=0;T<h.count;++T){const C=h.nextBitIsOne(),S=Math.pow(2,h.count-(T+1));C?g(S,It.BLACK):(g(S,It.BLACK),g(S,It.RED))}return _},u=new O5(i.length),c=l(u);return new fi(n||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;const Xo={};class Qn{static get Default(){return de(Xo&&_t,"ChildrenNode.ts has not been loaded"),Op=Op||new Qn({".priority":Xo},{".priority":_t}),Op}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ca(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fi?t:null}hasIndex(e){return Mn(this.indexSet_,e.toString())}addIndex(e,t){de(e!==_a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let o=!1;const l=t.getIterator(De.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),n.push(u),u=l.getNext();let c;o?c=uf(n,e.getCompare()):c=Xo;const h=e.toString(),f={...this.indexSet_};f[h]=e;const _={...this.indexes_};return _[h]=c,new Qn(_,f)}addToIndexes(e,t){const n=Jh(this.indexes_,(o,l)=>{const u=Ca(this.indexSet_,l);if(de(u,"Missing index implementation for "+l),o===Xo)if(u.isDefinedOn(e.node)){const c=[],h=t.getIterator(De.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),uf(c,u.getCompare())}else return Xo;else{const c=t.get(e.name);let h=o;return c&&(h=h.remove(new De(e.name,c))),h.insert(e,e.node)}});return new Qn(n,this.indexSet_)}removeFromIndexes(e,t){const n=Jh(this.indexes_,o=>{if(o===Xo)return o;{const l=t.get(e.name);return l?o.remove(new De(e.name,l)):o}});return new Qn(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l;class Ce{static get EMPTY_NODE(){return $l||($l=new Ce(new fi(Jg),null,Qn.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&jx(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$l}updatePriority(e){return this.children_.isEmpty()?this:new Ce(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?$l:t}}getChild(e){const t=Le(e);return t===null?this:this.getImmediateChild(t).getChild(Ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(de(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const n=new De(e,t);let o,l;t.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(n,this.children_)):(o=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(n,this.children_));const u=o.isEmpty()?$l:this.priorityNode_;return new Ce(o,u,l)}}updateChild(e,t){const n=Le(e);if(n===null)return t;{de(Le(e)!==".priority"||Js(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(n).updateChild(Ze(e),t);return this.updateImmediateChild(n,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,o=0,l=!0;if(this.forEachChild(_t,(u,c)=>{t[u]=c.val(e),n++,l&&Ce.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*n){const u=[];for(const c in t)u[c]=t[c];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Vx(this.getPriority().val())+":"),this.forEachChild(_t,(t,n)=>{const o=n.hash();o!==""&&(e+=":"+t+":"+o)}),this.lazyHash_=e===""?"":gx(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const o=this.resolveIndex_(n);if(o){const l=o.getPredecessorKey(new De(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const n=t.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new De(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const n=t.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new De(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(o=>t(o.name,o.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,De.Wrap);let l=o.peek();for(;l!=null&&t.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let l=o.peek();for(;l!=null&&t.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eu?-1:0}withIndex(e){if(e===_a||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ce(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===_a||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const n=this.getIterator(_t),o=t.getIterator(_t);let l=n.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=n.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===_a?null:this.indexMap_.get(e.toString())}}Ce.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class L5 extends Ce{constructor(){super(new fi(Jg),Ce.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ce.EMPTY_NODE}isEmpty(){return!1}}const eu=new L5;Object.defineProperties(De,{MIN:{value:new De(Ta,Ce.EMPTY_NODE)},MAX:{value:new De(Qr,eu)}});zx.__EMPTY_NODE=Ce.EMPTY_NODE;Lt.__childrenNodeConstructor=Ce;R5(eu);D5(eu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=!0;function xt(i,e=null){if(i===null)return Ce.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),de(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const t=i;return new Lt(t,xt(e))}if(!(i instanceof Array)&&I5){const t=[];let n=!1;if(Wt(i,(u,c)=>{if(u.substring(0,1)!=="."){const h=xt(c);h.isEmpty()||(n=n||!h.getPriority().isEmpty(),t.push(new De(u,h)))}}),t.length===0)return Ce.EMPTY_NODE;const l=uf(t,x5,u=>u.name,Jg);if(n){const u=uf(t,_t.getCompare());return new Ce(l,xt(e),new Qn({".priority":u},{".priority":_t}))}else return new Ce(l,xt(e),Qn.Default)}else{let t=Ce.EMPTY_NODE;return Wt(i,(n,o)=>{if(Mn(i,n)&&n.substring(0,1)!=="."){const l=xt(o);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(n,l))}}),t.updatePriority(xt(e))}}A5(xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5 extends Nf{constructor(e){super(),this.indexPath_=e,de(!Oe(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),o=this.extractChild(t.node),l=n.compareTo(o);return l===0?no(e.name,t.name):l}makePost(e,t){const n=xt(e),o=Ce.EMPTY_NODE.updateChild(this.indexPath_,n);return new De(t,o)}maxPost(){const e=Ce.EMPTY_NODE.updateChild(this.indexPath_,eu);return new De(Qr,e)}toString(){return Dc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends Nf{compare(e,t){const n=e.node.compareTo(t.node);return n===0?no(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,t){const n=xt(e);return new De(t,n)}toString(){return".value"}}const B5=new N5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i){return{type:"value",snapshotNode:i}}function xa(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function kc(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Mc(i,e,t){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:t}}function H5(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this.index_=e}updateChild(e,t,n,o,l,u){de(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(o).equals(n.getChild(o))&&c.isEmpty()===n.isEmpty()||(u!=null&&(n.isEmpty()?e.hasChild(t)?u.trackChildChange(kc(t,c)):de(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?u.trackChildChange(xa(t,n)):u.trackChildChange(Mc(t,n,c))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return n!=null&&(e.isLeafNode()||e.forEachChild(_t,(o,l)=>{t.hasChild(o)||n.trackChildChange(kc(o,l))}),t.isLeafNode()||t.forEachChild(_t,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||n.trackChildChange(Mc(o,l,u))}else n.trackChildChange(xa(o,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ce.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.indexedFilter_=new ev(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Oc.getStartPost_(e),this.endPost_=Oc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,o,l,u){return this.matches(new De(t,n))||(n=Ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,o,l,u)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Ce.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(Ce.EMPTY_NODE);const l=this;return t.forEachChild(_t,(u,c)=>{l.matches(new De(u,c))||(o=o.updateImmediateChild(u,Ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=t=>{const n=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Oc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,o,l,u){return this.rangedFilter_.matches(new De(t,n))||(n=Ce.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,o,l,u):this.fullLimitUpdateChild_(e,t,n,l,u)}updateFullNode(e,t,n){let o;if(t.isLeafNode()||t.isEmpty())o=Ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){o=Ce.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const c=l.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))o=o.updateImmediateChild(c.name,c.node),u++;else break;else continue}}else{o=t.withIndex(this.index_),o=o.updatePriority(Ce.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const c=l.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:o=o.updateImmediateChild(c.name,Ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,o,l){let u;if(this.reverse_){const p=this.index_.getCompare();u=(g,w)=>p(w,g)}else u=this.index_.getCompare();const c=e;de(c.numChildren()===this.limit_,"");const h=new De(t,n),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(c.hasChild(t)){const p=c.getImmediateChild(t);let g=o.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===t||c.hasChild(g.name));)g=o.getChildAfterChild(this.index_,g,this.reverse_);const w=g==null?1:u(g,h);if(_&&!n.isEmpty()&&w>=0)return l?.trackChildChange(Mc(t,n,p)),c.updateImmediateChild(t,n);{l?.trackChildChange(kc(t,p));const C=c.updateImmediateChild(t,Ce.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(l?.trackChildChange(xa(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return n.isEmpty()?e:_&&u(f,h)>=0?(l!=null&&(l.trackChildChange(kc(f.name,f.node)),l.trackChildChange(xa(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(f.name,Ce.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ta}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_t}copy(){const e=new tv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function F5(i){return i.loadsAllData()?new ev(i.getIndex()):i.hasLimit()?new U5(i):new Oc(i)}function wC(i){const e={};if(i.isDefault())return e;let t;if(i.index_===_t?t="$priority":i.index_===B5?t="$value":i.index_===_a?t="$key":(de(i.index_ instanceof P5,"Unrecognized index type!"),t=i.index_.toString()),e.orderBy=Rt(t),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";e[n]=Rt(i.indexStartValue_),i.startNameSet_&&(e[n]+=","+Rt(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";e[n]=Rt(i.indexEndValue_),i.endNameSet_&&(e[n]+=","+Rt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function EC(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let t=i.viewFrom_;t===""&&(i.isViewFromLeft()?t="l":t="r"),e.vf=t}return i.index_!==_t&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Nx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=o,this.log_=Jc("p:rest:"),this.listens_={}}listen(e,t,n,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=hf.getListenId_(e,n),c={};this.listens_[u]=c;const h=wC(e._queryParams);this.restRequest_(l+".json",h,(f,_)=>{let p=_;if(f===404&&(p=null,f=null),f===null&&this.onDataUpdate_(l,p,!1,n),Ca(this.listens_,u)===c){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",o(g,null)}})}unlisten(e,t){const n=hf.getListenId_(e,t);delete this.listens_[n]}get(e){const t=wC(e._queryParams),n=e._path.toString(),o=new $c;return this.restRequest_(n+".json",t,(l,u)=>{let c=u;l===404&&(c=null,l=null),l===null?(this.onDataUpdate_(n,c,!1,null),o.resolve(c)):o.reject(new Error(c))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(t.auth=o.accessToken),l&&l.token&&(t.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pa(t);this.log_("Sending REST request for "+u);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(n&&c.readyState===4){this.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=Ec(c.responseText)}catch{ri("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,h)}else c.status!==401&&c.status!==404&&ri("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.rootNode_=Ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(){return{value:null,children:new Map}}function $x(i,e,t){if(Oe(e))i.value=t,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,t);else{const n=Le(e);i.children.has(n)||i.children.set(n,ff());const o=i.children.get(n);e=Ze(e),$x(o,e,t)}}function Mm(i,e,t){i.value!==null?t(e,i.value):V5(i,(n,o)=>{const l=new qe(e.toString()+"/"+n);Mm(o,l,t)})}function V5(i,e){i.children.forEach((t,n)=>{e(n,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Wt(this.last_,(n,o)=>{t[n]=t[n]-o}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=10*1e3,W5=30*1e3,q5=300*1e3;class G5{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new j5(e);const n=TC+(W5-TC)*Math.random();ac(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Wt(e,(o,l)=>{l>0&&Mn(this.statsToReport_,o)&&(t[o]=l,n=!0)}),n&&this.server_.reportStats(t),ac(this.reportStats_.bind(this),Math.floor(Math.random()*2*q5))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function iv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sv(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=cn.ACK_USER_WRITE,this.source=iv()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new qe(e));return new df(Be(),t,this.revert)}}else return de(Le(this.path)===e,"operationForChild called for unrelated child."),new df(Ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.source=e,this.path=t,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Lc(this.source,Be()):new Lc(this.source,Ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=cn.OVERWRITE}operationForChild(e){return Oe(this.path)?new Zr(this.source,Be(),this.snap.getImmediateChild(e)):new Zr(this.source,Ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=cn.MERGE}operationForChild(e){if(Oe(this.path)){const t=this.children.subtree(new qe(e));return t.isEmpty()?null:t.value?new Zr(this.source,Be(),t.value):new Ra(this.source,Be(),t)}else return de(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ra(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const t=Le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function K5(i,e,t,n){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&i.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(H5(u.childName,u.snapshotNode))}),Kl(i,o,"child_removed",e,n,t),Kl(i,o,"child_added",e,n,t),Kl(i,o,"child_moved",l,n,t),Kl(i,o,"child_changed",e,n,t),Kl(i,o,"value",e,n,t),o}function Kl(i,e,t,n,o,l){const u=n.filter(c=>c.type===t);u.sort((c,h)=>X5(i,c,h)),u.forEach(c=>{const h=Y5(i,c,l);o.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,i.query_))})})}function Y5(i,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function X5(i,e,t){if(e.childName==null||t.childName==null)throw La("Should only compare child_ events.");const n=new De(e.childName,e.snapshotNode),o=new De(t.childName,t.snapshotNode);return i.index_.compare(n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(i,e){return{eventCache:i,serverCache:e}}function lc(i,e,t,n){return Bf(new er(e,t,n),i.serverCache)}function Kx(i,e,t,n){return Bf(i.eventCache,new er(e,t,n))}function _f(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;const Q5=()=>(Lp||(Lp=new fi(PN)),Lp);class Qe{static fromObject(e){let t=new Qe(null);return Wt(e,(n,o)=>{t=t.set(new qe(n),o)}),t}constructor(e,t=Q5()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Be(),value:this.value};if(Oe(e))return null;{const n=Le(e),o=this.children.get(n);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Ze(e),t);return l!=null?{path:ft(new qe(n),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const t=Le(e),n=this.children.get(t);return n!==null?n.subtree(Ze(e)):new Qe(null)}}set(e,t){if(Oe(e))return new Qe(t,this.children);{const n=Le(e),l=(this.children.get(n)||new Qe(null)).set(Ze(e),t),u=this.children.insert(n,l);return new Qe(this.value,u)}}remove(e){if(Oe(e))return this.children.isEmpty()?new Qe(null):new Qe(null,this.children);{const t=Le(e),n=this.children.get(t);if(n){const o=n.remove(Ze(e));let l;return o.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,o),this.value===null&&l.isEmpty()?new Qe(null):new Qe(this.value,l)}else return this}}get(e){if(Oe(e))return this.value;{const t=Le(e),n=this.children.get(t);return n?n.get(Ze(e)):null}}setTree(e,t){if(Oe(e))return t;{const n=Le(e),l=(this.children.get(n)||new Qe(null)).setTree(Ze(e),t);let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),new Qe(this.value,u)}}fold(e){return this.fold_(Be(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((o,l)=>{n[o]=l.fold_(ft(e,o),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Be(),t)}findOnPath_(e,t,n){const o=this.value?n(t,this.value):!1;if(o)return o;if(Oe(e))return null;{const l=Le(e),u=this.children.get(l);return u?u.findOnPath_(Ze(e),ft(t,l),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Be(),t)}foreachOnPath_(e,t,n){if(Oe(e))return this;{this.value&&n(t,this.value);const o=Le(e),l=this.children.get(o);return l?l.foreachOnPath_(Ze(e),ft(t,o),n):new Qe(null)}}foreach(e){this.foreach_(Be(),e)}foreach_(e,t){this.children.inorderTraversal((n,o)=>{o.foreach_(ft(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.writeTree_=e}static empty(){return new un(new Qe(null))}}function cc(i,e,t){if(Oe(e))return new un(new Qe(t));{const n=i.writeTree_.findRootMostValueAndPath(e);if(n!=null){const o=n.path;let l=n.value;const u=ni(o,e);return l=l.updateChild(u,t),new un(i.writeTree_.set(o,l))}else{const o=new Qe(t),l=i.writeTree_.setTree(e,o);return new un(l)}}}function Om(i,e,t){let n=i;return Wt(t,(o,l)=>{n=cc(n,ft(e,o),l)}),n}function xC(i,e){if(Oe(e))return un.empty();{const t=i.writeTree_.setTree(e,new Qe(null));return new un(t)}}function Lm(i,e){return so(i,e)!=null}function so(i,e){const t=i.writeTree_.findRootMostValueAndPath(e);return t!=null?i.writeTree_.get(t.path).getChild(ni(t.path,e)):null}function RC(i){const e=[],t=i.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(_t,(n,o)=>{e.push(new De(n,o))}):i.writeTree_.children.inorderTraversal((n,o)=>{o.value!=null&&e.push(new De(n,o.value))}),e}function Ys(i,e){if(Oe(e))return i;{const t=so(i,e);return t!=null?new un(new Qe(t)):new un(i.writeTree_.subtree(e))}}function Im(i){return i.writeTree_.isEmpty()}function Aa(i,e){return Yx(Be(),i.writeTree_,e)}function Yx(i,e,t){if(e.value!=null)return t.updateChild(i,e.value);{let n=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(de(l.value!==null,"Priority writes must always be leaf nodes"),n=l.value):t=Yx(ft(i,o),l,t)}),!t.getChild(i).isEmpty()&&n!==null&&(t=t.updateChild(ft(i,".priority"),n)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(i,e){return Jx(e,i)}function Z5(i,e,t,n,o){de(n>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:t,writeId:n,visible:o}),o&&(i.visibleWrites=cc(i.visibleWrites,e,t)),i.lastWriteId=n}function J5(i,e,t,n){de(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:e,children:t,writeId:n,visible:!0}),i.visibleWrites=Om(i.visibleWrites,e,t),i.lastWriteId=n}function e4(i,e){for(let t=0;t<i.allWrites.length;t++){const n=i.allWrites[t];if(n.writeId===e)return n}return null}function t4(i,e){const t=i.allWrites.findIndex(c=>c.writeId===e);de(t>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[t];i.allWrites.splice(t,1);let o=n.visible,l=!1,u=i.allWrites.length-1;for(;o&&u>=0;){const c=i.allWrites[u];c.visible&&(u>=t&&i4(c,n.path)?o=!1:Yi(n.path,c.path)&&(l=!0)),u--}if(o){if(l)return n4(i),!0;if(n.snap)i.visibleWrites=xC(i.visibleWrites,n.path);else{const c=n.children;Wt(c,h=>{i.visibleWrites=xC(i.visibleWrites,ft(n.path,h))})}return!0}else return!1}function i4(i,e){if(i.snap)return Yi(i.path,e);for(const t in i.children)if(i.children.hasOwnProperty(t)&&Yi(ft(i.path,t),e))return!0;return!1}function n4(i){i.visibleWrites=Xx(i.allWrites,s4,Be()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function s4(i){return i.visible}function Xx(i,e,t){let n=un.empty();for(let o=0;o<i.length;++o){const l=i[o];if(e(l)){const u=l.path;let c;if(l.snap)Yi(t,u)?(c=ni(t,u),n=cc(n,c,l.snap)):Yi(u,t)&&(c=ni(u,t),n=cc(n,Be(),l.snap.getChild(c)));else if(l.children){if(Yi(t,u))c=ni(t,u),n=Om(n,c,l.children);else if(Yi(u,t))if(c=ni(u,t),Oe(c))n=Om(n,Be(),l.children);else{const h=Ca(l.children,Le(c));if(h){const f=h.getChild(Ze(c));n=cc(n,Be(),f)}}}else throw La("WriteRecord should have .snap or .children")}}return n}function Qx(i,e,t,n,o){if(!n&&!o){const l=so(i.visibleWrites,e);if(l!=null)return l;{const u=Ys(i.visibleWrites,e);if(Im(u))return t;if(t==null&&!Lm(u,Be()))return null;{const c=t||Ce.EMPTY_NODE;return Aa(u,c)}}}else{const l=Ys(i.visibleWrites,e);if(!o&&Im(l))return t;if(!o&&t==null&&!Lm(l,Be()))return null;{const u=function(f){return(f.visible||o)&&(!n||!~n.indexOf(f.writeId))&&(Yi(f.path,e)||Yi(e,f.path))},c=Xx(i.allWrites,u,e),h=t||Ce.EMPTY_NODE;return Aa(c,h)}}}function r4(i,e,t){let n=Ce.EMPTY_NODE;const o=so(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(_t,(l,u)=>{n=n.updateImmediateChild(l,u)}),n;if(t){const l=Ys(i.visibleWrites,e);return t.forEachChild(_t,(u,c)=>{const h=Aa(Ys(l,new qe(u)),c);n=n.updateImmediateChild(u,h)}),RC(l).forEach(u=>{n=n.updateImmediateChild(u.name,u.node)}),n}else{const l=Ys(i.visibleWrites,e);return RC(l).forEach(u=>{n=n.updateImmediateChild(u.name,u.node)}),n}}function o4(i,e,t,n,o){de(n||o,"Either existingEventSnap or existingServerSnap must exist");const l=ft(e,t);if(Lm(i.visibleWrites,l))return null;{const u=Ys(i.visibleWrites,l);return Im(u)?o.getChild(t):Aa(u,o.getChild(t))}}function a4(i,e,t,n){const o=ft(e,t),l=so(i.visibleWrites,o);if(l!=null)return l;if(n.isCompleteForChild(t)){const u=Ys(i.visibleWrites,o);return Aa(u,n.getNode().getImmediateChild(t))}else return null}function l4(i,e){return so(i.visibleWrites,e)}function c4(i,e,t,n,o,l,u){let c;const h=Ys(i.visibleWrites,e),f=so(h,Be());if(f!=null)c=f;else if(t!=null)c=Aa(h,t);else return[];if(c=c.withIndex(u),!c.isEmpty()&&!c.isLeafNode()){const _=[],p=u.getCompare(),g=l?c.getReverseIteratorFrom(n,u):c.getIteratorFrom(n,u);let w=g.getNext();for(;w&&_.length<o;)p(w,n)!==0&&_.push(w),w=g.getNext();return _}else return[]}function u4(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}function pf(i,e,t,n){return Qx(i.writeTree,i.treePath,e,t,n)}function rv(i,e){return r4(i.writeTree,i.treePath,e)}function AC(i,e,t,n){return o4(i.writeTree,i.treePath,e,t,n)}function mf(i,e){return l4(i.writeTree,ft(i.treePath,e))}function h4(i,e,t,n,o,l){return c4(i.writeTree,i.treePath,e,t,n,o,l)}function ov(i,e,t){return a4(i.writeTree,i.treePath,e,t)}function Zx(i,e){return Jx(ft(i.treePath,e),i.writeTree)}function Jx(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;de(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),de(n!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(n);if(o){const l=o.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(n,Mc(n,e.snapshotNode,o.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(n);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(n,kc(n,o.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(n,xa(n,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(n,Mc(n,e.snapshotNode,o.oldSnap));else throw La("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const eR=new d4;class av{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new er(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ov(this.writes_,e,n)}}getChildAfterChild(e,t,n){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jr(this.viewCache_),l=h4(this.writes_,o,t,1,n,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(i){return{filter:i}}function p4(i,e){de(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),de(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function m4(i,e,t,n,o){const l=new f4;let u,c;if(t.type===cn.OVERWRITE){const f=t;f.source.fromUser?u=Pm(i,e,f.path,f.snap,n,o,l):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Oe(f.path),u=gf(i,e,f.path,f.snap,n,o,c,l))}else if(t.type===cn.MERGE){const f=t;f.source.fromUser?u=v4(i,e,f.path,f.children,n,o,l):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),u=Nm(i,e,f.path,f.children,n,o,c,l))}else if(t.type===cn.ACK_USER_WRITE){const f=t;f.revert?u=b4(i,e,f.path,n,o,l):u=y4(i,e,f.path,f.affectedTree,n,o,l)}else if(t.type===cn.LISTEN_COMPLETE)u=S4(i,e,t.path,n,l);else throw La("Unknown operation type: "+t.type);const h=l.getChanges();return g4(e,u,h),{viewCache:u,changes:h}}function g4(i,e,t){const n=e.eventCache;if(n.isFullyInitialized()){const o=n.getNode().isLeafNode()||n.getNode().isEmpty(),l=_f(i);(t.length>0||!i.eventCache.isFullyInitialized()||o&&!n.getNode().equals(l)||!n.getNode().getPriority().equals(l.getPriority()))&&t.push(Gx(_f(e)))}}function tR(i,e,t,n,o,l){const u=e.eventCache;if(mf(n,t)!=null)return e;{let c,h;if(Oe(t))if(de(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Jr(e),_=f instanceof Ce?f:Ce.EMPTY_NODE,p=rv(n,_);c=i.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const f=pf(n,Jr(e));c=i.filter.updateFullNode(e.eventCache.getNode(),f,l)}else{const f=Le(t);if(f===".priority"){de(Js(t)===1,"Can't have a priority with additional path components");const _=u.getNode();h=e.serverCache.getNode();const p=AC(n,t,_,h);p!=null?c=i.filter.updatePriority(_,p):c=u.getNode()}else{const _=Ze(t);let p;if(u.isCompleteForChild(f)){h=e.serverCache.getNode();const g=AC(n,t,u.getNode(),h);g!=null?p=u.getNode().getImmediateChild(f).updateChild(_,g):p=u.getNode().getImmediateChild(f)}else p=ov(n,f,e.serverCache);p!=null?c=i.filter.updateChild(u.getNode(),f,p,_,o,l):c=u.getNode()}}return lc(e,c,u.isFullyInitialized()||Oe(t),i.filter.filtersNodes())}}function gf(i,e,t,n,o,l,u,c){const h=e.serverCache;let f;const _=u?i.filter:i.filter.getIndexedFilter();if(Oe(t))f=_.updateFullNode(h.getNode(),n,null);else if(_.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(t,n);f=_.updateFullNode(h.getNode(),w,null)}else{const w=Le(t);if(!h.isCompleteForPath(t)&&Js(t)>1)return e;const T=Ze(t),S=h.getNode().getImmediateChild(w).updateChild(T,n);w===".priority"?f=_.updatePriority(h.getNode(),S):f=_.updateChild(h.getNode(),w,S,T,eR,null)}const p=Kx(e,f,h.isFullyInitialized()||Oe(t),_.filtersNodes()),g=new av(o,p,l);return tR(i,p,t,o,g,c)}function Pm(i,e,t,n,o,l,u){const c=e.eventCache;let h,f;const _=new av(o,e,l);if(Oe(t))f=i.filter.updateFullNode(e.eventCache.getNode(),n,u),h=lc(e,f,!0,i.filter.filtersNodes());else{const p=Le(t);if(p===".priority")f=i.filter.updatePriority(e.eventCache.getNode(),n),h=lc(e,f,c.isFullyInitialized(),c.isFiltered());else{const g=Ze(t),w=c.getNode().getImmediateChild(p);let T;if(Oe(g))T=n;else{const C=_.getCompleteChild(p);C!=null?Qg(g)===".priority"&&C.getChild(Hx(g)).isEmpty()?T=C:T=C.updateChild(g,n):T=Ce.EMPTY_NODE}if(w.equals(T))h=e;else{const C=i.filter.updateChild(c.getNode(),p,T,g,_,u);h=lc(e,C,c.isFullyInitialized(),i.filter.filtersNodes())}}}return h}function DC(i,e){return i.eventCache.isCompleteForChild(e)}function v4(i,e,t,n,o,l,u){let c=e;return n.foreach((h,f)=>{const _=ft(t,h);DC(e,Le(_))&&(c=Pm(i,c,_,f,o,l,u))}),n.foreach((h,f)=>{const _=ft(t,h);DC(e,Le(_))||(c=Pm(i,c,_,f,o,l,u))}),c}function kC(i,e,t){return t.foreach((n,o)=>{e=e.updateChild(n,o)}),e}function Nm(i,e,t,n,o,l,u,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;Oe(t)?f=n:f=new Qe(null).setTree(t,n);const _=e.serverCache.getNode();return f.children.inorderTraversal((p,g)=>{if(_.hasChild(p)){const w=e.serverCache.getNode().getImmediateChild(p),T=kC(i,w,g);h=gf(i,h,new qe(p),T,o,l,u,c)}}),f.children.inorderTraversal((p,g)=>{const w=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!_.hasChild(p)&&!w){const T=e.serverCache.getNode().getImmediateChild(p),C=kC(i,T,g);h=gf(i,h,new qe(p),C,o,l,u,c)}}),h}function y4(i,e,t,n,o,l,u){if(mf(o,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(n.value!=null){if(Oe(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return gf(i,e,t,h.getNode().getChild(t),o,l,c,u);if(Oe(t)){let f=new Qe(null);return h.getNode().forEachChild(_a,(_,p)=>{f=f.set(new qe(_),p)}),Nm(i,e,t,f,o,l,c,u)}else return e}else{let f=new Qe(null);return n.foreach((_,p)=>{const g=ft(t,_);h.isCompleteForPath(g)&&(f=f.set(_,h.getNode().getChild(g)))}),Nm(i,e,t,f,o,l,c,u)}}function S4(i,e,t,n,o){const l=e.serverCache,u=Kx(e,l.getNode(),l.isFullyInitialized()||Oe(t),l.isFiltered());return tR(i,u,t,n,eR,o)}function b4(i,e,t,n,o,l){let u;if(mf(n,t)!=null)return e;{const c=new av(n,e,o),h=e.eventCache.getNode();let f;if(Oe(t)||Le(t)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=pf(n,Jr(e));else{const p=e.serverCache.getNode();de(p instanceof Ce,"serverChildren would be complete if leaf node"),_=rv(n,p)}_=_,f=i.filter.updateFullNode(h,_,l)}else{const _=Le(t);let p=ov(n,_,e.serverCache);p==null&&e.serverCache.isCompleteForChild(_)&&(p=h.getImmediateChild(_)),p!=null?f=i.filter.updateChild(h,_,p,Ze(t),c,l):e.eventCache.getNode().hasChild(_)?f=i.filter.updateChild(h,_,Ce.EMPTY_NODE,Ze(t),c,l):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=pf(n,Jr(e)),u.isLeafNode()&&(f=i.filter.updateFullNode(f,u,l)))}return u=e.serverCache.isFullyInitialized()||mf(n,Be())!=null,lc(e,f,u,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,o=new ev(n.getIndex()),l=F5(n);this.processor_=_4(l);const u=t.serverCache,c=t.eventCache,h=o.updateFullNode(Ce.EMPTY_NODE,u.getNode(),null),f=l.updateFullNode(Ce.EMPTY_NODE,c.getNode(),null),_=new er(h,u.isFullyInitialized(),o.filtersNodes()),p=new er(f,c.isFullyInitialized(),l.filtersNodes());this.viewCache_=Bf(p,_),this.eventGenerator_=new $5(this.query_)}get query(){return this.query_}}function w4(i){return i.viewCache_.serverCache.getNode()}function E4(i){return _f(i.viewCache_)}function T4(i,e){const t=Jr(i.viewCache_);return t&&(i.query._queryParams.loadsAllData()||!Oe(e)&&!t.getImmediateChild(Le(e)).isEmpty())?t.getChild(e):null}function MC(i){return i.eventRegistrations_.length===0}function x4(i,e){i.eventRegistrations_.push(e)}function OC(i,e,t){const n=[];if(t){de(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(t,o);u&&n.push(u)})}if(e){let o=[];for(let l=0;l<i.eventRegistrations_.length;++l){const u=i.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(l+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return n}function LC(i,e,t,n){e.type===cn.MERGE&&e.source.queryId!==null&&(de(Jr(i.viewCache_),"We should always have a full cache before handling merges"),de(_f(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,l=m4(i.processor_,o,e,t,n);return p4(i.processor_,l.viewCache),de(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=l.viewCache,iR(i,l.changes,l.viewCache.eventCache.getNode(),null)}function R4(i,e){const t=i.viewCache_.eventCache,n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(_t,(l,u)=>{n.push(xa(l,u))}),t.isFullyInitialized()&&n.push(Gx(t.getNode())),iR(i,n,t.getNode(),e)}function iR(i,e,t,n){const o=n?[n]:i.eventRegistrations_;return K5(i.eventGenerator_,e,t,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;class nR{constructor(){this.views=new Map}}function A4(i){de(!vf,"__referenceConstructor has already been defined"),vf=i}function D4(){return de(vf,"Reference.ts has not been loaded"),vf}function k4(i){return i.views.size===0}function lv(i,e,t,n){const o=e.source.queryId;if(o!==null){const l=i.views.get(o);return de(l!=null,"SyncTree gave us an op for an invalid query."),LC(l,e,t,n)}else{let l=[];for(const u of i.views.values())l=l.concat(LC(u,e,t,n));return l}}function sR(i,e,t,n,o){const l=e._queryIdentifier,u=i.views.get(l);if(!u){let c=pf(t,o?n:null),h=!1;c?h=!0:n instanceof Ce?(c=rv(t,n),h=!1):(c=Ce.EMPTY_NODE,h=!1);const f=Bf(new er(c,h,!1),new er(n,o,!1));return new C4(e,f)}return u}function M4(i,e,t,n,o,l){const u=sR(i,e,n,o,l);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,u),x4(u,t),R4(u,t)}function O4(i,e,t,n){const o=e._queryIdentifier,l=[];let u=[];const c=tr(i);if(o==="default")for(const[h,f]of i.views.entries())u=u.concat(OC(f,t,n)),MC(f)&&(i.views.delete(h),f.query._queryParams.loadsAllData()||l.push(f.query));else{const h=i.views.get(o);h&&(u=u.concat(OC(h,t,n)),MC(h)&&(i.views.delete(o),h.query._queryParams.loadsAllData()||l.push(h.query)))}return c&&!tr(i)&&l.push(new(D4())(e._repo,e._path)),{removed:l,events:u}}function rR(i){const e=[];for(const t of i.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Xs(i,e){let t=null;for(const n of i.views.values())t=t||T4(n,e);return t}function oR(i,e){if(e._queryParams.loadsAllData())return Uf(i);{const n=e._queryIdentifier;return i.views.get(n)}}function aR(i,e){return oR(i,e)!=null}function tr(i){return Uf(i)!=null}function Uf(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;function L4(i){de(!yf,"__referenceConstructor has already been defined"),yf=i}function I4(){return de(yf,"Reference.ts has not been loaded"),yf}let P4=1;class IC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=u4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lR(i,e,t,n,o){return Z5(i.pendingWriteTree_,e,t,n,o),o?Fa(i,new Zr(iv(),e,t)):[]}function N4(i,e,t,n){J5(i.pendingWriteTree_,e,t,n);const o=Qe.fromObject(t);return Fa(i,new Ra(iv(),e,o))}function Vs(i,e,t=!1){const n=e4(i.pendingWriteTree_,e);if(t4(i.pendingWriteTree_,e)){let l=new Qe(null);return n.snap!=null?l=l.set(Be(),!0):Wt(n.children,u=>{l=l.set(new qe(u),!0)}),Fa(i,new df(n.path,l,t))}else return[]}function tu(i,e,t){return Fa(i,new Zr(nv(),e,t))}function B4(i,e,t){const n=Qe.fromObject(t);return Fa(i,new Ra(nv(),e,n))}function H4(i,e){return Fa(i,new Lc(nv(),e))}function U4(i,e,t){const n=uv(i,t);if(n){const o=hv(n),l=o.path,u=o.queryId,c=ni(l,e),h=new Lc(sv(u),c);return fv(i,l,h)}else return[]}function cR(i,e,t,n,o=!1){const l=e._path,u=i.syncPointTree_.get(l);let c=[];if(u&&(e._queryIdentifier==="default"||aR(u,e))){const h=O4(u,e,t,n);k4(u)&&(i.syncPointTree_=i.syncPointTree_.remove(l));const f=h.removed;if(c=h.events,!o){const _=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=i.syncPointTree_.findOnPath(l,(g,w)=>tr(w));if(_&&!p){const g=i.syncPointTree_.subtree(l);if(!g.isEmpty()){const w=j4(g);for(let T=0;T<w.length;++T){const C=w[T],S=C.query,b=dR(i,C);i.listenProvider_.startListening(uc(S),Ic(i,S),b.hashFn,b.onComplete)}}}!p&&f.length>0&&!n&&(_?i.listenProvider_.stopListening(uc(e),null):f.forEach(g=>{const w=i.queryToTagMap.get(Ff(g));i.listenProvider_.stopListening(uc(g),w)}))}W4(i,f)}return c}function uR(i,e,t,n){const o=uv(i,n);if(o!=null){const l=hv(o),u=l.path,c=l.queryId,h=ni(u,e),f=new Zr(sv(c),h,t);return fv(i,u,f)}else return[]}function F4(i,e,t,n){const o=uv(i,n);if(o){const l=hv(o),u=l.path,c=l.queryId,h=ni(u,e),f=Qe.fromObject(t),_=new Ra(sv(c),h,f);return fv(i,u,_)}else return[]}function z4(i,e,t,n=!1){const o=e._path;let l=null,u=!1;i.syncPointTree_.foreachOnPath(o,(g,w)=>{const T=ni(g,o);l=l||Xs(w,T),u=u||tr(w)});let c=i.syncPointTree_.get(o);c?(u=u||tr(c),l=l||Xs(c,Be())):(c=new nR,i.syncPointTree_=i.syncPointTree_.set(o,c));let h;l!=null?h=!0:(h=!1,l=Ce.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((w,T)=>{const C=Xs(T,Be());C&&(l=l.updateImmediateChild(w,C))}));const f=aR(c,e);if(!f&&!e._queryParams.loadsAllData()){const g=Ff(e);de(!i.queryToTagMap.has(g),"View does not exist, but we have a tag");const w=q4();i.queryToTagMap.set(g,w),i.tagToQueryMap.set(w,g)}const _=Hf(i.pendingWriteTree_,o);let p=M4(c,e,t,_,l,h);if(!f&&!u&&!n){const g=oR(c,e);p=p.concat(G4(i,e,g))}return p}function cv(i,e,t){const o=i.pendingWriteTree_,l=i.syncPointTree_.findOnPath(e,(u,c)=>{const h=ni(u,e),f=Xs(c,h);if(f)return f});return Qx(o,e,l,t,!0)}function V4(i,e){const t=e._path;let n=null;i.syncPointTree_.foreachOnPath(t,(f,_)=>{const p=ni(f,t);n=n||Xs(_,p)});let o=i.syncPointTree_.get(t);o?n=n||Xs(o,Be()):(o=new nR,i.syncPointTree_=i.syncPointTree_.set(t,o));const l=n!=null,u=l?new er(n,!0,!1):null,c=Hf(i.pendingWriteTree_,e._path),h=sR(o,e,c,l?u.getNode():Ce.EMPTY_NODE,l);return E4(h)}function Fa(i,e){return hR(e,i.syncPointTree_,null,Hf(i.pendingWriteTree_,Be()))}function hR(i,e,t,n){if(Oe(i.path))return fR(i,e,t,n);{const o=e.get(Be());t==null&&o!=null&&(t=Xs(o,Be()));let l=[];const u=Le(i.path),c=i.operationForChild(u),h=e.children.get(u);if(h&&c){const f=t?t.getImmediateChild(u):null,_=Zx(n,u);l=l.concat(hR(c,h,f,_))}return o&&(l=l.concat(lv(o,i,n,t))),l}}function fR(i,e,t,n){const o=e.get(Be());t==null&&o!=null&&(t=Xs(o,Be()));let l=[];return e.children.inorderTraversal((u,c)=>{const h=t?t.getImmediateChild(u):null,f=Zx(n,u),_=i.operationForChild(u);_&&(l=l.concat(fR(_,c,h,f)))}),o&&(l=l.concat(lv(o,i,n,t))),l}function dR(i,e){const t=e.query,n=Ic(i,t);return{hashFn:()=>(w4(e)||Ce.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return n?U4(i,t._path,n):H4(i,t._path);{const l=HN(o,t);return cR(i,t,null,l)}}}}function Ic(i,e){const t=Ff(e);return i.queryToTagMap.get(t)}function Ff(i){return i._path.toString()+"$"+i._queryIdentifier}function uv(i,e){return i.tagToQueryMap.get(e)}function hv(i){const e=i.indexOf("$");return de(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new qe(i.substr(0,e))}}function fv(i,e,t){const n=i.syncPointTree_.get(e);de(n,"Missing sync point for query tag that we're tracking");const o=Hf(i.pendingWriteTree_,e);return lv(n,t,o,null)}function j4(i){return i.fold((e,t,n)=>{if(t&&tr(t))return[Uf(t)];{let o=[];return t&&(o=rR(t)),Wt(n,(l,u)=>{o=o.concat(u)}),o}})}function uc(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(I4())(i._repo,i._path):i}function W4(i,e){for(let t=0;t<e.length;++t){const n=e[t];if(!n._queryParams.loadsAllData()){const o=Ff(n),l=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(l)}}}function q4(){return P4++}function G4(i,e,t){const n=e._path,o=Ic(i,e),l=dR(i,t),u=i.listenProvider_.startListening(uc(e),o,l.hashFn,l.onComplete),c=i.syncPointTree_.subtree(n);if(o)de(!tr(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,_,p)=>{if(!Oe(f)&&_&&tr(_))return[Uf(_).query];{let g=[];return _&&(g=g.concat(rR(_).map(w=>w.query))),Wt(p,(w,T)=>{g=g.concat(T)}),g}});for(let f=0;f<h.length;++f){const _=h[f];i.listenProvider_.stopListening(uc(_),Ic(i,_))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dv(t)}node(){return this.node_}}class _v{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ft(this.path_,e);return new _v(this.syncTree_,t)}node(){return cv(this.syncTree_,this.path_)}}const $4=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},PC=function(i,e,t){if(!i||typeof i!="object")return i;if(de(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return K4(i[".sv"],e,t);if(typeof i[".sv"]=="object")return Y4(i[".sv"],e);de(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},K4=function(i,e,t){switch(i){case"timestamp":return t.timestamp;default:de(!1,"Unexpected server value: "+i)}},Y4=function(i,e,t){i.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;typeof n!="number"&&de(!1,"Unexpected increment value: "+n);const o=e.node();if(de(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return n;const u=o.getValue();return typeof u!="number"?n:u+n},_R=function(i,e,t,n){return pv(e,new _v(t,i),n)},pR=function(i,e,t){return pv(i,new dv(e),t)};function pv(i,e,t){const n=i.getPriority().val(),o=PC(n,e.getImmediateChild(".priority"),t);let l;if(i.isLeafNode()){const u=i,c=PC(u.getValue(),e,t);return c!==u.getValue()||o!==u.getPriority().val()?new Lt(c,xt(o)):i}else{const u=i;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new Lt(o))),u.forEachChild(_t,(c,h)=>{const f=pv(h,e.getImmediateChild(c),t);f!==h&&(l=l.updateImmediateChild(c,f))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function gv(i,e){let t=e instanceof qe?e:new qe(e),n=i,o=Le(t);for(;o!==null;){const l=Ca(n.node.children,o)||{children:{},childCount:0};n=new mv(o,n,l),t=Ze(t),o=Le(t)}return n}function za(i){return i.node.value}function mR(i,e){i.node.value=e,Bm(i)}function gR(i){return i.node.childCount>0}function X4(i){return za(i)===void 0&&!gR(i)}function zf(i,e){Wt(i.node.children,(t,n)=>{e(new mv(t,i,n))})}function vR(i,e,t,n){t&&e(i),zf(i,o=>{vR(o,e,!0)})}function Q4(i,e,t){let n=i.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function iu(i){return new qe(i.parent===null?i.name:iu(i.parent)+"/"+i.name)}function Bm(i){i.parent!==null&&Z4(i.parent,i.name,i)}function Z4(i,e,t){const n=X4(t),o=Mn(i.node.children,e);n&&o?(delete i.node.children[e],i.node.childCount--,Bm(i)):!n&&!o&&(i.node.children[e]=t.node,i.node.childCount++,Bm(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=/[\[\].#$\/\u0000-\u001F\u007F]/,eB=/[\[\].#$\u0000-\u001F\u007F]/,Ip=10*1024*1024,vv=function(i){return typeof i=="string"&&i.length!==0&&!J4.test(i)},yR=function(i){return typeof i=="string"&&i.length!==0&&!eB.test(i)},tB=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),yR(i)},iB=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Gg(i)||i&&typeof i=="object"&&Mn(i,".sv")},SR=function(i,e,t,n){n&&e===void 0||Vf(kf(i,"value"),e,t)},Vf=function(i,e,t){const n=t instanceof qe?new v5(t,i):t;if(e===void 0)throw new Error(i+"contains undefined "+Pr(n));if(typeof e=="function")throw new Error(i+"contains a function "+Pr(n)+" with contents = "+e.toString());if(Gg(e))throw new Error(i+"contains "+e.toString()+" "+Pr(n));if(typeof e=="string"&&e.length>Ip/3&&Mf(e)>Ip)throw new Error(i+"contains a string greater than "+Ip+" utf8 bytes "+Pr(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(Wt(e,(u,c)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!vv(u)))throw new Error(i+" contains an invalid key ("+u+") "+Pr(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);y5(n,u),Vf(i,c,n),S5(n)}),o&&l)throw new Error(i+' contains ".value" child '+Pr(n)+" in addition to actual children.")}},nB=function(i,e){let t,n;for(t=0;t<e.length;t++){n=e[t];const l=Dc(n);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!vv(l[u]))throw new Error(i+"contains an invalid key ("+l[u]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(g5);let o=null;for(t=0;t<e.length;t++){if(n=e[t],o!==null&&Yi(o,n))throw new Error(i+"contains a path "+o.toString()+" that is ancestor of another path "+n.toString());o=n}},sB=function(i,e,t,n){const o=kf(i,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];Wt(e,(u,c)=>{const h=new qe(u);if(Vf(o,c,ft(t,h)),Qg(h)===".priority"&&!iB(c))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(h)}),nB(o,l)},bR=function(i,e,t,n){if(!yR(t))throw new Error(kf(i,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rB=function(i,e,t,n){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bR(i,e,t)},CR=function(i,e){if(Le(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},oB=function(i,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!tB(t))throw new Error(kf(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yv(i,e){let t=null;for(let n=0;n<e.length;n++){const o=e[n],l=o.getPath();t!==null&&!Ux(l,t.path)&&(i.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(o)}t&&i.eventLists_.push(t)}function Zi(i,e,t){yv(i,t),lB(i,n=>Yi(n,e)||Yi(e,n))}function lB(i,e){i.recursionDepth_++;let t=!0;for(let n=0;n<i.eventLists_.length;n++){const o=i.eventLists_[n];if(o){const l=o.path;e(l)?(cB(i.eventLists_[n]),i.eventLists_[n]=null):t=!1}}t&&(i.eventLists_=[]),i.recursionDepth_--}function cB(i){for(let e=0;e<i.events.length;e++){const t=i.events[e];if(t!==null){i.events[e]=null;const n=t.getEventRunner();oc&&Vt("event: "+t.toString()),Ua(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="repo_interrupt",hB=25;class fB{constructor(e,t,n,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ff(),this.transactionQueueTree_=new mv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dB(i,e,t){if(i.stats_=Yg(i.repoInfo_),i.forceRestClient_||VN())i.server_=new hf(i.repoInfo_,(n,o,l,u)=>{NC(i,n,o,l,u)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>BC(i,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rt(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new Jn(i.repoInfo_,e,(n,o,l,u)=>{NC(i,n,o,l,u)},n=>{BC(i,n)},n=>{_B(i,n)},i.authTokenProvider_,i.appCheckProvider_,t),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=$N(i.repoInfo_,()=>new G5(i.stats_,i.server_)),i.infoData_=new z5,i.infoSyncTree_=new IC({startListening:(n,o,l,u)=>{let c=[];const h=i.infoData_.getNode(n._path);return h.isEmpty()||(c=tu(i.infoSyncTree_,n._path,h),setTimeout(()=>{u("ok")},0)),c},stopListening:()=>{}}),Sv(i,"connected",!1),i.serverSyncTree_=new IC({startListening:(n,o,l,u)=>(i.server_.listen(n,l,o,(c,h)=>{const f=u(c,h);Zi(i.eventQueue_,n._path,f)}),[]),stopListening:(n,o)=>{i.server_.unlisten(n,o)}})}function wR(i){const t=i.infoData_.getNode(new qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function jf(i){return $4({timestamp:wR(i)})}function NC(i,e,t,n,o){i.dataUpdateCount++;const l=new qe(e);t=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,t):t;let u=[];if(o)if(n){const h=Jh(t,f=>xt(f));u=F4(i.serverSyncTree_,l,h,o)}else{const h=xt(t);u=uR(i.serverSyncTree_,l,h,o)}else if(n){const h=Jh(t,f=>xt(f));u=B4(i.serverSyncTree_,l,h)}else{const h=xt(t);u=tu(i.serverSyncTree_,l,h)}let c=l;u.length>0&&(c=Da(i,l)),Zi(i.eventQueue_,c,u)}function BC(i,e){Sv(i,"connected",e),e===!1&&vB(i)}function _B(i,e){Wt(e,(t,n)=>{Sv(i,t,n)})}function Sv(i,e,t){const n=new qe("/.info/"+e),o=xt(t);i.infoData_.updateSnapshot(n,o);const l=tu(i.infoSyncTree_,n,o);Zi(i.eventQueue_,n,l)}function bv(i){return i.nextWriteId_++}function pB(i,e,t){const n=V4(i.serverSyncTree_,e);return n!=null?Promise.resolve(n):i.server_.get(e).then(o=>{const l=xt(o).withIndex(e._queryParams.getIndex());z4(i.serverSyncTree_,e,t,!0);let u;if(e._queryParams.loadsAllData())u=tu(i.serverSyncTree_,e._path,l);else{const c=Ic(i.serverSyncTree_,e);u=uR(i.serverSyncTree_,e._path,l,c)}return Zi(i.eventQueue_,e._path,u),cR(i.serverSyncTree_,e,t,null,!0),l},o=>(nu(i,"get for query "+Rt(e)+" failed: "+o),Promise.reject(new Error(o))))}function mB(i,e,t,n,o){nu(i,"set",{path:e.toString(),value:t,priority:n});const l=jf(i),u=xt(t,n),c=cv(i.serverSyncTree_,e),h=pR(u,c,l),f=bv(i),_=lR(i.serverSyncTree_,e,h,f,!0);yv(i.eventQueue_,_),i.server_.put(e.toString(),u.val(!0),(g,w)=>{const T=g==="ok";T||ri("set at "+e+" failed: "+g);const C=Vs(i.serverSyncTree_,f,!T);Zi(i.eventQueue_,e,C),Hm(i,o,g,w)});const p=wv(i,e);Da(i,p),Zi(i.eventQueue_,p,[])}function gB(i,e,t,n){nu(i,"update",{path:e.toString(),value:t});let o=!0;const l=jf(i),u={};if(Wt(t,(c,h)=>{o=!1,u[c]=_R(ft(e,c),xt(h),i.serverSyncTree_,l)}),o)Vt("update() called with empty data.  Don't do anything."),Hm(i,n,"ok",void 0);else{const c=bv(i),h=N4(i.serverSyncTree_,e,u,c);yv(i.eventQueue_,h),i.server_.merge(e.toString(),t,(f,_)=>{const p=f==="ok";p||ri("update at "+e+" failed: "+f);const g=Vs(i.serverSyncTree_,c,!p),w=g.length>0?Da(i,e):e;Zi(i.eventQueue_,w,g),Hm(i,n,f,_)}),Wt(t,f=>{const _=wv(i,ft(e,f));Da(i,_)}),Zi(i.eventQueue_,e,[])}}function vB(i){nu(i,"onDisconnectEvents");const e=jf(i),t=ff();Mm(i.onDisconnect_,Be(),(o,l)=>{const u=_R(o,l,i.serverSyncTree_,e);$x(t,o,u)});let n=[];Mm(t,Be(),(o,l)=>{n=n.concat(tu(i.serverSyncTree_,o,l));const u=wv(i,o);Da(i,u)}),i.onDisconnect_=ff(),Zi(i.eventQueue_,Be(),n)}function yB(i){i.persistentConnection_&&i.persistentConnection_.interrupt(uB)}function nu(i,...e){let t="";i.persistentConnection_&&(t=i.persistentConnection_.id+":"),Vt(t,...e)}function Hm(i,e,t,n){e&&Ua(()=>{if(t==="ok")e(null);else{const o=(t||"error").toUpperCase();let l=o;n&&(l+=": "+n);const u=new Error(l);u.code=o,e(u)}})}function ER(i,e,t){return cv(i.serverSyncTree_,e,t)||Ce.EMPTY_NODE}function Cv(i,e=i.transactionQueueTree_){if(e||Wf(i,e),za(e)){const t=xR(i,e);de(t.length>0,"Sending zero length transaction queue"),t.every(o=>o.status===0)&&SB(i,iu(e),t)}else gR(e)&&zf(e,t=>{Cv(i,t)})}function SB(i,e,t){const n=t.map(f=>f.currentWriteId),o=ER(i,e,n);let l=o;const u=o.hash();for(let f=0;f<t.length;f++){const _=t[f];de(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const p=ni(e,_.path);l=l.updateChild(p,_.currentOutputSnapshotRaw)}const c=l.val(!0),h=e;i.server_.put(h.toString(),c,f=>{nu(i,"transaction put response",{path:h.toString(),status:f});let _=[];if(f==="ok"){const p=[];for(let g=0;g<t.length;g++)t[g].status=2,_=_.concat(Vs(i.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&p.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();Wf(i,gv(i.transactionQueueTree_,e)),Cv(i,i.transactionQueueTree_),Zi(i.eventQueue_,e,_);for(let g=0;g<p.length;g++)Ua(p[g])}else{if(f==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{ri("transaction at "+h.toString()+" failed: "+f);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=f}Da(i,e)}},u)}function Da(i,e){const t=TR(i,e),n=iu(t),o=xR(i,t);return bB(i,o,n),n}function bB(i,e,t){if(e.length===0)return;const n=[];let o=[];const u=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=ni(t,h.path);let _=!1,p;if(de(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)_=!0,p=h.abortReason,o=o.concat(Vs(i.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=hB)_=!0,p="maxretry",o=o.concat(Vs(i.serverSyncTree_,h.currentWriteId,!0));else{const g=ER(i,h.path,u);h.currentInputSnapshot=g;const w=e[c].update(g.val());if(w!==void 0){Vf("transaction failed: Data returned ",w,h.path);let T=xt(w);typeof w=="object"&&w!=null&&Mn(w,".priority")||(T=T.updatePriority(g.getPriority()));const S=h.currentWriteId,b=jf(i),y=pR(T,g,b);h.currentOutputSnapshotRaw=T,h.currentOutputSnapshotResolved=y,h.currentWriteId=bv(i),u.splice(u.indexOf(S),1),o=o.concat(lR(i.serverSyncTree_,h.path,y,h.currentWriteId,h.applyLocally)),o=o.concat(Vs(i.serverSyncTree_,S,!0))}else _=!0,p="nodata",o=o.concat(Vs(i.serverSyncTree_,h.currentWriteId,!0))}Zi(i.eventQueue_,t,o),o=[],_&&(e[c].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?n.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):n.push(()=>e[c].onComplete(new Error(p),!1,null))))}Wf(i,i.transactionQueueTree_);for(let c=0;c<n.length;c++)Ua(n[c]);Cv(i,i.transactionQueueTree_)}function TR(i,e){let t,n=i.transactionQueueTree_;for(t=Le(e);t!==null&&za(n)===void 0;)n=gv(n,t),e=Ze(e),t=Le(e);return n}function xR(i,e){const t=[];return RR(i,e,t),t.sort((n,o)=>n.order-o.order),t}function RR(i,e,t){const n=za(e);if(n)for(let o=0;o<n.length;o++)t.push(n[o]);zf(e,o=>{RR(i,o,t)})}function Wf(i,e){const t=za(e);if(t){let n=0;for(let o=0;o<t.length;o++)t[o].status!==2&&(t[n]=t[o],n++);t.length=n,mR(e,t.length>0?t:void 0)}zf(e,n=>{Wf(i,n)})}function wv(i,e){const t=iu(TR(i,e)),n=gv(i.transactionQueueTree_,e);return Q4(n,o=>{Pp(i,o)}),Pp(i,n),vR(n,o=>{Pp(i,o)}),t}function Pp(i,e){const t=za(e);if(t){const n=[];let o=[],l=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(de(l===u-1,"All SENT items should be at beginning of queue."),l=u,t[u].status=3,t[u].abortReason="set"):(de(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),o=o.concat(Vs(i.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&n.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?mR(e,void 0):t.length=l+1,Zi(i.eventQueue_,iu(e),o);for(let u=0;u<n.length;u++)Ua(n[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(i){let e="";const t=i.split("/");for(let n=0;n<t.length;n++)if(t[n].length>0){let o=t[n];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function wB(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const t of i.split("&")){if(t.length===0)continue;const n=t.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):ri(`Invalid query segment '${t}' in query '${i}'`)}return e}const HC=function(i,e){const t=EB(i),n=t.namespace;t.domain==="firebase.com"&&rs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&t.domain!=="localhost"&&rs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||LN();const o=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Dx(t.host,t.secure,n,o,e,"",n!==t.subdomain),path:new qe(t.pathString)}},EB=function(i){let e="",t="",n="",o="",l="",u=!0,c="https",h=443;if(typeof i=="string"){let f=i.indexOf("//");f>=0&&(c=i.substring(0,f-1),i=i.substring(f+2));let _=i.indexOf("/");_===-1&&(_=i.length);let p=i.indexOf("?");p===-1&&(p=i.length),e=i.substring(0,Math.min(_,p)),_<p&&(o=CB(i.substring(_,p)));const g=wB(i.substring(Math.min(i.length,p)));f=e.indexOf(":"),f>=0?(u=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const w=e.slice(0,f);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{const T=e.indexOf(".");n=e.substring(0,T).toLowerCase(),t=e.substring(T+1),l=n}"ns"in g&&(l=g.ns)}return{host:e,port:h,domain:t,subdomain:n,secure:u,scheme:c,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TB=(function(){let i=0;const e=[];return function(t){const n=t===i;i=t;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=UC.charAt(t%64),t=Math.floor(t/64);de(t===0,"Cannot push at time == 0");let u=l.join("");if(n){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=UC.charAt(e[o]);return de(u.length===20,"nextPushId: Length should be 20."),u}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,t,n,o){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Rt(this.snapshot.exportVal())}}class RB{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return de(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t,n,o){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=o}get key(){return Oe(this._path)?null:Qg(this._path)}get ref(){return new ls(this._repo,this._path)}get _queryIdentifier(){const e=EC(this._queryParams),t=$g(e);return t==="{}"?"default":t}get _queryObject(){return EC(this._queryParams)}isEqual(e){if(e=Jt(e),!(e instanceof Ev))return!1;const t=this._repo===e._repo,n=Ux(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&n&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+m5(this._path)}}class ls extends Ev{constructor(e,t){super(e,t,new tv,!1)}get parent(){const e=Hx(this._path);return e===null?null:new ls(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new qe(e),n=Nc(this.ref,e);return new Pc(this._node.getChild(t),n,_t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,o)=>e(new Pc(o,Nc(this.ref,n),_t)))}hasChild(e){const t=new qe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _F(i,e){return i=Jt(i),i._checkNotDeleted("ref"),e!==void 0?Nc(i._root,e):i._root}function Nc(i,e){return i=Jt(i),Le(i._path)===null?rB("child","path",e):bR("child","path",e),new ls(i._repo,ft(i._path,e))}function pF(i,e){i=Jt(i),CR("push",i._path),SR("push",e,i._path,!0);const t=wR(i._repo),n=TB(t),o=Nc(i,n),l=Nc(i,n);let u;return u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function mF(i,e){i=Jt(i),CR("set",i._path),SR("set",e,i._path,!1);const t=new $c;return mB(i._repo,i._path,e,null,t.wrapCallback(()=>{})),t.promise}function gF(i,e){sB("update",e,i._path);const t=new $c;return gB(i._repo,i._path,e,t.wrapCallback(()=>{})),t.promise}function vF(i){i=Jt(i);const e=new AB(()=>{}),t=new Tv(e);return pB(i._repo,i,t).then(n=>new Pc(n,new ls(i._repo,i._path),i._queryParams.getIndex()))}class Tv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const n=t._queryParams.getIndex();return new xB("value",this,new Pc(e.snapshotNode,new ls(t._repo,t._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new RB(this,e,t):null}matches(e){return e instanceof Tv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}A4(ls);L4(ls);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="FIREBASE_DATABASE_EMULATOR_HOST",Um={};let kB=!1;function MB(i,e,t,n){const o=e.lastIndexOf(":"),l=e.substring(0,o),u=Ia(l);i.repoInfo_=new Dx(e,u,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,t),n&&(i.authTokenProvider_=n)}function OB(i,e,t,n,o){let l=n||i.options.databaseURL;l===void 0&&(i.options.projectId||rs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",i.options.projectId),l=`${i.options.projectId}-default-rtdb.firebaseio.com`);let u=HC(l,o),c=u.repoInfo,h;typeof process<"u"&&oC&&(h=oC[DB]),h?(l=`http://${h}?ns=${c.namespace}`,u=HC(l,o),c=u.repoInfo):u.repoInfo.secure;const f=new WN(i.name,i.options,e);oB("Invalid Firebase Database URL",u),Oe(u.path)||rs("Database URL must point to the root of a Firebase Database (not including a child path).");const _=IB(c,i,f,new jN(i,t));return new PB(_,i)}function LB(i,e){const t=Um[e];(!t||t[i.key]!==i)&&rs(`Database ${e}(${i.repoInfo_}) has already been deleted.`),yB(i),delete t[i.key]}function IB(i,e,t,n){let o=Um[e.name];o||(o={},Um[e.name]=o);let l=o[i.toURLString()];return l&&rs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new fB(i,kB,t,n),o[i.toURLString()]=l,l}class PB{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ls(this._repo,Be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rs("Cannot call "+e+" on a deleted database.")}}function NB(i=LT(),e){const t=Bg(i,"database").getImmediate({identifier:e});if(!t._instanceStarted){const n=BL("database");n&&BB(t,...n)}return t}function BB(i,e,t,n={}){i=Jt(i),i._checkNotDeleted("useEmulator");const o=`${e}:${t}`,l=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&Kr(n,l.repoInfo_.emulatorOptions))return;rs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)n.mockUserToken&&rs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Hh(Hh.OWNER);else if(n.mockUserToken){const c=typeof n.mockUserToken=="string"?n.mockUserToken:HL(n.mockUserToken,i.app.options.projectId);u=new Hh(c)}Ia(e)&&(xT(e),RT("Database",!0)),MB(l,o,n,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(i){RN(Na),wa(new Yr("database",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return OB(n,o,l,t)},"PUBLIC").setMultipleInstances(!0)),$s(aC,lC,i),$s(aC,lC,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={".sv":"timestamp"};function yF(){return UB}Jn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Jn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};HB();const FB={apiKey:"AIzaSyDCax0pCy9hGnd6DjL59ZT51SqPz50fRMY",authDomain:"bbsdb-d3c24.firebaseapp.com",databaseURL:"https://bbsdb-d3c24-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"bbsdb-d3c24",storageBucket:"bbsdb-d3c24.firebasestorage.app",messagingSenderId:"581762260437",appId:"1:581762260437:web:39e9588b1b4fff2f6ef15c"},AR=OT(FB),Np=wN(AR),SF=NB(AR),DR=q.createContext(void 0),zB=()=>{const i=q.useContext(DR);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},VB=({children:i})=>{const[e,t]=q.useState(null),[n,o]=q.useState(null),[l,u]=q.useState(!0);q.useEffect(()=>{const _=hP(Np,p=>{t(p),o(p!==null?{uid:p.uid,email:p.email??"",role:"admin"}:null),u(!1)});return()=>_()},[]);const f={user:e,adminUser:n,loading:l,signIn:async(_,p)=>{try{await lP(Np,_,p)}catch(g){throw console.error(":",g),g}},signOut:async()=>{try{await fP(Np),o(null)}catch(_){throw console.error(":",_),_}},isAdmin:n!==null&&n.role==="admin"};return Y.jsx(DR.Provider,{value:f,children:i})},xv=q.createContext({});function Rv(i){const e=q.useRef(null);return e.current===null&&(e.current=i()),e.current}const Av=typeof window<"u",kR=Av?q.useLayoutEffect:q.useEffect,qf=q.createContext(null);function Dv(i,e){i.indexOf(e)===-1&&i.push(e)}function kv(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const os=(i,e,t)=>t>e?e:t<i?i:t;let Mv=()=>{};const as={},MR=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function OR(i){return typeof i=="object"&&i!==null}const LR=i=>/^0[^.\s]+$/u.test(i);function Ov(i){let e;return()=>(e===void 0&&(e=i()),e)}const Xi=i=>i,jB=(i,e)=>t=>e(i(t)),su=(...i)=>i.reduce(jB),Bc=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class Lv{constructor(){this.subscriptions=[]}add(e){return Dv(this.subscriptions,e),()=>kv(this.subscriptions,e)}notify(e,t,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,n);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tn=i=>i*1e3,xn=i=>i/1e3;function IR(i,e){return e?i*(1e3/e):0}const PR=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,WB=1e-7,qB=12;function GB(i,e,t,n,o){let l,u,c=0;do u=e+(t-e)/2,l=PR(u,n,o)-i,l>0?t=u:e=u;while(Math.abs(l)>WB&&++c<qB);return u}function ru(i,e,t,n){if(i===e&&t===n)return Xi;const o=l=>GB(l,0,1,i,t);return l=>l===0||l===1?l:PR(o(l),e,n)}const NR=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,BR=i=>e=>1-i(1-e),HR=ru(.33,1.53,.69,.99),Iv=BR(HR),UR=NR(Iv),FR=i=>(i*=2)<1?.5*Iv(i):.5*(2-Math.pow(2,-10*(i-1))),Pv=i=>1-Math.sin(Math.acos(i)),zR=BR(Pv),VR=NR(Pv),$B=ru(.42,0,1,1),KB=ru(0,0,.58,1),jR=ru(.42,0,.58,1),YB=i=>Array.isArray(i)&&typeof i[0]!="number",WR=i=>Array.isArray(i)&&typeof i[0]=="number",XB={linear:Xi,easeIn:$B,easeInOut:jR,easeOut:KB,circIn:Pv,circInOut:VR,circOut:zR,backIn:Iv,backInOut:UR,backOut:HR,anticipate:FR},QB=i=>typeof i=="string",FC=i=>{if(WR(i)){Mv(i.length===4);const[e,t,n,o]=i;return ru(e,t,n,o)}else if(QB(i))return XB[i];return i},Th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZB(i,e){let t=new Set,n=new Set,o=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(_){u.has(_)&&(f.schedule(_),i()),_(c)}const f={schedule:(_,p=!1,g=!1)=>{const T=g&&o?t:n;return p&&u.add(_),T.has(_)||T.add(_),_},cancel:_=>{n.delete(_),u.delete(_)},process:_=>{if(c=_,o){l=!0;return}o=!0,[t,n]=[n,t],t.forEach(h),t.clear(),o=!1,l&&(l=!1,f.process(_))}};return f}const JB=40;function qR(i,e){let t=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=Th.reduce((m,x)=>(m[x]=ZB(l),m),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:_,update:p,preRender:g,render:w,postRender:T}=u,C=()=>{const m=as.useManualTiming?o.timestamp:performance.now();t=!1,as.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(m-o.timestamp,JB),1)),o.timestamp=m,o.isProcessing=!0,c.process(o),h.process(o),f.process(o),_.process(o),p.process(o),g.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(n=!1,i(C))},S=()=>{t=!0,n=!0,o.isProcessing||i(C)};return{schedule:Th.reduce((m,x)=>{const A=u[x];return m[x]=(D,k=!1,R=!1)=>(t||S(),A.schedule(D,k,R)),m},{}),cancel:m=>{for(let x=0;x<Th.length;x++)u[Th[x]].cancel(m)},state:o,steps:u}}const{schedule:nt,cancel:ir,state:zt,steps:Bp}=qR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xi,!0);let Uh;function e6(){Uh=void 0}const di={now:()=>(Uh===void 0&&di.set(zt.isProcessing||as.useManualTiming?zt.timestamp:performance.now()),Uh),set:i=>{Uh=i,queueMicrotask(e6)}},GR=i=>e=>typeof e=="string"&&e.startsWith(i),Nv=GR("--"),t6=GR("var(--"),Bv=i=>t6(i)?i6.test(i.split("/*")[0].trim()):!1,i6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Va={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Hc={...Va,transform:i=>os(0,1,i)},xh={...Va,default:1},hc=i=>Math.round(i*1e5)/1e5,Hv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n6(i){return i==null}const s6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uv=(i,e)=>t=>!!(typeof t=="string"&&s6.test(t)&&t.startsWith(i)||e&&!n6(t)&&Object.prototype.hasOwnProperty.call(t,e)),$R=(i,e,t)=>n=>{if(typeof n!="string")return n;const[o,l,u,c]=n.match(Hv);return{[i]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},r6=i=>os(0,255,i),Hp={...Va,transform:i=>Math.round(r6(i))},Ur={test:Uv("rgb","red"),parse:$R("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+Hp.transform(i)+", "+Hp.transform(e)+", "+Hp.transform(t)+", "+hc(Hc.transform(n))+")"};function o6(i){let e="",t="",n="",o="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),o=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),o=i.substring(4,5),e+=e,t+=t,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Fm={test:Uv("#"),parse:o6,transform:Ur.transform},ou=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Is=ou("deg"),Rn=ou("%"),Ee=ou("px"),a6=ou("vh"),l6=ou("vw"),zC={...Rn,parse:i=>Rn.parse(i)/100,transform:i=>Rn.transform(i*100)},ta={test:Uv("hsl","hue"),parse:$R("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Rn.transform(hc(e))+", "+Rn.transform(hc(t))+", "+hc(Hc.transform(n))+")"},bt={test:i=>Ur.test(i)||Fm.test(i)||ta.test(i),parse:i=>Ur.test(i)?Ur.parse(i):ta.test(i)?ta.parse(i):Fm.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Ur.transform(i):ta.transform(i),getAnimatableNone:i=>{const e=bt.parse(i);return e.alpha=0,bt.transform(e)}},c6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u6(i){return isNaN(i)&&typeof i=="string"&&(i.match(Hv)?.length||0)+(i.match(c6)?.length||0)>0}const KR="number",YR="color",h6="var",f6="var(",VC="${}",d6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},o=[];let l=0;const c=e.replace(d6,h=>(bt.test(h)?(n.color.push(l),o.push(YR),t.push(bt.parse(h))):h.startsWith(f6)?(n.var.push(l),o.push(h6),t.push(h)):(n.number.push(l),o.push(KR),t.push(parseFloat(h))),++l,VC)).split(VC);return{values:t,split:c,indexes:n,types:o}}function XR(i){return Uc(i).values}function QR(i){const{split:e,types:t}=Uc(i),n=e.length;return o=>{let l="";for(let u=0;u<n;u++)if(l+=e[u],o[u]!==void 0){const c=t[u];c===KR?l+=hc(o[u]):c===YR?l+=bt.transform(o[u]):l+=o[u]}return l}}const _6=i=>typeof i=="number"?0:bt.test(i)?bt.getAnimatableNone(i):i;function p6(i){const e=XR(i);return QR(i)(e.map(_6))}const nr={test:u6,parse:XR,createTransformer:QR,getAnimatableNone:p6};function Up(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function m6({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;o=Up(h,c,i+1/3),l=Up(h,c,i),u=Up(h,c,i-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:n}}function Sf(i,e){return t=>t>0?e:i}const at=(i,e,t)=>i+(e-i)*t,Fp=(i,e,t)=>{const n=i*i,o=t*(e*e-n)+n;return o<0?0:Math.sqrt(o)},g6=[Fm,Ur,ta],v6=i=>g6.find(e=>e.test(i));function jC(i){const e=v6(i);if(!e)return!1;let t=e.parse(i);return e===ta&&(t=m6(t)),t}const WC=(i,e)=>{const t=jC(i),n=jC(e);if(!t||!n)return Sf(i,e);const o={...t};return l=>(o.red=Fp(t.red,n.red,l),o.green=Fp(t.green,n.green,l),o.blue=Fp(t.blue,n.blue,l),o.alpha=at(t.alpha,n.alpha,l),Ur.transform(o))},zm=new Set(["none","hidden"]);function y6(i,e){return zm.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function S6(i,e){return t=>at(i,e,t)}function Fv(i){return typeof i=="number"?S6:typeof i=="string"?Bv(i)?Sf:bt.test(i)?WC:w6:Array.isArray(i)?ZR:typeof i=="object"?bt.test(i)?WC:b6:Sf}function ZR(i,e){const t=[...i],n=t.length,o=i.map((l,u)=>Fv(l)(l,e[u]));return l=>{for(let u=0;u<n;u++)t[u]=o[u](l);return t}}function b6(i,e){const t={...i,...e},n={};for(const o in t)i[o]!==void 0&&e[o]!==void 0&&(n[o]=Fv(i[o])(i[o],e[o]));return o=>{for(const l in n)t[l]=n[l](o);return t}}function C6(i,e){const t=[],n={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=i.indexes[l][n[l]],c=i.values[u]??0;t[o]=c,n[l]++}return t}const w6=(i,e)=>{const t=nr.createTransformer(e),n=Uc(i),o=Uc(e);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?zm.has(i)&&!o.values.length||zm.has(e)&&!n.values.length?y6(i,e):su(ZR(C6(n,o),o.values),t):Sf(i,e)};function JR(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?at(i,e,t):Fv(i)(i,e)}const E6=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>nt.update(e,t),stop:()=>ir(e),now:()=>zt.isProcessing?zt.timestamp:di.now()}},eA=(i,e,t=10)=>{let n="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)n+=Math.round(i(l/(o-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},bf=2e4;function zv(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<bf;)e+=t,n=i.next(e);return e>=bf?1/0:e}function T6(i,e=100,t){const n=t({...i,keyframes:[0,e]}),o=Math.min(zv(n),bf);return{type:"keyframes",ease:l=>n.next(o*l).value/e,duration:xn(o)}}const x6=5;function tA(i,e,t){const n=Math.max(e-x6,0);return IR(t-i(n),e-n)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function R6({duration:i=ht.duration,bounce:e=ht.bounce,velocity:t=ht.velocity,mass:n=ht.mass}){let o,l,u=1-e;u=os(ht.minDamping,ht.maxDamping,u),i=os(ht.minDuration,ht.maxDuration,xn(i)),u<1?(o=f=>{const _=f*u,p=_*i,g=_-t,w=Vm(f,u),T=Math.exp(-p);return zp-g/w*T},l=f=>{const p=f*u*i,g=p*t+t,w=Math.pow(u,2)*Math.pow(f,2)*i,T=Math.exp(-p),C=Vm(Math.pow(f,2),u);return(-o(f)+zp>0?-1:1)*((g-w)*T)/C}):(o=f=>{const _=Math.exp(-f*i),p=(f-t)*i+1;return-zp+_*p},l=f=>{const _=Math.exp(-f*i),p=(t-f)*(i*i);return _*p});const c=5/i,h=D6(o,l,c);if(i=Tn(i),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:i};{const f=Math.pow(h,2)*n;return{stiffness:f,damping:u*2*Math.sqrt(n*f),duration:i}}}const A6=12;function D6(i,e,t){let n=t;for(let o=1;o<A6;o++)n=n-i(n)/e(n);return n}function Vm(i,e){return i*Math.sqrt(1-e*e)}const k6=["duration","bounce"],M6=["stiffness","damping","mass"];function qC(i,e){return e.some(t=>i[t]!==void 0)}function O6(i){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...i};if(!qC(i,M6)&&qC(i,k6))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),o=n*n,l=2*os(.05,1,1-(i.bounce||0))*Math.sqrt(o);e={...e,mass:ht.mass,stiffness:o,damping:l}}else{const t=R6(i);e={...e,...t,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function Cf(i=ht.visualDuration,e=ht.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:o}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],c={done:!1,value:l},{stiffness:h,damping:f,mass:_,duration:p,velocity:g,isResolvedFromDuration:w}=O6({...t,velocity:-xn(t.velocity||0)}),T=g||0,C=f/(2*Math.sqrt(h*_)),S=u-l,b=xn(Math.sqrt(h/_)),y=Math.abs(S)<5;n||(n=y?ht.restSpeed.granular:ht.restSpeed.default),o||(o=y?ht.restDelta.granular:ht.restDelta.default);let m;if(C<1){const A=Vm(b,C);m=D=>{const k=Math.exp(-C*b*D);return u-k*((T+C*b*S)/A*Math.sin(A*D)+S*Math.cos(A*D))}}else if(C===1)m=A=>u-Math.exp(-b*A)*(S+(T+b*S)*A);else{const A=b*Math.sqrt(C*C-1);m=D=>{const k=Math.exp(-C*b*D),R=Math.min(A*D,300);return u-k*((T+C*b*S)*Math.sinh(R)+A*S*Math.cosh(R))/A}}const x={calculatedDuration:w&&p||null,next:A=>{const D=m(A);if(w)c.done=A>=p;else{let k=A===0?T:0;C<1&&(k=A===0?Tn(T):tA(m,A,D));const R=Math.abs(k)<=n,M=Math.abs(u-D)<=o;c.done=R&&M}return c.value=c.done?u:D,c},toString:()=>{const A=Math.min(zv(x),bf),D=eA(k=>x.next(A*k).value,A,30);return A+"ms "+D},toTransition:()=>{}};return x}Cf.applyToOptions=i=>{const e=T6(i,100,Cf);return i.ease=e.ease,i.duration=Tn(e.duration),i.type="keyframes",i};function jm({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:h,restDelta:f=.5,restSpeed:_}){const p=i[0],g={done:!1,value:p},w=R=>c!==void 0&&R<c||h!==void 0&&R>h,T=R=>c===void 0?h:h===void 0||Math.abs(c-R)<Math.abs(h-R)?c:h;let C=t*e;const S=p+C,b=u===void 0?S:u(S);b!==S&&(C=b-p);const y=R=>-C*Math.exp(-R/n),m=R=>b+y(R),x=R=>{const M=y(R),U=m(R);g.done=Math.abs(M)<=f,g.value=g.done?b:U};let A,D;const k=R=>{w(g.value)&&(A=R,D=Cf({keyframes:[g.value,T(g.value)],velocity:tA(m,R,g.value),damping:o,stiffness:l,restDelta:f,restSpeed:_}))};return k(0),{calculatedDuration:null,next:R=>{let M=!1;return!D&&A===void 0&&(M=!0,x(R),k(R)),A!==void 0&&R>=A?D.next(R-A):(!M&&x(R),g)}}}function L6(i,e,t){const n=[],o=t||as.mix||JR,l=i.length-1;for(let u=0;u<l;u++){let c=o(i[u],i[u+1]);if(e){const h=Array.isArray(e)?e[u]||Xi:e;c=su(h,c)}n.push(c)}return n}function I6(i,e,{clamp:t=!0,ease:n,mixer:o}={}){const l=i.length;if(Mv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=i[0]===i[1];i[0]>i[l-1]&&(i=[...i].reverse(),e=[...e].reverse());const c=L6(e,n,o),h=c.length,f=_=>{if(u&&_<i[0])return e[0];let p=0;if(h>1)for(;p<i.length-2&&!(_<i[p+1]);p++);const g=Bc(i[p],i[p+1],_);return c[p](g)};return t?_=>f(os(i[0],i[l-1],_)):f}function P6(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const o=Bc(0,e,n);i.push(at(t,1,o))}}function N6(i){const e=[0];return P6(e,i.length-1),e}function B6(i,e){return i.map(t=>t*e)}function H6(i,e){return i.map(()=>e||jR).splice(0,i.length-1)}function fc({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const o=YB(n)?n.map(FC):FC(n),l={done:!1,value:e[0]},u=B6(t&&t.length===e.length?t:N6(e),i),c=I6(u,e,{ease:Array.isArray(o)?o:H6(e,o)});return{calculatedDuration:i,next:h=>(l.value=c(h),l.done=h>=i,l)}}const U6=i=>i!==null;function Vv(i,{repeat:e,repeatType:t="loop"},n,o=1){const l=i.filter(U6),c=o<0||e&&t!=="loop"&&e%2===1?0:l.length-1;return!c||n===void 0?l[c]:n}const F6={decay:jm,inertia:jm,tween:fc,keyframes:fc,spring:Cf};function iA(i){typeof i.type=="string"&&(i.type=F6[i.type])}class jv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const z6=i=>i/100;class Wv extends jv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==di.now()&&this.tick(di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;iA(e);const{type:t=fc,repeat:n=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const h=t||fc;h!==fc&&typeof c[0]!="number"&&(this.mixKeyframes=su(z6,JR(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=zv(f));const{calculatedDuration:_}=f;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:_,repeat:p,repeatType:g,repeatDelay:w,type:T,onUpdate:C,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-f*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?b<0:b>o;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let m=this.currentTime,x=n;if(p){const R=Math.min(this.currentTime,o)/c;let M=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(g==="reverse"?(U=1-U,w&&(U-=w/c)):g==="mirror"&&(x=u)),m=os(0,1,U)*c}const A=y?{done:!1,value:_[0]}:x.next(m);l&&(A.value=l(A.value));let{done:D}=A;!y&&h!==null&&(D=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return k&&T!==jm&&(A.value=Vv(_,this.options,S,this.speed)),C&&C(A.value),k&&this.finish(),A}then(e,t){return this.finished.then(e,t)}get duration(){return xn(this.calculatedDuration)}get time(){return xn(this.currentTime)}set time(e){e=Tn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(di.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=E6,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function V6(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const Fr=i=>i*180/Math.PI,Wm=i=>{const e=Fr(Math.atan2(i[1],i[0]));return qm(e)},j6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Wm,rotateZ:Wm,skewX:i=>Fr(Math.atan(i[1])),skewY:i=>Fr(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},qm=i=>(i=i%360,i<0&&(i+=360),i),GC=Wm,$C=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),KC=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),W6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$C,scaleY:KC,scale:i=>($C(i)+KC(i))/2,rotateX:i=>qm(Fr(Math.atan2(i[6],i[5]))),rotateY:i=>qm(Fr(Math.atan2(-i[2],i[0]))),rotateZ:GC,rotate:GC,skewX:i=>Fr(Math.atan(i[4])),skewY:i=>Fr(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Gm(i){return i.includes("scale")?1:0}function $m(i,e){if(!i||i==="none")return Gm(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(t)n=W6,o=t;else{const c=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=j6,o=c}if(!o)return Gm(e);const l=n[e],u=o[1].split(",").map(G6);return typeof l=="function"?l(u):u[l]}const q6=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return $m(t,e)};function G6(i){return parseFloat(i.trim())}const ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wa=new Set(ja),YC=i=>i===Va||i===Ee,$6=new Set(["x","y","z"]),K6=ja.filter(i=>!$6.has(i));function Y6(i){const e=[];return K6.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const qr={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>$m(e,"x"),y:(i,{transform:e})=>$m(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Gr=new Set;let Km=!1,Ym=!1,Xm=!1;function nA(){if(Ym){const i=Array.from(Gr).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const o=Y6(n);o.length&&(t.set(n,o),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const o=t.get(n);o&&o.forEach(([l,u])=>{n.getValue(l)?.set(u)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ym=!1,Km=!1,Gr.forEach(i=>i.complete(Xm)),Gr.clear()}function sA(){Gr.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Ym=!0)})}function X6(){Xm=!0,sA(),nA(),Xm=!1}class qv{constructor(e,t,n,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Gr.add(this),Km||(Km=!0,nt.read(sA),nt.resolveKeyframes(nA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(n&&t){const c=n.readValue(t,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}V6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gr.delete(this)}cancel(){this.state==="scheduled"&&(Gr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Q6=i=>i.startsWith("--");function Z6(i,e,t){Q6(e)?i.style.setProperty(e,t):i.style[e]=t}const J6=Ov(()=>window.ScrollTimeline!==void 0),e8={};function t8(i,e){const t=Ov(i);return()=>e8[e]??t()}const rA=t8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ec=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,XC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ec([0,.65,.55,1]),circOut:ec([.55,0,1,.45]),backIn:ec([.31,.01,.66,-.59]),backOut:ec([.33,1.53,.69,.99])};function oA(i,e){if(i)return typeof i=="function"?rA()?eA(i,e):"ease-out":WR(i)?ec(i):Array.isArray(i)?i.map(t=>oA(t,e)||XC.easeOut):XC[i]}function i8(i,e,t,{delay:n=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:h}={},f=void 0){const _={[e]:t};h&&(_.offset=h);const p=oA(c,o);Array.isArray(p)&&(_.easing=p);const g={delay:n,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),i.animate(_,g)}function aA(i){return typeof i=="function"&&"applyToOptions"in i}function n8({type:i,...e}){return aA(i)&&rA()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class s8 extends jv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Mv(typeof e.type!="string");const f=n8(e);this.animation=i8(t,n,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const _=Vv(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(_):Z6(t,n,_),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xn(Number(e))}get time(){return xn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&J6()?(this.animation.timeline=e,Xi):t(this)}}const lA={anticipate:FR,backInOut:UR,circInOut:VR};function r8(i){return i in lA}function o8(i){typeof i.ease=="string"&&r8(i.ease)&&(i.ease=lA[i.ease])}const QC=10;class a8 extends s8{constructor(e){o8(e),iA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:o,element:l,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new Wv({...u,autoplay:!1}),h=Tn(this.finishedTime??this.time);t.setWithVelocity(c.sample(h-QC).value,c.sample(h).value,QC),c.stop()}}const ZC=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(nr.test(i)||i==="0")&&!i.startsWith("url("));function l8(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function c8(i,e,t,n){const o=i[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=i[i.length-1],u=ZC(o,e),c=ZC(l,e);return!u||!c?!1:l8(i)||(t==="spring"||aA(t))&&n}function Qm(i){i.duration=0,i.type}const u8=new Set(["opacity","clipPath","filter","transform"]),h8=Ov(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function f8(i){const{motionValue:e,name:t,repeatDelay:n,repeatType:o,damping:l,type:u}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return h8()&&t&&u8.has(t)&&(t!=="transform"||!f)&&!h&&!n&&o!=="mirror"&&l!==0&&u!=="inertia"}const d8=40;class _8 extends jv{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:h,motionValue:f,element:_,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=di.now();const g={autoplay:e,delay:t,type:n,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:f,element:_,...p},w=_?.KeyframeResolver||qv;this.keyframeResolver=new w(c,(T,C,S)=>this.onKeyframesResolved(T,C,g,!S),h,f,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:h,isHandoff:f,onUpdate:_}=n;this.resolvedAt=di.now(),c8(e,l,u,c)||((as.instantAnimations||!h)&&_?.(Vv(e,n,t)),e[0]=e[e.length-1],Qm(n),n.repeat=0);const g={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>d8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},w=!f&&f8(g)?new a8({...g,element:g.motionValue.owner.current}):new Wv(g);w.finished.then(()=>this.notifyFinished()).catch(Xi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),X6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const p8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m8(i){const e=p8.exec(i);if(!e)return[,];const[,t,n,o]=e;return[`--${t??n}`,o]}function cA(i,e,t=1){const[n,o]=m8(i);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const u=l.trim();return MR(u)?parseFloat(u):u}return Bv(o)?cA(o,e,t+1):o}function Gv(i,e){return i?.[e]??i?.default??i}const uA=new Set(["width","height","top","left","right","bottom",...ja]),g8={test:i=>i==="auto",parse:i=>i},hA=i=>e=>e.test(i),fA=[Va,Ee,Rn,Is,l6,a6,g8],JC=i=>fA.find(hA(i));function v8(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||LR(i):!0}const y8=new Set(["brightness","contrast","saturate","opacity"]);function S8(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(Hv)||[];if(!n)return i;const o=t.replace(n,"");let l=y8.has(e)?1:0;return n!==t&&(l*=100),e+"("+l+o+")"}const b8=/\b([a-z-]*)\(.*?\)/gu,Zm={...nr,getAnimatableNone:i=>{const e=i.match(b8);return e?e.map(S8).join(" "):i}},ew={...Va,transform:Math.round},C8={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:Is,skewX:Is,skewY:Is,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Hc,originX:zC,originY:zC,originZ:Ee},$v={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...C8,zIndex:ew,fillOpacity:Hc,strokeOpacity:Hc,numOctaves:ew},w8={...$v,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:Zm,WebkitFilter:Zm},dA=i=>w8[i];function _A(i,e){let t=dA(i);return t!==Zm&&(t=nr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const E8=new Set(["auto","none","0"]);function T8(i,e,t){let n=0,o;for(;n<i.length&&!o;){const l=i[n];typeof l=="string"&&!E8.has(l)&&Uc(l).values.length&&(o=i[n]),n++}if(o&&t)for(const l of e)i[l]=_A(t,o)}class x8 extends qv{constructor(e,t,n,o,l){super(e,t,n,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Bv(f))){const _=cA(f,t.current);_!==void 0&&(e[h]=_),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!uA.has(n)||e.length!==2)return;const[o,l]=e,u=JC(o),c=JC(l);if(u!==c)if(YC(u)&&YC(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else qr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let o=0;o<e.length;o++)(e[o]===null||v8(e[o]))&&n.push(o);n.length&&T8(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(n,o).jump(o,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const l=n.length-1,u=n[l];n[l]=qr[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function R8(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const o=t?.[i]??n.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const pA=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function mA(i){return OR(i)&&"offsetHeight"in i}const tw=30,A8=i=>!isNaN(parseFloat(i));class D8{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const o=di.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Lv);const n=this.events[e].add(t);return e==="change"?()=>{n(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,tw);return IR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ka(i,e){return new D8(i,e)}const{schedule:Kv}=qR(queueMicrotask,!1),rn={x:!1,y:!1};function gA(){return rn.x||rn.y}function k8(i){return i==="x"||i==="y"?rn[i]?null:(rn[i]=!0,()=>{rn[i]=!1}):rn.x||rn.y?null:(rn.x=rn.y=!0,()=>{rn.x=rn.y=!1})}function vA(i,e){const t=R8(i),n=new AbortController,o={passive:!0,...e,signal:n.signal};return[t,o,()=>n.abort()]}function iw(i){return!(i.pointerType==="touch"||gA())}function M8(i,e,t={}){const[n,o,l]=vA(i,t),u=c=>{if(!iw(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const _=p=>{iw(p)&&(f(p),h.removeEventListener("pointerleave",_))};h.addEventListener("pointerleave",_,o)};return n.forEach(c=>{c.addEventListener("pointerenter",u,o)}),l}const yA=(i,e)=>e?i===e?!0:yA(i,e.parentElement):!1,Yv=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,O8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L8(i){return O8.has(i.tagName)||i.tabIndex!==-1}const Fh=new WeakSet;function nw(i){return e=>{e.key==="Enter"&&i(e)}}function Vp(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I8=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=nw(()=>{if(Fh.has(t))return;Vp(t,"down");const o=nw(()=>{Vp(t,"up")}),l=()=>Vp(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function sw(i){return Yv(i)&&!gA()}function P8(i,e,t={}){const[n,o,l]=vA(i,t),u=c=>{const h=c.currentTarget;if(!sw(c))return;Fh.add(h);const f=e(h,c),_=(w,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Fh.has(h)&&Fh.delete(h),sw(w)&&typeof f=="function"&&f(w,{success:T})},p=w=>{_(w,h===window||h===document||t.useGlobalTarget||yA(h,w.target))},g=w=>{_(w,!1)};window.addEventListener("pointerup",p,o),window.addEventListener("pointercancel",g,o)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),mA(c)&&(c.addEventListener("focus",f=>I8(f,o)),!L8(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function SA(i){return OR(i)&&"ownerSVGElement"in i}function N8(i){return SA(i)&&i.tagName==="svg"}const Qt=i=>!!(i&&i.getVelocity),B8=[...fA,bt,nr],H8=i=>B8.find(hA(i)),Xv=q.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});class U8 extends q.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,o=mA(n)&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=t.offsetHeight||0,l.width=t.offsetWidth||0,l.top=t.offsetTop,l.left=t.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F8({children:i,isPresent:e,anchorX:t,root:n}){const o=q.useId(),l=q.useRef(null),u=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=q.useContext(Xv);return q.useInsertionEffect(()=>{const{width:h,height:f,top:_,left:p,right:g}=u.current;if(e||!l.current||!h||!f)return;const w=t==="left"?`left: ${p}`:`right: ${g}`;l.current.dataset.motionPopId=o;const T=document.createElement("style");c&&(T.nonce=c);const C=n??document.head;return C.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${_}px !important;
          }
        `),()=>{C.contains(T)&&C.removeChild(T)}},[e]),Y.jsx(U8,{isPresent:e,childRef:l,sizeRef:u,children:q.cloneElement(i,{ref:l})})}const z8=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:u,anchorX:c,root:h})=>{const f=Rv(V8),_=q.useId();let p=!0,g=q.useMemo(()=>(p=!1,{id:_,initial:e,isPresent:t,custom:o,onExitComplete:w=>{f.set(w,!0);for(const T of f.values())if(!T)return;n&&n()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[t,f,n]);return l&&p&&(g={...g}),q.useMemo(()=>{f.forEach((w,T)=>f.set(T,!1))},[t]),q.useEffect(()=>{!t&&!f.size&&n&&n()},[t]),u==="popLayout"&&(i=Y.jsx(F8,{isPresent:t,anchorX:c,root:h,children:i})),Y.jsx(qf.Provider,{value:g,children:i})};function V8(){return new Map}function bA(i=!0){const e=q.useContext(qf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:o}=e,l=q.useId();q.useEffect(()=>{if(i)return o(l)},[i]);const u=q.useCallback(()=>i&&n&&n(l),[l,n,i]);return!t&&n?[!1,u]:[!0]}const Rh=i=>i.key||"";function rw(i){const e=[];return q.Children.forEach(i,t=>{q.isValidElement(t)&&e.push(t)}),e}const CA=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:c="left",root:h})=>{const[f,_]=bA(u),p=q.useMemo(()=>rw(i),[i]),g=u&&!f?[]:p.map(Rh),w=q.useRef(!0),T=q.useRef(p),C=Rv(()=>new Map),[S,b]=q.useState(p),[y,m]=q.useState(p);kR(()=>{w.current=!1,T.current=p;for(let D=0;D<y.length;D++){const k=Rh(y[D]);g.includes(k)?C.delete(k):C.get(k)!==!0&&C.set(k,!1)}},[y,g.length,g.join("-")]);const x=[];if(p!==S){let D=[...p];for(let k=0;k<y.length;k++){const R=y[k],M=Rh(R);g.includes(M)||(D.splice(k,0,R),x.push(R))}return l==="wait"&&x.length&&(D=x),m(rw(D)),b(p),null}const{forceRender:A}=q.useContext(xv);return Y.jsx(Y.Fragment,{children:y.map(D=>{const k=Rh(D),R=u&&!f?!1:p===y||g.includes(k),M=()=>{if(C.has(k))C.set(k,!0);else return;let U=!0;C.forEach(z=>{z||(U=!1)}),U&&(A?.(),m(T.current),u&&_?.(),n&&n())};return Y.jsx(z8,{isPresent:R,initial:!w.current||t?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:R?void 0:M,anchorX:c,children:D},k)})})},wA=q.createContext({strict:!1}),ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ma={};for(const i in ow)Ma[i]={isEnabled:e=>ow[i].some(t=>!!e[t])};function j8(i){for(const e in i)Ma[e]={...Ma[e],...i[e]}}const W8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||W8.has(i)}let EA=i=>!wf(i);function q8(i){typeof i=="function"&&(EA=e=>e.startsWith("on")?!wf(e):i(e))}try{q8(require("@emotion/is-prop-valid").default)}catch{}function G8(i,e,t){const n={};for(const o in i)o==="values"&&typeof i.values=="object"||(EA(o)||t===!0&&wf(o)||!e&&!wf(o)||i.draggable&&o.startsWith("onDrag"))&&(n[o]=i[o]);return n}const Gf=q.createContext({});function $f(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Fc(i){return typeof i=="string"||Array.isArray(i)}const Qv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zv=["initial",...Qv];function Kf(i){return $f(i.animate)||Zv.some(e=>Fc(i[e]))}function TA(i){return!!(Kf(i)||i.variants)}function $8(i,e){if(Kf(i)){const{initial:t,animate:n}=i;return{initial:t===!1||Fc(t)?t:void 0,animate:Fc(n)?n:void 0}}return i.inherit!==!1?e:{}}function K8(i){const{initial:e,animate:t}=$8(i,q.useContext(Gf));return q.useMemo(()=>({initial:e,animate:t}),[aw(e),aw(t)])}function aw(i){return Array.isArray(i)?i.join(" "):i}const zc={};function Y8(i){for(const e in i)zc[e]=i[e],Nv(e)&&(zc[e].isCSSVariable=!0)}function xA(i,{layout:e,layoutId:t}){return Wa.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!zc[i]||i==="opacity")}const X8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q8=ja.length;function Z8(i,e,t){let n="",o=!0;for(let l=0;l<Q8;l++){const u=ja[l],c=i[u];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(u.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||t){const f=pA(c,$v[u]);if(!h){o=!1;const _=X8[u]||u;n+=`${_}(${f}) `}t&&(e[u]=f)}}return n=n.trim(),t?n=t(e,o?"":n):o&&(n="none"),n}function Jv(i,e,t){const{style:n,vars:o,transformOrigin:l}=i;let u=!1,c=!1;for(const h in e){const f=e[h];if(Wa.has(h)){u=!0;continue}else if(Nv(h)){o[h]=f;continue}else{const _=pA(f,$v[h]);h.startsWith("origin")?(c=!0,l[h]=_):n[h]=_}}if(e.transform||(u||t?n.transform=Z8(e,i.transform,t):n.transform&&(n.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:_=0}=l;n.transformOrigin=`${h} ${f} ${_}`}}const e0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RA(i,e,t){for(const n in e)!Qt(e[n])&&!xA(n,t)&&(i[n]=e[n])}function J8({transformTemplate:i},e){return q.useMemo(()=>{const t=e0();return Jv(t,e,i),Object.assign({},t.vars,t.style)},[e])}function eH(i,e){const t=i.style||{},n={};return RA(n,t,i),Object.assign(n,J8(i,e)),n}function tH(i,e){const t={},n=eH(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const iH={offset:"stroke-dashoffset",array:"stroke-dasharray"},nH={offset:"strokeDashoffset",array:"strokeDasharray"};function sH(i,e,t=1,n=0,o=!0){i.pathLength=1;const l=o?iH:nH;i[l.offset]=Ee.transform(-n);const u=Ee.transform(e),c=Ee.transform(t);i[l.array]=`${u} ${c}`}function AA(i,{attrX:e,attrY:t,attrScale:n,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,f,_){if(Jv(i,c,f),h){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:p,style:g}=i;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=_?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),n!==void 0&&(p.scale=n),o!==void 0&&sH(p,o,l,u,!1)}const DA=()=>({...e0(),attrs:{}}),kA=i=>typeof i=="string"&&i.toLowerCase()==="svg";function rH(i,e,t,n){const o=q.useMemo(()=>{const l=DA();return AA(l,e,kA(n),i.transformTemplate,i.style),{...l.attrs,style:{...l.style}}},[e]);if(i.style){const l={};RA(l,i.style,i),o.style={...l,...o.style}}return o}const oH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t0(i){return typeof i!="string"||i.includes("-")?!1:!!(oH.indexOf(i)>-1||/[A-Z]/u.test(i))}function aH(i,e,t,{latestValues:n},o,l=!1){const c=(t0(i)?rH:tH)(e,n,o,i),h=G8(e,typeof i=="string",l),f=i!==q.Fragment?{...h,...c,ref:t}:{},{children:_}=e,p=q.useMemo(()=>Qt(_)?_.get():_,[_]);return q.createElement(i,{...f,children:p})}function lw(i){const e=[{},{}];return i?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function i0(i,e,t,n){if(typeof e=="function"){const[o,l]=lw(n);e=e(t!==void 0?t:i.custom,o,l)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[o,l]=lw(n);e=e(t!==void 0?t:i.custom,o,l)}return e}function zh(i){return Qt(i)?i.get():i}function lH({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,o){return{latestValues:cH(t,n,o,i),renderState:e()}}function cH(i,e,t,n){const o={},l=n(i,{});for(const g in l)o[g]=zh(l[g]);let{initial:u,animate:c}=i;const h=Kf(i),f=TA(i);e&&f&&!h&&i.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let _=t?t.initial===!1:!1;_=_||u===!1;const p=_?c:u;if(p&&typeof p!="boolean"&&!$f(p)){const g=Array.isArray(p)?p:[p];for(let w=0;w<g.length;w++){const T=i0(i,g[w]);if(T){const{transitionEnd:C,transition:S,...b}=T;for(const y in b){let m=b[y];if(Array.isArray(m)){const x=_?m.length-1:0;m=m[x]}m!==null&&(o[y]=m)}for(const y in C)o[y]=C[y]}}}return o}const MA=i=>(e,t)=>{const n=q.useContext(Gf),o=q.useContext(qf),l=()=>lH(i,e,n,o);return t?l():Rv(l)};function n0(i,e,t){const{style:n}=i,o={};for(const l in n)(Qt(n[l])||e.style&&Qt(e.style[l])||xA(l,i)||t?.getValue(l)?.liveStyle!==void 0)&&(o[l]=n[l]);return o}const uH=MA({scrapeMotionValuesFromProps:n0,createRenderState:e0});function OA(i,e,t){const n=n0(i,e,t);for(const o in i)if(Qt(i[o])||Qt(e[o])){const l=ja.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=i[o]}return n}const hH=MA({scrapeMotionValuesFromProps:OA,createRenderState:DA}),fH=Symbol.for("motionComponentSymbol");function ia(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function dH(i,e,t){return q.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):ia(t)&&(t.current=n))},[e])}const s0=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_H="framerAppearId",LA="data-"+s0(_H),IA=q.createContext({});function pH(i,e,t,n,o){const{visualElement:l}=q.useContext(Gf),u=q.useContext(wA),c=q.useContext(qf),h=q.useContext(Xv).reducedMotion,f=q.useRef(null);n=n||u.renderer,!f.current&&n&&(f.current=n(i,{visualState:e,parent:l,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const _=f.current,p=q.useContext(IA);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&mH(f.current,t,o,p);const g=q.useRef(!1);q.useInsertionEffect(()=>{_&&g.current&&_.update(t,c)});const w=t[LA],T=q.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return kR(()=>{_&&(g.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),T.current&&_.animationState&&_.animationState.animateChanges())}),q.useEffect(()=>{_&&(!T.current&&_.animationState&&_.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),T.current=!1),_.enteringChildren=void 0)}),_}function mH(i,e,t,n){const{layoutId:o,layout:l,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:_}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:PA(i.parent)),i.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||c&&ia(c),visualElement:i,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:_,layoutScroll:h,layoutRoot:f})}function PA(i){if(i)return i.options.allowProjection!==!1?i.projection:PA(i.parent)}function jp(i,{forwardMotionProps:e=!1}={},t,n){t&&j8(t);const o=t0(i)?hH:uH;function l(c,h){let f;const _={...q.useContext(Xv),...c,layoutId:gH(c)},{isStatic:p}=_,g=K8(c),w=o(c,p);if(!p&&Av){vH();const T=yH(_);f=T.MeasureLayout,g.visualElement=pH(i,w,_,n,T.ProjectionNode)}return Y.jsxs(Gf.Provider,{value:g,children:[f&&g.visualElement?Y.jsx(f,{visualElement:g.visualElement,..._}):null,aH(i,c,dH(w,g.visualElement,h),w,p,e)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const u=q.forwardRef(l);return u[fH]=i,u}function gH({layoutId:i}){const e=q.useContext(xv).id;return e&&i!==void 0?e+"-"+i:i}function vH(i,e){q.useContext(wA).strict}function yH(i){const{drag:e,layout:t}=Ma;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(i)||t?.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function SH(i,e){if(typeof Proxy>"u")return jp;const t=new Map,n=(l,u)=>jp(l,u,i,e),o=(l,u)=>n(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?n:(t.has(u)||t.set(u,jp(u,void 0,i,e)),t.get(u))})}function NA({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function bH({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function CH(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Wp(i){return i===void 0||i===1}function Jm({scale:i,scaleX:e,scaleY:t}){return!Wp(i)||!Wp(e)||!Wp(t)}function Nr(i){return Jm(i)||BA(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function BA(i){return cw(i.x)||cw(i.y)}function cw(i){return i&&i!=="0%"}function Ef(i,e,t){const n=i-t,o=e*n;return t+o}function uw(i,e,t,n,o){return o!==void 0&&(i=Ef(i,o,n)),Ef(i,t,n)+e}function eg(i,e=0,t=1,n,o){i.min=uw(i.min,e,t,n,o),i.max=uw(i.max,e,t,n,o)}function HA(i,{x:e,y:t}){eg(i.x,e.translate,e.scale,e.originPoint),eg(i.y,t.translate,t.scale,t.originPoint)}const hw=.999999999999,fw=1.0000000000001;function wH(i,e,t,n=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=t[c],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&sa(i,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,HA(i,u)),n&&Nr(l.latestValues)&&sa(i,l.latestValues))}e.x<fw&&e.x>hw&&(e.x=1),e.y<fw&&e.y>hw&&(e.y=1)}function na(i,e){i.min=i.min+e,i.max=i.max+e}function dw(i,e,t,n,o=.5){const l=at(i.min,i.max,o);eg(i,e,t,l,n)}function sa(i,e){dw(i.x,e.x,e.scaleX,e.scale,e.originX),dw(i.y,e.y,e.scaleY,e.scale,e.originY)}function UA(i,e){return NA(CH(i.getBoundingClientRect(),e))}function EH(i,e,t){const n=UA(i,t),{scroll:o}=e;return o&&(na(n.x,o.offset.x),na(n.y,o.offset.y)),n}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),ra=()=>({x:_w(),y:_w()}),pw=()=>({min:0,max:0}),gt=()=>({x:pw(),y:pw()}),tg={current:null},FA={current:!1};function TH(){if(FA.current=!0,!!Av)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>tg.current=i.matches;i.addEventListener("change",e),e()}else tg.current=!1}const xH=new WeakMap;function RH(i,e,t){for(const n in e){const o=e[n],l=t[n];if(Qt(o))i.addValue(n,o);else if(Qt(l))i.addValue(n,ka(o,{owner:i}));else if(l!==o)if(i.hasValue(n)){const u=i.getValue(n);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=i.getStaticValue(n);i.addValue(n,ka(u!==void 0?u:o,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AH{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=di.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,nt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=Kf(t),this.isVariantNode=TA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const w=p[g];h[g]!==void 0&&Qt(w)&&w.set(h[g])}}mount(e){this.current=e,xH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),FA.current||TH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ir(this.notifyUpdate),ir(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Wa.has(e);n&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&nt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ma){const t=Ma[e];if(!t)continue;const{isEnabled:n,Feature:o}=t;if(!this.features[e]&&o&&n(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<mw.length;n++){const o=mw[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=RH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=ka(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(MR(n)||LR(n))?n=parseFloat(n):!H8(n)&&nr.test(t)&&(n=_A(e,t)),this.setBaseTarget(e,Qt(n)?n.get():n)),Qt(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const l=i0(this.props,t,this.presenceContext?.custom);l&&(n=l[e])}if(t&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Qt(o)?o:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Lv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Kv.render(this.render)}}class zA extends AH{constructor(){super(...arguments),this.KeyframeResolver=x8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function VA(i,{style:e,vars:t},n,o){const l=i.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,n);for(u in t)l.setProperty(u,t[u])}function DH(i){return window.getComputedStyle(i)}class kH extends zA{constructor(){super(...arguments),this.type="html",this.renderInstance=VA}readValueFromInstance(e,t){if(Wa.has(t))return this.projection?.isProjecting?Gm(t):q6(e,t);{const n=DH(e),o=(Nv(t)?n.getPropertyValue(t):n[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return UA(e,t)}build(e,t,n){Jv(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return n0(e,t,n)}}const jA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MH(i,e,t,n){VA(i,e,void 0,n);for(const o in e.attrs)i.setAttribute(jA.has(o)?o:s0(o),e.attrs[o])}class OH extends zA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wa.has(t)){const n=dA(t);return n&&n.default||0}return t=jA.has(t)?t:s0(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return OA(e,t,n)}build(e,t,n){AA(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,o){MH(e,t,n,o)}mount(e){this.isSVGTag=kA(e.tagName),super.mount(e)}}const LH=(i,e)=>t0(i)?new OH(e):new kH(e,{allowProjection:i!==q.Fragment});function pa(i,e,t){const n=i.getProps();return i0(n,e,t!==void 0?t:n.custom,i)}const ig=i=>Array.isArray(i);function IH(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,ka(t))}function PH(i){return ig(i)?i[i.length-1]||0:i}function NH(i,e){const t=pa(i,e);let{transitionEnd:n={},transition:o={},...l}=t||{};l={...l,...n};for(const u in l){const c=PH(l[u]);IH(i,u,c)}}function BH(i){return!!(Qt(i)&&i.add)}function ng(i,e){const t=i.getValue("willChange");if(BH(t))return t.add(e);if(!t&&as.WillChange){const n=new as.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function WA(i){return i.props[LA]}const HH=i=>i!==null;function UH(i,{repeat:e,repeatType:t="loop"},n){const o=i.filter(HH),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[l]}const FH={type:"spring",stiffness:500,damping:25,restSpeed:10},zH=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),VH={type:"keyframes",duration:.8},jH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WH=(i,{keyframes:e})=>e.length>2?VH:Wa.has(i)?i.startsWith("scale")?zH(e[1]):FH:jH;function qH({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:h,elapsed:f,..._}){return!!Object.keys(_).length}const r0=(i,e,t,n={},o,l)=>u=>{const c=Gv(n,i)||{},h=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Tn(h);const _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:i,motionValue:e,element:l?void 0:o};qH(c)||Object.assign(_,WH(i,_)),_.duration&&(_.duration=Tn(_.duration)),_.repeatDelay&&(_.repeatDelay=Tn(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let p=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Qm(_),_.delay===0&&(p=!0)),(as.instantAnimations||as.skipAnimations)&&(p=!0,Qm(_),_.delay=0),_.allowFlatten=!c.type&&!c.ease,p&&!l&&e.get()!==void 0){const g=UH(_.keyframes,c);if(g!==void 0){nt.update(()=>{_.onUpdate(g),_.onComplete()});return}}return c.isSync?new Wv(_):new _8(_)};function GH({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function qA(i,e,{delay:t=0,transitionOverride:n,type:o}={}){let{transition:l=i.getDefaultTransition(),transitionEnd:u,...c}=e;n&&(l=n);const h=[],f=o&&i.animationState&&i.animationState.getState()[o];for(const _ in c){const p=i.getValue(_,i.latestValues[_]??null),g=c[_];if(g===void 0||f&&GH(f,_))continue;const w={delay:t,...Gv(l||{},_)},T=p.get();if(T!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===T&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const b=WA(i);if(b){const y=window.MotionHandoffAnimation(b,_,nt);y!==null&&(w.startTime=y,C=!0)}}ng(i,_),p.start(r0(_,p,g,i.shouldReduceMotion&&uA.has(_)?{type:!1}:w,i,C));const S=p.animation;S&&h.push(S)}return u&&Promise.all(h).then(()=>{nt.update(()=>{u&&NH(i,u)})}),h}function GA(i,e,t,n=0,o=1){const l=Array.from(i).sort((f,_)=>f.sortNodePosition(_)).indexOf(e),u=i.size,c=(u-1)*n;return typeof t=="function"?t(l,u):o===1?l*n:c-l*n}function sg(i,e,t={}){const n=pa(i,e,t.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(o=t.transitionOverride);const l=n?()=>Promise.all(qA(i,n,t)):()=>Promise.resolve(),u=i.variantChildren&&i.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:_,staggerDirection:p}=o;return $H(i,e,h,f,_,p,t)}:()=>Promise.resolve(),{when:c}=o;if(c){const[h,f]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>f())}else return Promise.all([l(),u(t.delay)])}function $H(i,e,t=0,n=0,o=0,l=1,u){const c=[];for(const h of i.variantChildren)h.notify("AnimationStart",e),c.push(sg(h,e,{...u,delay:t+(typeof n=="function"?0:n)+GA(i.variantChildren,h,n,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function KH(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const o=e.map(l=>sg(i,l,t));n=Promise.all(o)}else if(typeof e=="string")n=sg(i,e,t);else{const o=typeof e=="function"?pa(i,e,t.custom):e;n=Promise.all(qA(i,o,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function $A(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const YH=Zv.length;function KA(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?KA(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<YH;t++){const n=Zv[t],o=i.props[n];(Fc(o)||o===!1)&&(e[n]=o)}return e}const XH=[...Qv].reverse(),QH=Qv.length;function ZH(i){return e=>Promise.all(e.map(({animation:t,options:n})=>KH(i,t,n)))}function JH(i){let e=ZH(i),t=gw(),n=!0;const o=h=>(f,_)=>{const p=pa(i,_,h==="exit"?i.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:w,...T}=p;f={...f,...T,...w}}return f};function l(h){e=h(i)}function u(h){const{props:f}=i,_=KA(i.parent)||{},p=[],g=new Set;let w={},T=1/0;for(let S=0;S<QH;S++){const b=XH[S],y=t[b],m=f[b]!==void 0?f[b]:_[b],x=Fc(m),A=b===h?y.isActive:null;A===!1&&(T=S);let D=m===_[b]&&m!==f[b]&&x;if(D&&n&&i.manuallyAnimateOnMount&&(D=!1),y.protectedKeys={...w},!y.isActive&&A===null||!m&&!y.prevProp||$f(m)||typeof m=="boolean")continue;const k=eU(y.prevProp,m);let R=k||b===h&&y.isActive&&!D&&x||S>T&&x,M=!1;const U=Array.isArray(m)?m:[m];let z=U.reduce(o(b),{});A===!1&&(z={});const{prevResolvedValues:W={}}=y,H={...W,...z},J=$=>{R=!0,g.has($)&&(M=!0,g.delete($)),y.needsAnimating[$]=!0;const Q=i.getValue($);Q&&(Q.liveStyle=!1)};for(const $ in H){const Q=z[$],I=W[$];if(w.hasOwnProperty($))continue;let O=!1;ig(Q)&&ig(I)?O=!$A(Q,I):O=Q!==I,O?Q!=null?J($):g.add($):Q!==void 0&&g.has($)?J($):y.protectedKeys[$]=!0}y.prevProp=m,y.prevResolvedValues=z,y.isActive&&(w={...w,...z}),n&&i.blockInitialAnimation&&(R=!1);const se=D&&k;R&&(!se||M)&&p.push(...U.map($=>{const Q={type:b};if(typeof $=="string"&&n&&!se&&i.manuallyAnimateOnMount&&i.parent){const{parent:I}=i,O=pa(I,$);if(I.enteringChildren&&O){const{delayChildren:N}=O.transition||{};Q.delay=GA(I.enteringChildren,i,N)}}return{animation:$,options:Q}}))}if(g.size){const S={};if(typeof f.initial!="boolean"){const b=pa(i,Array.isArray(f.initial)?f.initial[0]:f.initial);b&&b.transition&&(S.transition=b.transition)}g.forEach(b=>{const y=i.getBaseTarget(b),m=i.getValue(b);m&&(m.liveStyle=!0),S[b]=y??null}),p.push({animation:S})}let C=!!p.length;return n&&(f.initial===!1||f.initial===f.animate)&&!i.manuallyAnimateOnMount&&(C=!1),n=!1,C?e(p):Promise.resolve()}function c(h,f){if(t[h].isActive===f)return Promise.resolve();i.variantChildren?.forEach(p=>p.animationState?.setActive(h,f)),t[h].isActive=f;const _=u(h);for(const p in t)t[p].protectedKeys={};return _}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>t,reset:()=>{t=gw(),n=!0}}}function eU(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!$A(e,i):!1}function Or(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gw(){return{animate:Or(!0),whileInView:Or(),whileHover:Or(),whileTap:Or(),whileDrag:Or(),whileFocus:Or(),exit:Or()}}class lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tU extends lr{constructor(e){super(e),e.animationState||(e.animationState=JH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$f(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iU=0;class nU extends lr{constructor(){super(...arguments),this.id=iU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sU={animation:{Feature:tU},exit:{Feature:nU}};function Vc(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function au(i){return{point:{x:i.pageX,y:i.pageY}}}const rU=i=>e=>Yv(e)&&i(e,au(e));function dc(i,e,t,n){return Vc(i,e,rU(t),n)}const YA=1e-4,oU=1-YA,aU=1+YA,XA=.01,lU=0-XA,cU=0+XA;function si(i){return i.max-i.min}function uU(i,e,t){return Math.abs(i-e)<=t}function vw(i,e,t,n=.5){i.origin=n,i.originPoint=at(e.min,e.max,i.origin),i.scale=si(t)/si(e),i.translate=at(t.min,t.max,i.origin)-i.originPoint,(i.scale>=oU&&i.scale<=aU||isNaN(i.scale))&&(i.scale=1),(i.translate>=lU&&i.translate<=cU||isNaN(i.translate))&&(i.translate=0)}function _c(i,e,t,n){vw(i.x,e.x,t.x,n?n.originX:void 0),vw(i.y,e.y,t.y,n?n.originY:void 0)}function yw(i,e,t){i.min=t.min+e.min,i.max=i.min+si(e)}function hU(i,e,t){yw(i.x,e.x,t.x),yw(i.y,e.y,t.y)}function Sw(i,e,t){i.min=e.min-t.min,i.max=i.min+si(e)}function pc(i,e,t){Sw(i.x,e.x,t.x),Sw(i.y,e.y,t.y)}function qi(i){return[i("x"),i("y")]}const QA=({current:i})=>i?i.ownerDocument.defaultView:null,bw=(i,e)=>Math.abs(i-e);function fU(i,e){const t=bw(i.x,e.x),n=bw(i.y,e.y);return Math.sqrt(t**2+n**2)}class ZA{constructor(e,t,{transformPagePoint:n,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Gp(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=fU(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!T)return;const{point:C}=g,{timestamp:S}=zt;this.history.push({...C,timestamp:S});const{onStart:b,onMove:y}=this.handlers;w||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=qp(w,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Gp(g.type==="pointercancel"?this.lastMoveEventInfo:qp(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(g,b),C&&C(g,b)},!Yv(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=u,this.contextWindow=o||window;const c=au(e),h=qp(c,this.transformPagePoint),{point:f}=h,{timestamp:_}=zt;this.history=[{...f,timestamp:_}];const{onSessionStart:p}=t;p&&p(e,Gp(h,this.history)),this.removeListeners=su(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ir(this.updatePoint)}}function qp(i,e){return e?{point:e(i.point)}:i}function Cw(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Gp({point:i},e){return{point:i,delta:Cw(i,JA(e)),offset:Cw(i,dU(e)),velocity:_U(e,.1)}}function dU(i){return i[0]}function JA(i){return i[i.length-1]}function _U(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const o=JA(i);for(;t>=0&&(n=i[t],!(o.timestamp-n.timestamp>Tn(e)));)t--;if(!n)return{x:0,y:0};const l=xn(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function pU(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?at(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?at(t,i,n.max):Math.min(i,t)),i}function ww(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function mU(i,{top:e,left:t,bottom:n,right:o}){return{x:ww(i.x,t,o),y:ww(i.y,e,n)}}function Ew(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function gU(i,e){return{x:Ew(i.x,e.x),y:Ew(i.y,e.y)}}function vU(i,e){let t=.5;const n=si(i),o=si(e);return o>n?t=Bc(e.min,e.max-n,i.min):n>o&&(t=Bc(i.min,i.max-o,e.min)),os(0,1,t)}function yU(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const rg=.35;function SU(i=rg){return i===!1?i=0:i===!0&&(i=rg),{x:Tw(i,"left","right"),y:Tw(i,"top","bottom")}}function Tw(i,e,t){return{min:xw(i,e),max:xw(i,t)}}function xw(i,e){return typeof i=="number"?i:i[e]||0}const bU=new WeakMap;class CU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(au(p).point)},u=(p,g)=>{const{drag:w,dragPropagation:T,onDragStart:C}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k8(w),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qi(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Rn.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[b];x&&(y=si(x)*(parseFloat(y)/100))}}this.originPoint[b]=y}),C&&nt.postRender(()=>C(p,g)),ng(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:C,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=g;if(T&&this.currentDirection===null){this.currentDirection=wU(b),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),S&&S(p,g)},h=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>qi(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new ZA(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:n,contextWindow:QA(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,o=t||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!n)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&nt.postRender(()=>c(n,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:o}=this.getProps();if(!n||!Ah(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(u=pU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ia(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=mU(n.layoutBox,e):this.constraints=!1,this.elastic=SU(t),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&qi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=yU(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ia(e))return!1;const n=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=EH(n,o.root,this.visualElement.getTransformPagePoint());let u=gU(o.layout.layoutBox,l);if(t){const c=t(bH(u));this.hasMutatedConstraints=!!c,c&&(u=NA(c))}return u}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=qi(_=>{if(!Ah(_,t,this.currentDirection))return;let p=h&&h[_]||{};u&&(p={min:0,max:0});const g=o?200:1e6,w=o?40:1e7,T={type:"inertia",velocity:n?e[_]:0,bounceStiffness:g,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(_,T)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ng(this.visualElement,e),n.start(r0(e,n,0,t,this.visualElement,!1))}stopAnimation(){qi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),o=n[t];return o||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){qi(t=>{const{drag:n}=this.getProps();if(!Ah(t,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[t];l.set(e[t]-at(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ia(t)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qi(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=vU({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),qi(u=>{if(!Ah(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];c.set(at(h,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;bU.set(this.visualElement,this);const e=this.visualElement.current,t=dc(e,"pointerdown",h=>{const{drag:f,dragListener:_=!0}=this.getProps();f&&_&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();ia(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),nt.read(n);const u=Vc(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(qi(_=>{const p=this.getAxisMotionValue(_);p&&(this.originPoint[_]+=h[_].translate,p.set(p.get()+h[_].translate))}),this.visualElement.render())}));return()=>{u(),t(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=rg,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function Ah(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function wU(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class EU extends lr{constructor(e){super(e),this.removeGroupControls=Xi,this.removeListeners=Xi,this.controls=new CU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rw=i=>(e,t)=>{i&&nt.postRender(()=>i(e,t))};class TU extends lr{constructor(){super(...arguments),this.removePointerDownListener=Xi}onPointerDown(e){this.session=new ZA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:Rw(e),onStart:Rw(t),onMove:n,onEnd:(l,u)=>{delete this.session,o&&nt.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Aw(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Yl={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Ee.test(i))i=parseFloat(i);else return i;const t=Aw(i,e.target.x),n=Aw(i,e.target.y);return`${t}% ${n}%`}},xU={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,o=nr.parse(i);if(o.length>5)return n;const l=nr.createTransformer(i),u=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const f=at(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),l(o)}};let $p=!1;class RU extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=e;Y8(AU),l&&(t.group&&t.group.add(l),n&&n.register&&o&&n.register(l),$p&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:o,isPresent:l}=this.props,{projection:u}=n;return u&&(u.isPresent=l,$p=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||nt.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:o}=e;$p=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eD(i){const[e,t]=bA(),n=q.useContext(xv);return Y.jsx(RU,{...i,layoutGroup:n,switchLayoutGroup:q.useContext(IA),isPresent:e,safeToRemove:t})}const AU={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:xU};function DU(i,e,t){const n=Qt(i)?i:ka(i);return n.start(r0("",n,e,t)),n.animation}const kU=(i,e)=>i.depth-e.depth;class MU{constructor(){this.children=[],this.isDirty=!1}add(e){Dv(this.children,e),this.isDirty=!0}remove(e){kv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kU),this.isDirty=!1,this.children.forEach(e)}}function OU(i,e){const t=di.now(),n=({timestamp:o})=>{const l=o-t;l>=e&&(ir(n),i(l-e))};return nt.setup(n,!0),()=>ir(n)}const tD=["TopLeft","TopRight","BottomLeft","BottomRight"],LU=tD.length,Dw=i=>typeof i=="string"?parseFloat(i):i,kw=i=>typeof i=="number"||Ee.test(i);function IU(i,e,t,n,o,l){o?(i.opacity=at(0,t.opacity??1,PU(n)),i.opacityExit=at(e.opacity??1,0,NU(n))):l&&(i.opacity=at(e.opacity??1,t.opacity??1,n));for(let u=0;u<LU;u++){const c=`border${tD[u]}Radius`;let h=Mw(e,c),f=Mw(t,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||kw(h)===kw(f)?(i[c]=Math.max(at(Dw(h),Dw(f),n),0),(Rn.test(f)||Rn.test(h))&&(i[c]+="%")):i[c]=f}(e.rotate||t.rotate)&&(i.rotate=at(e.rotate||0,t.rotate||0,n))}function Mw(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const PU=iD(0,.5,zR),NU=iD(.5,.95,Xi);function iD(i,e,t){return n=>n<i?0:n>e?1:t(Bc(i,e,n))}function Ow(i,e){i.min=e.min,i.max=e.max}function ji(i,e){Ow(i.x,e.x),Ow(i.y,e.y)}function Lw(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function Iw(i,e,t,n,o){return i-=e,i=Ef(i,1/t,n),o!==void 0&&(i=Ef(i,1/o,n)),i}function BU(i,e=0,t=1,n=.5,o,l=i,u=i){if(Rn.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=at(l.min,l.max,n);i===l&&(c-=e),i.min=Iw(i.min,e,t,c,o),i.max=Iw(i.max,e,t,c,o)}function Pw(i,e,[t,n,o],l,u){BU(i,e[t],e[n],e[o],e.scale,l,u)}const HU=["x","scaleX","originX"],UU=["y","scaleY","originY"];function Nw(i,e,t,n){Pw(i.x,e,HU,t?t.x:void 0,n?n.x:void 0),Pw(i.y,e,UU,t?t.y:void 0,n?n.y:void 0)}function Bw(i){return i.translate===0&&i.scale===1}function nD(i){return Bw(i.x)&&Bw(i.y)}function Hw(i,e){return i.min===e.min&&i.max===e.max}function FU(i,e){return Hw(i.x,e.x)&&Hw(i.y,e.y)}function Uw(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function sD(i,e){return Uw(i.x,e.x)&&Uw(i.y,e.y)}function Fw(i){return si(i.x)/si(i.y)}function zw(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class zU{constructor(){this.members=[]}add(e){Dv(this.members,e),e.scheduleRender()}remove(e){if(kv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let n;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VU(i,e,t){let n="";const o=i.x.translate/e.x,l=i.y.translate/e.y,u=t?.z||0;if((o||l||u)&&(n=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:_,rotateX:p,rotateY:g,skewX:w,skewY:T}=t;f&&(n=`perspective(${f}px) ${n}`),_&&(n+=`rotate(${_}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),w&&(n+=`skewX(${w}deg) `),T&&(n+=`skewY(${T}deg) `)}const c=i.x.scale*e.x,h=i.y.scale*e.y;return(c!==1||h!==1)&&(n+=`scale(${c}, ${h})`),n||"none"}const Kp=["","X","Y","Z"],jU=1e3;let WU=0;function Yp(i,e,t,n){const{latestValues:o}=e;o[i]&&(t[i]=o[i],e.setStaticValue(i,0),n&&(n[i]=0))}function rD(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=WA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",nt,!(o||l))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&rD(n)}function oD({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(u={},c=e?.()){this.id=WU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($U),this.nodes.forEach(QU),this.nodes.forEach(ZU),this.nodes.forEach(KU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new MU)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Lv),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=SA(u)&&!N8(u),this.instance=u;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),i){let _,p=0;const g=()=>this.root.updateBlockedByResize=!1;nt.read(()=>{p=window.innerWidth}),i(u,()=>{const w=window.innerWidth;w!==p&&(p=w,this.root.updateBlockedByResize=!0,_&&_(),_=OU(g,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ww)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||n7,{onLayoutAnimationStart:C,onLayoutAnimationComplete:S}=f.getProps(),b=!this.targetLayout||!sD(this.targetLayout,w),y=!p&&g;if(this.options.layoutRoot||this.resumeFrom||y||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const m={...Gv(T,"layout"),onPlay:C,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(m.delay=0,m.type=!1),this.startAnimation(m),this.setAnimationOrigin(_,y)}else p||Ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const p=this.path[_];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(XU),this.nodes.forEach(qU),this.nodes.forEach(GU)):this.nodes.forEach(jw),this.clearAllSnapshots();const c=di.now();zt.delta=os(0,1e3/60,c-zt.timestamp),zt.timestamp=c,zt.isProcessing=!0,Bp.update.process(zt),Bp.preRender.process(zt),Bp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YU),this.sharedNodes.forEach(e7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!si(this.snapshot.measuredBox.x)&&!si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!nD(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,_=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||Nr(this.latestValues)||_)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),s7(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return gt();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(r7))){const{scroll:f}=this.root;f&&(na(c.x,f.offset.x),na(c.y,f.offset.y))}return c}removeElementScroll(u){const c=gt();if(ji(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:_,options:p}=f;f!==this.root&&_&&p.layoutScroll&&(_.wasRoot&&ji(c,u),na(c.x,_.offset.x),na(c.y,_.offset.y))}return c}applyTransform(u,c=!1){const h=gt();ji(h,u);for(let f=0;f<this.path.length;f++){const _=this.path[f];!c&&_.options.layoutScroll&&_.scroll&&_!==_.root&&sa(h,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Nr(_.latestValues)&&sa(h,_.latestValues)}return Nr(this.latestValues)&&sa(h,this.latestValues),h}removeTransform(u){const c=gt();ji(c,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Nr(f.latestValues))continue;Jm(f.latestValues)&&f.updateSnapshot();const _=gt(),p=f.measurePageBox();ji(_,p),Nw(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,_)}return Nr(this.latestValues)&&Nw(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:p}=this.options;if(!(!this.layout||!(_||p))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),pc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),HA(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),pc(this.relativeTargetOrigin,this.target,g.target),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jm(this.parent.latestValues)||BA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||_))return;ji(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;wH(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lw(this.prevProjectionDelta.x,this.projectionDelta.x),Lw(this.prevProjectionDelta.y,this.projectionDelta.y)),_c(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!zw(this.projectionDelta.x,this.prevProjectionDelta.x)||!zw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ra(),this.projectionDelta=ra(),this.projectionDeltaWithTransform=ra()}setAnimationOrigin(u,c=!1){const h=this.snapshot,f=h?h.latestValues:{},_={...this.latestValues},p=ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=gt(),w=h?h.source:void 0,T=this.layout?this.layout.source:void 0,C=w!==T,S=this.getStack(),b=!S||S.members.length<=1,y=!!(C&&!b&&this.options.crossfade===!0&&!this.path.some(i7));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const A=x/1e3;qw(p.x,u.x,A),qw(p.y,u.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t7(this.relativeTarget,this.relativeTargetOrigin,g,A),m&&FU(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=gt()),ji(m,this.relativeTarget)),C&&(this.animationValues=_,IU(_,f,this.latestValues,A,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ka(0)),this.currentAnimation=DU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:_}=u;if(!(!c||!h||!f)){if(this!==u&&this.layout&&f&&aD(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||gt();const p=si(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+p;const g=si(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+g}ji(c,h),sa(c,_),_c(this.projectionDeltaWithTransform,this.layoutCorrected,c,_)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new zU),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Yp("z",u,f,this.animationValues);for(let _=0;_<Kp.length;_++)Yp(`rotate${Kp[_]}`,u,f,this.animationValues),Yp(`skew${Kp[_]}`,u,f,this.animationValues);u.render();for(const _ in f)u.setStaticValue(_,f[_]),this.animationValues&&(this.animationValues[_]=f[_]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=zh(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=zh(c?.pointerEvents)||""),this.hasProjected&&!Nr(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const _=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=VU(this.projectionDeltaWithTransform,this.treeScale,_);h&&(p=h(_,p)),u.transform=p;const{x:g,y:w}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:u.opacity=f===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const T in zc){if(_[T]===void 0)continue;const{correct:C,applyTo:S,isCSSVariable:b}=zc[T],y=p==="none"?_[T]:C(_[T],f);if(S){const m=S.length;for(let x=0;x<m;x++)u[S[x]]=y}else b?this.options.visualElement.renderState.vars[T]=y:u[T]=y}this.options.layoutId&&(u.pointerEvents=f===this?zh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Vw),this.root.sharedNodes.clear()}}}function qU(i){i.updateLayout()}function GU(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=i.layout,{animationType:o}=i.options,l=e.source!==i.layout.source;o==="size"?qi(_=>{const p=l?e.measuredBox[_]:e.layoutBox[_],g=si(p);p.min=t[_].min,p.max=p.min+g}):aD(o,e.layoutBox,t)&&qi(_=>{const p=l?e.measuredBox[_]:e.layoutBox[_],g=si(t[_]);p.max=p.min+g,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[_].max=i.relativeTarget[_].min+g)});const u=ra();_c(u,t,e.layoutBox);const c=ra();l?_c(c,i.applyTransform(n,!0),e.measuredBox):_c(c,t,e.layoutBox);const h=!nD(u);let f=!1;if(!i.resumeFrom){const _=i.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:p,layout:g}=_;if(p&&g){const w=gt();pc(w,e.layoutBox,p.layoutBox);const T=gt();pc(T,t,g.layoutBox),sD(w,T)||(f=!0),_.options.layoutRoot&&(i.relativeTarget=T,i.relativeTargetOrigin=w,i.relativeParent=_)}}}i.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(i.isLead()){const{onExitComplete:t}=i.options;t&&t()}i.options.transition=void 0}function $U(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function KU(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function YU(i){i.clearSnapshot()}function Vw(i){i.clearMeasurements()}function jw(i){i.isLayoutDirty=!1}function XU(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function Ww(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function QU(i){i.resolveTargetDelta()}function ZU(i){i.calcProjection()}function JU(i){i.resetSkewAndRotation()}function e7(i){i.removeLeadSnapshot()}function qw(i,e,t){i.translate=at(e.translate,0,t),i.scale=at(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function Gw(i,e,t,n){i.min=at(e.min,t.min,n),i.max=at(e.max,t.max,n)}function t7(i,e,t,n){Gw(i.x,e.x,t.x,n),Gw(i.y,e.y,t.y,n)}function i7(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const n7={duration:.45,ease:[.4,0,.1,1]},$w=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),Kw=$w("applewebkit/")&&!$w("chrome/")?Math.round:Xi;function Yw(i){i.min=Kw(i.min),i.max=Kw(i.max)}function s7(i){Yw(i.x),Yw(i.y)}function aD(i,e,t){return i==="position"||i==="preserve-aspect"&&!uU(Fw(e),Fw(t),.2)}function r7(i){return i!==i.root&&i.scroll?.wasRoot}const o7=oD({attachResizeListener:(i,e)=>Vc(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xp={current:void 0},lD=oD({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Xp.current){const i=new o7({});i.mount(window),i.setOptions({layoutScroll:!0}),Xp.current=i}return Xp.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),a7={pan:{Feature:TU},drag:{Feature:EU,ProjectionNode:lD,MeasureLayout:eD}};function Xw(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=n[o];l&&nt.postRender(()=>l(e,au(e)))}class l7 extends lr{mount(){const{current:e}=this.node;e&&(this.unmount=M8(e,(t,n)=>(Xw(this.node,n,"Start"),o=>Xw(this.node,o,"End"))))}unmount(){}}class c7 extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su(Vc(this.node.current,"focus",()=>this.onFocus()),Vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qw(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=n[o];l&&nt.postRender(()=>l(e,au(e)))}class u7 extends lr{mount(){const{current:e}=this.node;e&&(this.unmount=P8(e,(t,n)=>(Qw(this.node,n,"Start"),(o,{success:l})=>Qw(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const og=new WeakMap,Qp=new WeakMap,h7=i=>{const e=og.get(i.target);e&&e(i)},f7=i=>{i.forEach(h7)};function d7({root:i,...e}){const t=i||document;Qp.has(t)||Qp.set(t,{});const n=Qp.get(t),o=JSON.stringify(e);return n[o]||(n[o]=new IntersectionObserver(f7,{root:i,...e})),n[o]}function _7(i,e,t){const n=d7(e);return og.set(i,t),n.observe(i),()=>{og.delete(i),n.unobserve(i)}}const p7={some:0,all:1};class m7 extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:p7[o]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:_,onViewportLeave:p}=this.node.getProps(),g=f?_:p;g&&g(h)};return _7(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(g7(e,t))&&this.startObserver()}unmount(){}}function g7({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const v7={inView:{Feature:m7},tap:{Feature:u7},focus:{Feature:c7},hover:{Feature:l7}},y7={layout:{ProjectionNode:lD,MeasureLayout:eD}},S7={...sU,...v7,...a7,...y7},Yt=SH(S7,LH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C7=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Zw=i=>{const e=C7(i);return e.charAt(0).toUpperCase()+e.slice(1)},cD=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),w7=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=q.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:u,...c},h)=>q.createElement("svg",{ref:h,...E7,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:cD("lucide",o),...!l&&!w7(c)&&{"aria-hidden":"true"},...c},[...u.map(([f,_])=>q.createElement(f,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=(i,e)=>{const t=q.forwardRef(({className:n,...o},l)=>q.createElement(T7,{ref:l,iconNode:e,className:cD(`lucide-${b7(Zw(i))}`,`lucide-${i}`,n),...o}));return t.displayName=Zw(i),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],R7=yi("book-open",x7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zp=yi("chevron-right",A7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],k7=yi("grid-3x3",D7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],O7=yi("house",M7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],I7=yi("log-out",L7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],N7=yi("map",P7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],H7=yi("maximize-2",B7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],F7=yi("message-square",U7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],V7=yi("minimize-2",z7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W7=yi("settings",j7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Jw=yi("shield",q7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],o0=yi("sparkles",G7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],uD=yi("terminal",$7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hD=yi("x",K7);var Jp={exports:{}},eE;function Y7(){return eE||(eE=1,(function(i,e){(function(t,n){i.exports=n()})(self,(()=>(()=>{var t={};return(()=>{var n=t;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const l=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(l._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,l=o._renderService.dimensions;if(l.css.cell.width===0||l.css.cell.height===0)return;const u=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,c=window.getComputedStyle(this._terminal.element.parentElement),h=parseInt(c.getPropertyValue("height")),f=Math.max(0,parseInt(c.getPropertyValue("width"))),_=window.getComputedStyle(this._terminal.element),p=h-(parseInt(_.getPropertyValue("padding-top"))+parseInt(_.getPropertyValue("padding-bottom"))),g=f-(parseInt(_.getPropertyValue("padding-right"))+parseInt(_.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(g/l.css.cell.width)),rows:Math.max(1,Math.floor(p/l.css.cell.height))}}}})(),t})()))})(Jp)),Jp.exports}var X7=Y7(),em={exports:{}},tE;function Q7(){return tE||(tE=1,(function(i,e){(function(t,n){i.exports=n()})(globalThis,(()=>(()=>{var t={4567:function(u,c,h){var f=this&&this.__decorate||function(y,m,x,A){var D,k=arguments.length,R=k<3?m:A===null?A=Object.getOwnPropertyDescriptor(m,x):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,m,x,A);else for(var M=y.length-1;M>=0;M--)(D=y[M])&&(R=(k<3?D(R):k>3?D(m,x,R):D(m,x))||R);return k>3&&R&&Object.defineProperty(m,x,R),R},_=this&&this.__param||function(y,m){return function(x,A){m(x,A,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.AccessibilityManager=void 0;const p=h(9042),g=h(9924),w=h(844),T=h(4725),C=h(2585),S=h(3656);let b=c.AccessibilityManager=class extends w.Disposable{constructor(y,m,x,A){super(),this._terminal=y,this._coreBrowserService=x,this._renderService=A,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let D=0;D<this._terminal.rows;D++)this._rowElements[D]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[D]);if(this._topBoundaryFocusListener=D=>this._handleBoundaryFocus(D,0),this._bottomBoundaryFocusListener=D=>this._handleBoundaryFocus(D,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((D=>this._handleResize(D.rows)))),this.register(this._terminal.onRender((D=>this._refreshRows(D.start,D.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((D=>this._handleChar(D)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((D=>this._handleTab(D)))),this.register(this._terminal.onKey((D=>this._handleKey(D.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,S.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,w.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(y){for(let m=0;m<y;m++)this._handleChar(" ")}_handleChar(y){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==y&&(this._charsToAnnounce+=y):this._charsToAnnounce+=y,y===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=p.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(y){this._clearLiveRegion(),/\p{Control}/u.test(y)||this._charsToConsume.push(y)}_refreshRows(y,m){this._liveRegionDebouncer.refresh(y,m,this._terminal.rows)}_renderRows(y,m){const x=this._terminal.buffer,A=x.lines.length.toString();for(let D=y;D<=m;D++){const k=x.lines.get(x.ydisp+D),R=[],M=k?.translateToString(!0,void 0,void 0,R)||"",U=(x.ydisp+D+1).toString(),z=this._rowElements[D];z&&(M.length===0?(z.innerText="",this._rowColumns.set(z,[0,1])):(z.textContent=M,this._rowColumns.set(z,R)),z.setAttribute("aria-posinset",U),z.setAttribute("aria-setsize",A))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(y,m){const x=y.target,A=this._rowElements[m===0?1:this._rowElements.length-2];if(x.getAttribute("aria-posinset")===(m===0?"1":`${this._terminal.buffer.lines.length}`)||y.relatedTarget!==A)return;let D,k;if(m===0?(D=x,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(D=this._rowElements.shift(),k=x,this._rowContainer.removeChild(D)),D.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),m===0){const R=this._createAccessibilityTreeNode();this._rowElements.unshift(R),this._rowContainer.insertAdjacentElement("afterbegin",R)}else{const R=this._createAccessibilityTreeNode();this._rowElements.push(R),this._rowContainer.appendChild(R)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(m===0?-1:1),this._rowElements[m===0?1:this._rowElements.length-2].focus(),y.preventDefault(),y.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const y=document.getSelection();if(!y)return;if(y.isCollapsed)return void(this._rowContainer.contains(y.anchorNode)&&this._terminal.clearSelection());if(!y.anchorNode||!y.focusNode)return void console.error("anchorNode and/or focusNode are null");let m={node:y.anchorNode,offset:y.anchorOffset},x={node:y.focusNode,offset:y.focusOffset};if((m.node.compareDocumentPosition(x.node)&Node.DOCUMENT_POSITION_PRECEDING||m.node===x.node&&m.offset>x.offset)&&([m,x]=[x,m]),m.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(m={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(m.node))return;const A=this._rowElements.slice(-1)[0];if(x.node.compareDocumentPosition(A)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(x={node:A,offset:A.textContent?.length??0}),!this._rowContainer.contains(x.node))return;const D=({node:M,offset:U})=>{const z=M instanceof Text?M.parentNode:M;let W=parseInt(z?.getAttribute("aria-posinset"),10)-1;if(isNaN(W))return console.warn("row is invalid. Race condition?"),null;const H=this._rowColumns.get(z);if(!H)return console.warn("columns is null. Race condition?"),null;let J=U<H.length?H[U]:H.slice(-1)[0]+1;return J>=this._terminal.cols&&(++W,J=0),{row:W,column:J}},k=D(m),R=D(x);if(k&&R){if(k.row>R.row||k.row===R.row&&k.column>=R.column)throw new Error("invalid range");this._terminal.select(k.column,k.row,(R.row-k.row)*this._terminal.cols-k.column+R.column)}}_handleResize(y){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let m=this._rowContainer.children.length;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);for(;this._rowElements.length>y;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const y=this._coreBrowserService.mainDocument.createElement("div");return y.setAttribute("role","listitem"),y.tabIndex=-1,this._refreshRowDimensions(y),y}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let y=0;y<this._terminal.rows;y++)this._refreshRowDimensions(this._rowElements[y])}}_refreshRowDimensions(y){y.style.height=`${this._renderService.dimensions.css.cell.height}px`}};c.AccessibilityManager=b=f([_(1,C.IInstantiationService),_(2,T.ICoreBrowserService),_(3,T.IRenderService)],b)},3614:(u,c)=>{function h(g){return g.replace(/\r?\n/g,"\r")}function f(g,w){return w?"\x1B[200~"+g+"\x1B[201~":g}function _(g,w,T,C){g=f(g=h(g),T.decPrivateModes.bracketedPasteMode&&C.rawOptions.ignoreBracketedPasteMode!==!0),T.triggerDataEvent(g,!0),w.value=""}function p(g,w,T){const C=T.getBoundingClientRect(),S=g.clientX-C.left-10,b=g.clientY-C.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${S}px`,w.style.top=`${b}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(c,"__esModule",{value:!0}),c.rightClickHandler=c.moveTextAreaUnderMouseCursor=c.paste=c.handlePasteEvent=c.copyHandler=c.bracketTextForPaste=c.prepareTextForTerminal=void 0,c.prepareTextForTerminal=h,c.bracketTextForPaste=f,c.copyHandler=function(g,w){g.clipboardData&&g.clipboardData.setData("text/plain",w.selectionText),g.preventDefault()},c.handlePasteEvent=function(g,w,T,C){g.stopPropagation(),g.clipboardData&&_(g.clipboardData.getData("text/plain"),w,T,C)},c.paste=_,c.moveTextAreaUnderMouseCursor=p,c.rightClickHandler=function(g,w,T,C,S){p(g,w,T),S&&C.rightClickSelect(g),w.value=C.selectionText,w.select()}},7239:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorContrastCache=void 0;const f=h(1505);c.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(_,p,g){this._css.set(_,p,g)}getCss(_,p){return this._css.get(_,p)}setColor(_,p,g){this._color.set(_,p,g)}getColor(_,p){return this._color.get(_,p)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.addDisposableDomListener=void 0,c.addDisposableDomListener=function(h,f,_,p){h.addEventListener(f,_,p);let g=!1;return{dispose:()=>{g||(g=!0,h.removeEventListener(f,_,p))}}}},3551:function(u,c,h){var f=this&&this.__decorate||function(b,y,m,x){var A,D=arguments.length,k=D<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,y,m,x);else for(var R=b.length-1;R>=0;R--)(A=b[R])&&(k=(D<3?A(k):D>3?A(y,m,k):A(y,m))||k);return D>3&&k&&Object.defineProperty(y,m,k),k},_=this&&this.__param||function(b,y){return function(m,x){y(m,x,b)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Linkifier=void 0;const p=h(3656),g=h(8460),w=h(844),T=h(2585),C=h(4725);let S=c.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(b,y,m,x,A){super(),this._element=b,this._mouseService=y,this._renderService=m,this._bufferService=x,this._linkProviderService=A,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)((()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,p.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,p.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(b){this._lastMouseEvent=b;const y=this._positionFromMouseEvent(b,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const m=b.composedPath();for(let x=0;x<m.length;x++){const A=m[x];if(A.classList.contains("xterm"))break;if(A.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(b){if(this._activeLine!==b.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(b,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,b)||(this._clearCurrentLink(),this._askForLink(b,!0))}_askForLink(b,y){this._activeProviderReplies&&y||(this._activeProviderReplies?.forEach((x=>{x?.forEach((A=>{A.link.dispose&&A.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=b.y);let m=!1;for(const[x,A]of this._linkProviderService.linkProviders.entries())y?this._activeProviderReplies?.get(x)&&(m=this._checkLinkProviderResult(x,b,m)):A.provideLinks(b.y,(D=>{if(this._isMouseOut)return;const k=D?.map((R=>({link:R})));this._activeProviderReplies?.set(x,k),m=this._checkLinkProviderResult(x,b,m),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(b.y,this._activeProviderReplies)}))}_removeIntersectingLinks(b,y){const m=new Set;for(let x=0;x<y.size;x++){const A=y.get(x);if(A)for(let D=0;D<A.length;D++){const k=A[D],R=k.link.range.start.y<b?0:k.link.range.start.x,M=k.link.range.end.y>b?this._bufferService.cols:k.link.range.end.x;for(let U=R;U<=M;U++){if(m.has(U)){A.splice(D--,1);break}m.add(U)}}}}_checkLinkProviderResult(b,y,m){if(!this._activeProviderReplies)return m;const x=this._activeProviderReplies.get(b);let A=!1;for(let D=0;D<b;D++)this._activeProviderReplies.has(D)&&!this._activeProviderReplies.get(D)||(A=!0);if(!A&&x){const D=x.find((k=>this._linkAtPosition(k.link,y)));D&&(m=!0,this._handleNewLink(D))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!m)for(let D=0;D<this._activeProviderReplies.size;D++){const k=this._activeProviderReplies.get(D)?.find((R=>this._linkAtPosition(R.link,y)));if(k){m=!0,this._handleNewLink(k);break}}return m}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(b){if(!this._currentLink)return;const y=this._positionFromMouseEvent(b,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(b,this._currentLink.link.text)}_clearCurrentLink(b,y){this._currentLink&&this._lastMouseEvent&&(!b||!y||this._currentLink.link.range.start.y>=b&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(b){if(!this._lastMouseEvent)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(b.link,y)&&(this._currentLink=b,this._currentLink.state={decorations:{underline:b.link.decorations===void 0||b.link.decorations.underline,pointerCursor:b.link.decorations===void 0||b.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,b.link,this._lastMouseEvent),b.link.decorations={},Object.defineProperties(b.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:m=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==m&&(this._currentLink.state.decorations.pointerCursor=m,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",m))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:m=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==m&&(this._currentLink.state.decorations.underline=m,this._currentLink.state.isHovered&&this._fireUnderlineEvent(b.link,m))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((m=>{if(!this._currentLink)return;const x=m.start===0?0:m.start+1+this._bufferService.buffer.ydisp,A=this._bufferService.buffer.ydisp+1+m.end;if(this._currentLink.link.range.start.y>=x&&this._currentLink.link.range.end.y<=A&&(this._clearCurrentLink(x,A),this._lastMouseEvent)){const D=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);D&&this._askForLink(D,!1)}}))))}_linkHover(b,y,m){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&b.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(m,y.text)}_fireUnderlineEvent(b,y){const m=b.range,x=this._bufferService.buffer.ydisp,A=this._createLinkUnderlineEvent(m.start.x-1,m.start.y-x-1,m.end.x,m.end.y-x-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(A)}_linkLeave(b,y,m){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&b.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(m,y.text)}_linkAtPosition(b,y){const m=b.range.start.y*this._bufferService.cols+b.range.start.x,x=b.range.end.y*this._bufferService.cols+b.range.end.x,A=y.y*this._bufferService.cols+y.x;return m<=A&&A<=x}_positionFromMouseEvent(b,y,m){const x=m.getCoords(b,y,this._bufferService.cols,this._bufferService.rows);if(x)return{x:x[0],y:x[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(b,y,m,x,A){return{x1:b,y1:y,x2:m,y2:x,cols:this._bufferService.cols,fg:A}}};c.Linkifier=S=f([_(1,C.IMouseService),_(2,C.IRenderService),_(3,T.IBufferService),_(4,C.ILinkProviderService)],S)},9042:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tooMuchOutput=c.promptLabel=void 0,c.promptLabel="Terminal input",c.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,c,h){var f=this&&this.__decorate||function(C,S,b,y){var m,x=arguments.length,A=x<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(C,S,b,y);else for(var D=C.length-1;D>=0;D--)(m=C[D])&&(A=(x<3?m(A):x>3?m(S,b,A):m(S,b))||A);return x>3&&A&&Object.defineProperty(S,b,A),A},_=this&&this.__param||function(C,S){return function(b,y){S(b,y,C)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkProvider=void 0;const p=h(511),g=h(2585);let w=c.OscLinkProvider=class{constructor(C,S,b){this._bufferService=C,this._optionsService=S,this._oscLinkService=b}provideLinks(C,S){const b=this._bufferService.buffer.lines.get(C-1);if(!b)return void S(void 0);const y=[],m=this._optionsService.rawOptions.linkHandler,x=new p.CellData,A=b.getTrimmedLength();let D=-1,k=-1,R=!1;for(let M=0;M<A;M++)if(k!==-1||b.hasContent(M)){if(b.loadCell(M,x),x.hasExtendedAttrs()&&x.extended.urlId){if(k===-1){k=M,D=x.extended.urlId;continue}R=x.extended.urlId!==D}else k!==-1&&(R=!0);if(R||k!==-1&&M===A-1){const U=this._oscLinkService.getLinkData(D)?.uri;if(U){const z={start:{x:k+1,y:C},end:{x:M+(R||M!==A-1?0:1),y:C}};let W=!1;if(!m?.allowNonHttpProtocols)try{const H=new URL(U);["http:","https:"].includes(H.protocol)||(W=!0)}catch{W=!0}W||y.push({text:U,range:z,activate:(H,J)=>m?m.activate(H,J,z):T(0,J),hover:(H,J)=>m?.hover?.(H,J,z),leave:(H,J)=>m?.leave?.(H,J,z)})}R=!1,x.hasExtendedAttrs()&&x.extended.urlId?(k=M,D=x.extended.urlId):(k=-1,D=-1)}}S(y)}};function T(C,S){if(confirm(`Do you want to navigate to ${S}?

WARNING: This link could potentially be dangerous`)){const b=window.open();if(b){try{b.opener=null}catch{}b.location.href=S}else console.warn("Opening link blocked as opener could not be cleared")}}c.OscLinkProvider=w=f([_(0,g.IBufferService),_(1,g.IOptionsService),_(2,g.IOscLinkService)],w)},6193:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RenderDebouncer=void 0,c.RenderDebouncer=class{constructor(h,f){this._renderCallback=h,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(h){return this._refreshCallbacks.push(h),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(h,f,_){this._rowCount=_,h=h!==void 0?h:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const h=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const h of this._refreshCallbacks)h(0);this._refreshCallbacks=[]}}},3236:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const f=h(3614),_=h(3656),p=h(3551),g=h(9042),w=h(3730),T=h(1680),C=h(3107),S=h(5744),b=h(2950),y=h(1296),m=h(428),x=h(4269),A=h(5114),D=h(8934),k=h(3230),R=h(9312),M=h(4725),U=h(6731),z=h(8055),W=h(8969),H=h(8460),J=h(844),se=h(6114),V=h(8437),$=h(2584),Q=h(7399),I=h(5941),O=h(9074),N=h(2585),F=h(5435),X=h(4567),re=h(779);class he extends W.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(Z={}){super(Z),this.browser=se,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new J.MutableDisposable),this._onCursorMove=this.register(new H.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new H.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new H.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new H.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new H.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new H.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new H.EventEmitter),this._onBlur=this.register(new H.EventEmitter),this._onA11yCharEmitter=this.register(new H.EventEmitter),this._onA11yTabEmitter=this.register(new H.EventEmitter),this._onWillOpen=this.register(new H.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(O.DecorationService),this._instantiationService.setService(N.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(M.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((B,le)=>this.refresh(B,le)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((B=>this._reportWindowsOptions(B)))),this.register(this._inputHandler.onColor((B=>this._handleColorEvent(B)))),this.register((0,H.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,H.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((B=>this._afterResize(B.cols,B.rows)))),this.register((0,J.toDisposable)((()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)})))}_handleColorEvent(Z){if(this._themeService)for(const B of Z){let le,ue="";switch(B.index){case 256:le="foreground",ue="10";break;case 257:le="background",ue="11";break;case 258:le="cursor",ue="12";break;default:le="ansi",ue="4;"+B.index}switch(B.type){case 0:const pe=z.color.toColorRGB(le==="ansi"?this._themeService.colors.ansi[B.index]:this._themeService.colors[le]);this.coreService.triggerDataEvent(`${$.C0.ESC}]${ue};${(0,I.toRgbString)(pe)}${$.C1_ESCAPED.ST}`);break;case 1:if(le==="ansi")this._themeService.modifyColors((_e=>_e.ansi[B.index]=z.channels.toColor(...B.color)));else{const _e=le;this._themeService.modifyColors((Re=>Re[_e]=z.channels.toColor(...B.color)))}break;case 2:this._themeService.restoreColor(B.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(Z){Z?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(Z){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent($.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent($.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const Z=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(Z);if(!B)return;const le=Math.min(this.buffer.x,this.cols-1),ue=this._renderService.dimensions.css.cell.height,pe=B.getWidth(le),_e=this._renderService.dimensions.css.cell.width*pe,Re=this.buffer.y*this._renderService.dimensions.css.cell.height,Ye=le*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ye+"px",this.textarea.style.top=Re+"px",this.textarea.style.width=_e+"px",this.textarea.style.height=ue+"px",this.textarea.style.lineHeight=ue+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,_.addDisposableDomListener)(this.element,"copy",(B=>{this.hasSelection()&&(0,f.copyHandler)(B,this._selectionService)})));const Z=B=>(0,f.handlePasteEvent)(B,this.textarea,this.coreService,this.optionsService);this.register((0,_.addDisposableDomListener)(this.textarea,"paste",Z)),this.register((0,_.addDisposableDomListener)(this.element,"paste",Z)),se.isFirefox?this.register((0,_.addDisposableDomListener)(this.element,"mousedown",(B=>{B.button===2&&(0,f.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,_.addDisposableDomListener)(this.element,"contextmenu",(B=>{(0,f.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),se.isLinux&&this.register((0,_.addDisposableDomListener)(this.element,"auxclick",(B=>{B.button===1&&(0,f.moveTextAreaUnderMouseCursor)(B,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,_.addDisposableDomListener)(this.textarea,"keyup",(Z=>this._keyUp(Z)),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keydown",(Z=>this._keyDown(Z)),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keypress",(Z=>this._keyPress(Z)),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionupdate",(Z=>this._compositionHelper.compositionupdate(Z)))),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,_.addDisposableDomListener)(this.textarea,"input",(Z=>this._inputEvent(Z)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(Z){if(!Z)throw new Error("Terminal requires a parent element.");if(Z.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=Z.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),Z.appendChild(this.element);const B=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),B.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,_.addDisposableDomListener)(this.screenElement,"mousemove",(le=>this.updateCursorStyle(le)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),B.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),se.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(A.CoreBrowserService,this.textarea,Z.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(M.ICoreBrowserService,this._coreBrowserService),this.register((0,_.addDisposableDomListener)(this.textarea,"focus",(le=>this._handleTextAreaFocus(le)))),this.register((0,_.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(m.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(M.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(U.ThemeService),this._instantiationService.setService(M.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(x.CharacterJoinerService),this._instantiationService.setService(M.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(M.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((le=>this._onRender.fire(le)))),this.onResize((le=>this._renderService.resize(le.cols,le.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(b.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(D.MouseService),this._instantiationService.setService(M.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(p.Linkifier,this.screenElement)),this.element.appendChild(B);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(T.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((le=>this.scrollLines(le.amount,le.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(R.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(M.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((le=>this.scrollLines(le.amount,le.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((le=>this._renderService.handleSelectionChanged(le.start,le.end,le.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((le=>{this.textarea.value=le,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((le=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(C.BufferDecorationRenderer,this.screenElement)),this.register((0,_.addDisposableDomListener)(this.element,"mousedown",(le=>this._selectionService.handleMouseDown(le)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(le=>this._handleScreenReaderModeOptionChange(le)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(S.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(le=>{!this._overviewRulerRenderer&&le&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(S.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(y.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const Z=this,B=this.element;function le(_e){const Re=Z._mouseService.getMouseReportCoords(_e,Z.screenElement);if(!Re)return!1;let Ye,et;switch(_e.overrideType||_e.type){case"mousemove":et=32,_e.buttons===void 0?(Ye=3,_e.button!==void 0&&(Ye=_e.button<3?_e.button:3)):Ye=1&_e.buttons?0:4&_e.buttons?1:2&_e.buttons?2:3;break;case"mouseup":et=0,Ye=_e.button<3?_e.button:3;break;case"mousedown":et=1,Ye=_e.button<3?_e.button:3;break;case"wheel":if(Z._customWheelEventHandler&&Z._customWheelEventHandler(_e)===!1||Z.viewport.getLinesScrolled(_e)===0)return!1;et=_e.deltaY<0?0:1,Ye=4;break;default:return!1}return!(et===void 0||Ye===void 0||Ye>4)&&Z.coreMouseService.triggerMouseEvent({col:Re.col,row:Re.row,x:Re.x,y:Re.y,button:Ye,action:et,ctrl:_e.ctrlKey,alt:_e.altKey,shift:_e.shiftKey})}const ue={mouseup:null,wheel:null,mousedrag:null,mousemove:null},pe={mouseup:_e=>(le(_e),_e.buttons||(this._document.removeEventListener("mouseup",ue.mouseup),ue.mousedrag&&this._document.removeEventListener("mousemove",ue.mousedrag)),this.cancel(_e)),wheel:_e=>(le(_e),this.cancel(_e,!0)),mousedrag:_e=>{_e.buttons&&le(_e)},mousemove:_e=>{_e.buttons||le(_e)}};this.register(this.coreMouseService.onProtocolChange((_e=>{_e?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(_e)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&_e?ue.mousemove||(B.addEventListener("mousemove",pe.mousemove),ue.mousemove=pe.mousemove):(B.removeEventListener("mousemove",ue.mousemove),ue.mousemove=null),16&_e?ue.wheel||(B.addEventListener("wheel",pe.wheel,{passive:!1}),ue.wheel=pe.wheel):(B.removeEventListener("wheel",ue.wheel),ue.wheel=null),2&_e?ue.mouseup||(ue.mouseup=pe.mouseup):(this._document.removeEventListener("mouseup",ue.mouseup),ue.mouseup=null),4&_e?ue.mousedrag||(ue.mousedrag=pe.mousedrag):(this._document.removeEventListener("mousemove",ue.mousedrag),ue.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,_.addDisposableDomListener)(B,"mousedown",(_e=>{if(_e.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(_e))return le(_e),ue.mouseup&&this._document.addEventListener("mouseup",ue.mouseup),ue.mousedrag&&this._document.addEventListener("mousemove",ue.mousedrag),this.cancel(_e)}))),this.register((0,_.addDisposableDomListener)(B,"wheel",(_e=>{if(!ue.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(_e)===!1)return!1;if(!this.buffer.hasScrollback){const Re=this.viewport.getLinesScrolled(_e);if(Re===0)return;const Ye=$.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(_e.deltaY<0?"A":"B");let et="";for(let qt=0;qt<Math.abs(Re);qt++)et+=Ye;return this.coreService.triggerDataEvent(et,!0),this.cancel(_e,!0)}return this.viewport.handleWheel(_e)?this.cancel(_e):void 0}}),{passive:!1})),this.register((0,_.addDisposableDomListener)(B,"touchstart",(_e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(_e),this.cancel(_e)}),{passive:!0})),this.register((0,_.addDisposableDomListener)(B,"touchmove",(_e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(_e)?void 0:this.cancel(_e)}),{passive:!1}))}refresh(Z,B){this._renderService?.refreshRows(Z,B)}updateCursorStyle(Z){this._selectionService?.shouldColumnSelect(Z)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(Z,B,le=0){le===1?(super.scrollLines(Z,B,le),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(Z)}paste(Z){(0,f.paste)(Z,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(Z){this._customKeyEventHandler=Z}attachCustomWheelEventHandler(Z){this._customWheelEventHandler=Z}registerLinkProvider(Z){return this._linkProviderService.registerLinkProvider(Z)}registerCharacterJoiner(Z){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const B=this._characterJoinerService.register(Z);return this.refresh(0,this.rows-1),B}deregisterCharacterJoiner(Z){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Z)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(Z){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Z)}registerDecoration(Z){return this._decorationService.registerDecoration(Z)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(Z,B,le){this._selectionService.setSelection(Z,B,le)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(Z,B){this._selectionService?.selectLines(Z,B)}_keyDown(Z){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(Z)===!1)return!1;const B=this.browser.isMac&&this.options.macOptionIsMeta&&Z.altKey;if(!B&&!this._compositionHelper.keydown(Z))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;B||Z.key!=="Dead"&&Z.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const le=(0,Q.evaluateKeyboardEvent)(Z,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Z),le.type===3||le.type===2){const ue=this.rows-1;return this.scrollLines(le.type===2?-ue:ue),this.cancel(Z,!0)}return le.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Z)||(le.cancel&&this.cancel(Z,!0),!le.key||!!(Z.key&&!Z.ctrlKey&&!Z.altKey&&!Z.metaKey&&Z.key.length===1&&Z.key.charCodeAt(0)>=65&&Z.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(le.key!==$.C0.ETX&&le.key!==$.C0.CR||(this.textarea.value=""),this._onKey.fire({key:le.key,domEvent:Z}),this._showCursor(),this.coreService.triggerDataEvent(le.key,!0),!this.optionsService.rawOptions.screenReaderMode||Z.altKey||Z.ctrlKey?this.cancel(Z,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(Z,B){const le=Z.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||Z.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||Z.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?le:le&&(!B.keyCode||B.keyCode>47)}_keyUp(Z){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(Z)===!1||((function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18})(Z)||this.focus(),this.updateCursorStyle(Z),this._keyPressHandled=!1)}_keyPress(Z){let B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(Z)===!1)return!1;if(this.cancel(Z),Z.charCode)B=Z.charCode;else if(Z.which===null||Z.which===void 0)B=Z.keyCode;else{if(Z.which===0||Z.charCode===0)return!1;B=Z.which}return!(!B||(Z.altKey||Z.ctrlKey||Z.metaKey)&&!this._isThirdLevelShift(this.browser,Z)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:Z}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(Z){if(Z.data&&Z.inputType==="insertText"&&(!Z.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const B=Z.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(Z),!0}return!1}resize(Z,B){Z!==this.cols||B!==this.rows?super.resize(Z,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(Z,B){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Z=1;Z<this.rows;Z++)this.buffer.lines.push(this.buffer.getBlankLine(V.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const Z=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=Z,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent($.C0.ESC+"[I"):this.coreService.triggerDataEvent($.C0.ESC+"[O")}_reportWindowsOptions(Z){if(this._renderService)switch(Z){case F.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const B=this._renderService.dimensions.css.canvas.width.toFixed(0),le=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${$.C0.ESC}[4;${le};${B}t`);break;case F.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ue=this._renderService.dimensions.css.cell.width.toFixed(0),pe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${$.C0.ESC}[6;${pe};${ue}t`)}}cancel(Z,B){if(this.options.cancelEvents||B)return Z.preventDefault(),Z.stopPropagation(),!1}}c.Terminal=he},9924:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TimeBasedDebouncer=void 0,c.TimeBasedDebouncer=class{constructor(h,f=1e3){this._renderCallback=h,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(h,f,_){this._rowCount=_,h=h!==void 0?h:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=p-this._lastRefreshMs,w=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const h=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,f)}}},1680:function(u,c,h){var f=this&&this.__decorate||function(b,y,m,x){var A,D=arguments.length,k=D<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,y,m,x);else for(var R=b.length-1;R>=0;R--)(A=b[R])&&(k=(D<3?A(k):D>3?A(y,m,k):A(y,m))||k);return D>3&&k&&Object.defineProperty(y,m,k),k},_=this&&this.__param||function(b,y){return function(m,x){y(m,x,b)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Viewport=void 0;const p=h(3656),g=h(4725),w=h(8460),T=h(844),C=h(2585);let S=c.Viewport=class extends T.Disposable{constructor(b,y,m,x,A,D,k,R){super(),this._viewportElement=b,this._scrollArea=y,this._bufferService=m,this._optionsService=x,this._charSizeService=A,this._renderService=D,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((M=>this._activeBuffer=M.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((M=>this._renderDimensions=M))),this._handleThemeChange(R.colors),this.register(R.onChangeColors((M=>this._handleThemeChange(M)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(b){this._viewportElement.style.backgroundColor=b.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(b){if(b)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const y=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==y&&(this._lastRecordedBufferHeight=y,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const b=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==b&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=b),this._refreshAnimationFrame=null}syncScrollArea(b=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(b);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(b)}_handleScroll(b){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const y=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const b=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(b*(this._smoothScrollState.target-this._smoothScrollState.origin)),b<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(b,y){const m=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(y<0&&this._viewportElement.scrollTop!==0||y>0&&m<this._lastRecordedBufferHeight)||(b.cancelable&&b.preventDefault(),!1)}handleWheel(b){const y=this._getPixelsScrolled(b);return y!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+y:this._smoothScrollState.target+=y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=y,this._bubbleScroll(b,y))}scrollLines(b){if(b!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const y=b*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:b,suppressScrollEvent:!1})}_getPixelsScrolled(b){if(b.deltaY===0||b.shiftKey)return 0;let y=this._applyScrollModifier(b.deltaY,b);return b.deltaMode===WheelEvent.DOM_DELTA_LINE?y*=this._currentRowHeight:b.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._currentRowHeight*this._bufferService.rows),y}getBufferElements(b,y){let m,x="";const A=[],D=y??this._bufferService.buffer.lines.length,k=this._bufferService.buffer.lines;for(let R=b;R<D;R++){const M=k.get(R);if(!M)continue;const U=k.get(R+1)?.isWrapped;if(x+=M.translateToString(!U),!U||R===k.length-1){const z=document.createElement("div");z.textContent=x,A.push(z),x.length>0&&(m=z),x=""}}return{bufferElements:A,cursorElement:m}}getLinesScrolled(b){if(b.deltaY===0||b.shiftKey)return 0;let y=this._applyScrollModifier(b.deltaY,b);return b.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(y/=this._currentRowHeight+0,this._wheelPartialScroll+=y,y=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):b.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._bufferService.rows),y}_applyScrollModifier(b,y){const m=this._optionsService.rawOptions.fastScrollModifier;return m==="alt"&&y.altKey||m==="ctrl"&&y.ctrlKey||m==="shift"&&y.shiftKey?b*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:b*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(b){this._lastTouchY=b.touches[0].pageY}handleTouchMove(b){const y=this._lastTouchY-b.touches[0].pageY;return this._lastTouchY=b.touches[0].pageY,y!==0&&(this._viewportElement.scrollTop+=y,this._bubbleScroll(b,y))}};c.Viewport=S=f([_(2,C.IBufferService),_(3,C.IOptionsService),_(4,g.ICharSizeService),_(5,g.IRenderService),_(6,g.ICoreBrowserService),_(7,g.IThemeService)],S)},3107:function(u,c,h){var f=this&&this.__decorate||function(C,S,b,y){var m,x=arguments.length,A=x<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(C,S,b,y);else for(var D=C.length-1;D>=0;D--)(m=C[D])&&(A=(x<3?m(A):x>3?m(S,b,A):m(S,b))||A);return x>3&&A&&Object.defineProperty(S,b,A),A},_=this&&this.__param||function(C,S){return function(b,y){S(b,y,C)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferDecorationRenderer=void 0;const p=h(4725),g=h(844),w=h(2585);let T=c.BufferDecorationRenderer=class extends g.Disposable{constructor(C,S,b,y,m){super(),this._screenElement=C,this._bufferService=S,this._coreBrowserService=b,this._decorationService=y,this._renderService=m,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((x=>this._removeDecoration(x)))),this.register((0,g.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const C of this._decorationService.decorations)this._renderDecoration(C);this._dimensionsChanged=!1}_renderDecoration(C){this._refreshStyle(C),this._dimensionsChanged&&this._refreshXPosition(C)}_createElement(C){const S=this._coreBrowserService.mainDocument.createElement("div");S.classList.add("xterm-decoration"),S.classList.toggle("xterm-decoration-top-layer",C?.options?.layer==="top"),S.style.width=`${Math.round((C.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,S.style.height=(C.options.height||1)*this._renderService.dimensions.css.cell.height+"px",S.style.top=(C.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",S.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=C.options.x??0;return b&&b>this._bufferService.cols&&(S.style.display="none"),this._refreshXPosition(C,S),S}_refreshStyle(C){const S=C.marker.line-this._bufferService.buffers.active.ydisp;if(S<0||S>=this._bufferService.rows)C.element&&(C.element.style.display="none",C.onRenderEmitter.fire(C.element));else{let b=this._decorationElements.get(C);b||(b=this._createElement(C),C.element=b,this._decorationElements.set(C,b),this._container.appendChild(b),C.onDispose((()=>{this._decorationElements.delete(C),b.remove()}))),b.style.top=S*this._renderService.dimensions.css.cell.height+"px",b.style.display=this._altBufferIsActive?"none":"block",C.onRenderEmitter.fire(b)}}_refreshXPosition(C,S=C.element){if(!S)return;const b=C.options.x??0;(C.options.anchor||"left")==="right"?S.style.right=b?b*this._renderService.dimensions.css.cell.width+"px":"":S.style.left=b?b*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(C){this._decorationElements.get(C)?.remove(),this._decorationElements.delete(C),C.dispose()}};c.BufferDecorationRenderer=T=f([_(1,w.IBufferService),_(2,p.ICoreBrowserService),_(3,w.IDecorationService),_(4,p.IRenderService)],T)},5871:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorZoneStore=void 0,c.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(h){if(h.options.overviewRulerOptions){for(const f of this._zones)if(f.color===h.options.overviewRulerOptions.color&&f.position===h.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,h.marker.line))return;if(this._lineAdjacentToZone(f,h.marker.line,h.options.overviewRulerOptions.position))return void this._addLineToZone(f,h.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=h.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=h.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=h.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=h.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:h.options.overviewRulerOptions.color,position:h.options.overviewRulerOptions.position,startBufferLine:h.marker.line,endBufferLine:h.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(h){this._linePadding=h}_lineIntersectsZone(h,f){return f>=h.startBufferLine&&f<=h.endBufferLine}_lineAdjacentToZone(h,f,_){return f>=h.startBufferLine-this._linePadding[_||"full"]&&f<=h.endBufferLine+this._linePadding[_||"full"]}_addLineToZone(h,f){h.startBufferLine=Math.min(h.startBufferLine,f),h.endBufferLine=Math.max(h.endBufferLine,f)}}},5744:function(u,c,h){var f=this&&this.__decorate||function(m,x,A,D){var k,R=arguments.length,M=R<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,A):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(m,x,A,D);else for(var U=m.length-1;U>=0;U--)(k=m[U])&&(M=(R<3?k(M):R>3?k(x,A,M):k(x,A))||M);return R>3&&M&&Object.defineProperty(x,A,M),M},_=this&&this.__param||function(m,x){return function(A,D){x(A,D,m)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OverviewRulerRenderer=void 0;const p=h(5871),g=h(4725),w=h(844),T=h(2585),C={full:0,left:0,center:0,right:0},S={full:0,left:0,center:0,right:0},b={full:0,left:0,center:0,right:0};let y=c.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(m,x,A,D,k,R,M){super(),this._viewportElement=m,this._screenElement=x,this._bufferService=A,this._decorationService=D,this._renderService=k,this._optionsService=R,this._coreBrowserService=M,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const U=this._canvas.getContext("2d");if(!U)throw new Error("Ctx cannot be null");this._ctx=U,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)((()=>{this._canvas?.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),x=Math.ceil(this._canvas.width/3);S.full=this._canvas.width,S.left=m,S.center=x,S.right=m,this._refreshDrawHeightConstants(),b.full=0,b.left=0,b.center=S.left,b.right=S.left+S.center}_refreshDrawHeightConstants(){C.full=Math.round(2*this._coreBrowserService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,x=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowserService.dpr);C.left=x,C.center=x,C.right=x}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const x of this._decorationService.decorations)this._colorZoneStore.addDecoration(x);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const x of m)x.position!=="full"&&this._renderColorZone(x);for(const x of m)x.position==="full"&&this._renderColorZone(x);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(b[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-C[m.position||"full"]/2),S[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+C[m.position||"full"]))}_queueRefresh(m,x){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=x||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};c.OverviewRulerRenderer=y=f([_(2,T.IBufferService),_(3,T.IDecorationService),_(4,g.IRenderService),_(5,T.IOptionsService),_(6,g.ICoreBrowserService)],y)},2950:function(u,c,h){var f=this&&this.__decorate||function(C,S,b,y){var m,x=arguments.length,A=x<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(C,S,b,y);else for(var D=C.length-1;D>=0;D--)(m=C[D])&&(A=(x<3?m(A):x>3?m(S,b,A):m(S,b))||A);return x>3&&A&&Object.defineProperty(S,b,A),A},_=this&&this.__param||function(C,S){return function(b,y){S(b,y,C)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CompositionHelper=void 0;const p=h(4725),g=h(2585),w=h(2584);let T=c.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(C,S,b,y,m,x){this._textarea=C,this._compositionView=S,this._bufferService=b,this._optionsService=y,this._coreService=m,this._renderService=x,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(C.keyCode===229||C.keyCode===16||C.keyCode===17||C.keyCode===18)return!1;this._finalizeComposition(!1)}return C.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const S={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let b;this._isSendingComposition=!1,S.start+=this._dataAlreadySent.length,b=this._isComposing?this._textarea.value.substring(S.start,S.end):this._textarea.value.substring(S.start),b.length>0&&this._coreService.triggerDataEvent(b,!0)}}),0)}else{this._isSendingComposition=!1;const S=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(S,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const S=this._textarea.value,b=S.replace(C,"");this._dataAlreadySent=b,S.length>C.length?this._coreService.triggerDataEvent(b,!0):S.length<C.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):S.length===C.length&&S!==C&&this._coreService.triggerDataEvent(S,!0)}}),0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const S=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),b=this._renderService.dimensions.css.cell.height,y=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,m=S*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=m+"px",this._compositionView.style.top=y+"px",this._compositionView.style.height=b+"px",this._compositionView.style.lineHeight=b+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const x=this._compositionView.getBoundingClientRect();this._textarea.style.left=m+"px",this._textarea.style.top=y+"px",this._textarea.style.width=Math.max(x.width,1)+"px",this._textarea.style.height=Math.max(x.height,1)+"px",this._textarea.style.lineHeight=x.height+"px"}C||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};c.CompositionHelper=T=f([_(2,g.IBufferService),_(3,g.IOptionsService),_(4,g.ICoreService),_(5,p.IRenderService)],T)},9806:(u,c)=>{function h(f,_,p){const g=p.getBoundingClientRect(),w=f.getComputedStyle(p),T=parseInt(w.getPropertyValue("padding-left")),C=parseInt(w.getPropertyValue("padding-top"));return[_.clientX-g.left-T,_.clientY-g.top-C]}Object.defineProperty(c,"__esModule",{value:!0}),c.getCoords=c.getCoordsRelativeToElement=void 0,c.getCoordsRelativeToElement=h,c.getCoords=function(f,_,p,g,w,T,C,S,b){if(!T)return;const y=h(f,_,p);return y?(y[0]=Math.ceil((y[0]+(b?C/2:0))/C),y[1]=Math.ceil(y[1]/S),y[0]=Math.min(Math.max(y[0],1),g+(b?1:0)),y[1]=Math.min(Math.max(y[1],1),w),y):void 0}},9504:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.moveToCellSequence=void 0;const f=h(2584);function _(S,b,y,m){const x=S-p(S,y),A=b-p(b,y),D=Math.abs(x-A)-(function(k,R,M){let U=0;const z=k-p(k,M),W=R-p(R,M);for(let H=0;H<Math.abs(z-W);H++){const J=g(k,R)==="A"?-1:1;M.buffer.lines.get(z+J*H)?.isWrapped&&U++}return U})(S,b,y);return C(D,T(g(S,b),m))}function p(S,b){let y=0,m=b.buffer.lines.get(S),x=m?.isWrapped;for(;x&&S>=0&&S<b.rows;)y++,m=b.buffer.lines.get(--S),x=m?.isWrapped;return y}function g(S,b){return S>b?"A":"B"}function w(S,b,y,m,x,A){let D=S,k=b,R="";for(;D!==y||k!==m;)D+=x?1:-1,x&&D>A.cols-1?(R+=A.buffer.translateBufferLineToString(k,!1,S,D),D=0,S=0,k++):!x&&D<0&&(R+=A.buffer.translateBufferLineToString(k,!1,0,S+1),D=A.cols-1,S=D,k--);return R+A.buffer.translateBufferLineToString(k,!1,S,D)}function T(S,b){const y=b?"O":"[";return f.C0.ESC+y+S}function C(S,b){S=Math.floor(S);let y="";for(let m=0;m<S;m++)y+=b;return y}c.moveToCellSequence=function(S,b,y,m){const x=y.buffer.x,A=y.buffer.y;if(!y.buffer.hasScrollback)return(function(R,M,U,z,W,H){return _(M,z,W,H).length===0?"":C(w(R,M,R,M-p(M,W),!1,W).length,T("D",H))})(x,A,0,b,y,m)+_(A,b,y,m)+(function(R,M,U,z,W,H){let J;J=_(M,z,W,H).length>0?z-p(z,W):M;const se=z,V=(function($,Q,I,O,N,F){let X;return X=_(I,O,N,F).length>0?O-p(O,N):Q,$<I&&X<=O||$>=I&&X<O?"C":"D"})(R,M,U,z,W,H);return C(w(R,J,U,se,V==="C",W).length,T(V,H))})(x,A,S,b,y,m);let D;if(A===b)return D=x>S?"D":"C",C(Math.abs(x-S),T(D,m));D=A>b?"D":"C";const k=Math.abs(A-b);return C((function(R,M){return M.cols-R})(A>b?S:x,y)+(k-1)*y.cols+1+((A>b?x:S)-1),T(D,m))}},1296:function(u,c,h){var f=this&&this.__decorate||function(H,J,se,V){var $,Q=arguments.length,I=Q<3?J:V===null?V=Object.getOwnPropertyDescriptor(J,se):V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(H,J,se,V);else for(var O=H.length-1;O>=0;O--)($=H[O])&&(I=(Q<3?$(I):Q>3?$(J,se,I):$(J,se))||I);return Q>3&&I&&Object.defineProperty(J,se,I),I},_=this&&this.__param||function(H,J){return function(se,V){J(se,V,H)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRenderer=void 0;const p=h(3787),g=h(2550),w=h(2223),T=h(6171),C=h(6052),S=h(4725),b=h(8055),y=h(8460),m=h(844),x=h(2585),A="xterm-dom-renderer-owner-",D="xterm-rows",k="xterm-fg-",R="xterm-bg-",M="xterm-focus",U="xterm-selection";let z=1,W=c.DomRenderer=class extends m.Disposable{constructor(H,J,se,V,$,Q,I,O,N,F,X,re,he){super(),this._terminal=H,this._document=J,this._element=se,this._screenElement=V,this._viewportElement=$,this._helperContainer=Q,this._linkifier2=I,this._charSizeService=N,this._optionsService=F,this._bufferService=X,this._coreBrowserService=re,this._themeService=he,this._terminalClass=z++,this._rowElements=[],this._selectionRenderModel=(0,C.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(D),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(U),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,T.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((fe=>this._injectCss(fe)))),this._injectCss(this._themeService.colors),this._rowFactory=O.createInstance(p.DomRendererRowFactory,document),this._element.classList.add(A+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((fe=>this._handleLinkHover(fe)))),this.register(this._linkifier2.onHideLinkUnderline((fe=>this._handleLinkLeave(fe)))),this.register((0,m.toDisposable)((()=>{this._element.classList.remove(A+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const H=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*H,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*H),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/H),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/H),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const se of this._rowElements)se.style.width=`${this.dimensions.css.canvas.width}px`,se.style.height=`${this.dimensions.css.cell.height}px`,se.style.lineHeight=`${this.dimensions.css.cell.height}px`,se.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const J=`${this._terminalSelector} .${D} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=J,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(H){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let J=`${this._terminalSelector} .${D} { color: ${H.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;J+=`${this._terminalSelector} .${D} .xterm-dim { color: ${b.color.multiplyOpacity(H.foreground,.5).css};}`,J+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const se=`blink_underline_${this._terminalClass}`,V=`blink_bar_${this._terminalClass}`,$=`blink_block_${this._terminalClass}`;J+=`@keyframes ${se} { 50% {  border-bottom-style: hidden; }}`,J+=`@keyframes ${V} { 50% {  box-shadow: none; }}`,J+=`@keyframes ${$} { 0% {  background-color: ${H.cursor.css};  color: ${H.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${H.cursor.css}; }}`,J+=`${this._terminalSelector} .${D}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${se} 1s step-end infinite;}${this._terminalSelector} .${D}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${V} 1s step-end infinite;}${this._terminalSelector} .${D}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${$} 1s step-end infinite;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-block { background-color: ${H.cursor.css}; color: ${H.cursorAccent.css};}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${H.cursor.css} !important; color: ${H.cursorAccent.css} !important;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${H.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${H.cursor.css} inset;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${H.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,J+=`${this._terminalSelector} .${U} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${U} div { position: absolute; background-color: ${H.selectionBackgroundOpaque.css};}${this._terminalSelector} .${U} div { position: absolute; background-color: ${H.selectionInactiveBackgroundOpaque.css};}`;for(const[Q,I]of H.ansi.entries())J+=`${this._terminalSelector} .${k}${Q} { color: ${I.css}; }${this._terminalSelector} .${k}${Q}.xterm-dim { color: ${b.color.multiplyOpacity(I,.5).css}; }${this._terminalSelector} .${R}${Q} { background-color: ${I.css}; }`;J+=`${this._terminalSelector} .${k}${w.INVERTED_DEFAULT_COLOR} { color: ${b.color.opaque(H.background).css}; }${this._terminalSelector} .${k}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${b.color.multiplyOpacity(b.color.opaque(H.background),.5).css}; }${this._terminalSelector} .${R}${w.INVERTED_DEFAULT_COLOR} { background-color: ${H.foreground.css}; }`,this._themeStyleElement.textContent=J}_setDefaultSpacing(){const H=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${H}px`,this._rowFactory.defaultSpacing=H}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(H,J){for(let se=this._rowElements.length;se<=J;se++){const V=this._document.createElement("div");this._rowContainer.appendChild(V),this._rowElements.push(V)}for(;this._rowElements.length>J;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(H,J){this._refreshRowElements(H,J),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(M),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(M),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(H,J,se){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(H,J,se),this.renderRows(0,this._bufferService.rows-1),!H||!J)return;this._selectionRenderModel.update(this._terminal,H,J,se);const V=this._selectionRenderModel.viewportStartRow,$=this._selectionRenderModel.viewportEndRow,Q=this._selectionRenderModel.viewportCappedStartRow,I=this._selectionRenderModel.viewportCappedEndRow;if(Q>=this._bufferService.rows||I<0)return;const O=this._document.createDocumentFragment();if(se){const N=H[0]>J[0];O.appendChild(this._createSelectionElement(Q,N?J[0]:H[0],N?H[0]:J[0],I-Q+1))}else{const N=V===Q?H[0]:0,F=Q===$?J[0]:this._bufferService.cols;O.appendChild(this._createSelectionElement(Q,N,F));const X=I-Q-1;if(O.appendChild(this._createSelectionElement(Q+1,0,this._bufferService.cols,X)),Q!==I){const re=$===I?J[0]:this._bufferService.cols;O.appendChild(this._createSelectionElement(I,0,re))}}this._selectionContainer.appendChild(O)}_createSelectionElement(H,J,se,V=1){const $=this._document.createElement("div"),Q=J*this.dimensions.css.cell.width;let I=this.dimensions.css.cell.width*(se-J);return Q+I>this.dimensions.css.canvas.width&&(I=this.dimensions.css.canvas.width-Q),$.style.height=V*this.dimensions.css.cell.height+"px",$.style.top=H*this.dimensions.css.cell.height+"px",$.style.left=`${Q}px`,$.style.width=`${I}px`,$}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const H of this._rowElements)H.replaceChildren()}renderRows(H,J){const se=this._bufferService.buffer,V=se.ybase+se.y,$=Math.min(se.x,this._bufferService.cols-1),Q=this._optionsService.rawOptions.cursorBlink,I=this._optionsService.rawOptions.cursorStyle,O=this._optionsService.rawOptions.cursorInactiveStyle;for(let N=H;N<=J;N++){const F=N+se.ydisp,X=this._rowElements[N],re=se.lines.get(F);if(!X||!re)break;X.replaceChildren(...this._rowFactory.createRow(re,F,F===V,I,O,$,Q,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${A}${this._terminalClass}`}_handleLinkHover(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)}_handleLinkLeave(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)}_setCellUnderline(H,J,se,V,$,Q){se<0&&(H=0),V<0&&(J=0);const I=this._bufferService.rows-1;se=Math.max(Math.min(se,I),0),V=Math.max(Math.min(V,I),0),$=Math.min($,this._bufferService.cols);const O=this._bufferService.buffer,N=O.ybase+O.y,F=Math.min(O.x,$-1),X=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,he=this._optionsService.rawOptions.cursorInactiveStyle;for(let fe=se;fe<=V;++fe){const Z=fe+O.ydisp,B=this._rowElements[fe],le=O.lines.get(Z);if(!B||!le)break;B.replaceChildren(...this._rowFactory.createRow(le,Z,Z===N,re,he,F,X,this.dimensions.css.cell.width,this._widthCache,Q?fe===se?H:0:-1,Q?(fe===V?J:$)-1:-1))}}};c.DomRenderer=W=f([_(7,x.IInstantiationService),_(8,S.ICharSizeService),_(9,x.IOptionsService),_(10,x.IBufferService),_(11,S.ICoreBrowserService),_(12,S.IThemeService)],W)},3787:function(u,c,h){var f=this&&this.__decorate||function(D,k,R,M){var U,z=arguments.length,W=z<3?k:M===null?M=Object.getOwnPropertyDescriptor(k,R):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(D,k,R,M);else for(var H=D.length-1;H>=0;H--)(U=D[H])&&(W=(z<3?U(W):z>3?U(k,R,W):U(k,R))||W);return z>3&&W&&Object.defineProperty(k,R,W),W},_=this&&this.__param||function(D,k){return function(R,M){k(R,M,D)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRendererRowFactory=void 0;const p=h(2223),g=h(643),w=h(511),T=h(2585),C=h(8055),S=h(4725),b=h(4269),y=h(6171),m=h(3734);let x=c.DomRendererRowFactory=class{constructor(D,k,R,M,U,z,W){this._document=D,this._characterJoinerService=k,this._optionsService=R,this._coreBrowserService=M,this._coreService=U,this._decorationService=z,this._themeService=W,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(D,k,R){this._selectionStart=D,this._selectionEnd=k,this._columnSelectMode=R}createRow(D,k,R,M,U,z,W,H,J,se,V){const $=[],Q=this._characterJoinerService.getJoinedCharacters(k),I=this._themeService.colors;let O,N=D.getNoBgTrimmedLength();R&&N<z+1&&(N=z+1);let F=0,X="",re=0,he=0,fe=0,Z=!1,B=0,le=!1,ue=0;const pe=[],_e=se!==-1&&V!==-1;for(let Re=0;Re<N;Re++){D.loadCell(Re,this._workCell);let Ye=this._workCell.getWidth();if(Ye===0)continue;let et=!1,qt=Re,ve=this._workCell;if(Q.length>0&&Re===Q[0][0]){et=!0;const Je=Q.shift();ve=new b.JoinedCellData(this._workCell,D.translateToString(!0,Je[0],Je[1]),Je[1]-Je[0]),qt=Je[1]-1,Ye=ve.getWidth()}const cr=this._isCellInSelection(Re,k),ro=R&&Re===z,oo=_e&&Re>=se&&Re<=V;let cs=!1;this._decorationService.forEachDecorationAtCell(Re,k,void 0,(Je=>{cs=!0}));let ao=ve.getChars()||g.WHITESPACE_CELL_CHAR;if(ao===" "&&(ve.isUnderline()||ve.isOverline())&&(ao=""),ue=Ye*H-J.get(ao,ve.isBold(),ve.isItalic()),O){if(F&&(cr&&le||!cr&&!le&&ve.bg===re)&&(cr&&le&&I.selectionForeground||ve.fg===he)&&ve.extended.ext===fe&&oo===Z&&ue===B&&!ro&&!et&&!cs){ve.isInvisible()?X+=g.WHITESPACE_CELL_CHAR:X+=ao,F++;continue}F&&(O.textContent=X),O=this._document.createElement("span"),F=0,X=""}else O=this._document.createElement("span");if(re=ve.bg,he=ve.fg,fe=ve.extended.ext,Z=oo,B=ue,le=cr,et&&z>=Re&&z<=qt&&(z=Re),!this._coreService.isCursorHidden&&ro&&this._coreService.isCursorInitialized){if(pe.push("xterm-cursor"),this._coreBrowserService.isFocused)W&&pe.push("xterm-cursor-blink"),pe.push(M==="bar"?"xterm-cursor-bar":M==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(U)switch(U){case"outline":pe.push("xterm-cursor-outline");break;case"block":pe.push("xterm-cursor-block");break;case"bar":pe.push("xterm-cursor-bar");break;case"underline":pe.push("xterm-cursor-underline")}}if(ve.isBold()&&pe.push("xterm-bold"),ve.isItalic()&&pe.push("xterm-italic"),ve.isDim()&&pe.push("xterm-dim"),X=ve.isInvisible()?g.WHITESPACE_CELL_CHAR:ve.getChars()||g.WHITESPACE_CELL_CHAR,ve.isUnderline()&&(pe.push(`xterm-underline-${ve.extended.underlineStyle}`),X===" "&&(X=""),!ve.isUnderlineColorDefault()))if(ve.isUnderlineColorRGB())O.style.textDecorationColor=`rgb(${m.AttributeData.toColorRGB(ve.getUnderlineColor()).join(",")})`;else{let Je=ve.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ve.isBold()&&Je<8&&(Je+=8),O.style.textDecorationColor=I.ansi[Je].css}ve.isOverline()&&(pe.push("xterm-overline"),X===" "&&(X="")),ve.isStrikethrough()&&pe.push("xterm-strikethrough"),oo&&(O.style.textDecoration="underline");let ei=ve.getFgColor(),ur=ve.getFgColorMode(),Li=ve.getBgColor(),en=ve.getBgColorMode();const Nt=!!ve.isInverse();if(Nt){const Je=ei;ei=Li,Li=Je;const lo=ur;ur=en,en=lo}let Bt,At,fn,hr=!1;switch(this._decorationService.forEachDecorationAtCell(Re,k,void 0,(Je=>{Je.options.layer!=="top"&&hr||(Je.backgroundColorRGB&&(en=50331648,Li=Je.backgroundColorRGB.rgba>>8&16777215,Bt=Je.backgroundColorRGB),Je.foregroundColorRGB&&(ur=50331648,ei=Je.foregroundColorRGB.rgba>>8&16777215,At=Je.foregroundColorRGB),hr=Je.options.layer==="top")})),!hr&&cr&&(Bt=this._coreBrowserService.isFocused?I.selectionBackgroundOpaque:I.selectionInactiveBackgroundOpaque,Li=Bt.rgba>>8&16777215,en=50331648,hr=!0,I.selectionForeground&&(ur=50331648,ei=I.selectionForeground.rgba>>8&16777215,At=I.selectionForeground)),hr&&pe.push("xterm-decoration-top"),en){case 16777216:case 33554432:fn=I.ansi[Li],pe.push(`xterm-bg-${Li}`);break;case 50331648:fn=C.channels.toColor(Li>>16,Li>>8&255,255&Li),this._addStyle(O,`background-color:#${A((Li>>>0).toString(16),"0",6)}`);break;default:Nt?(fn=I.foreground,pe.push(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):fn=I.background}switch(Bt||ve.isDim()&&(Bt=C.color.multiplyOpacity(fn,.5)),ur){case 16777216:case 33554432:ve.isBold()&&ei<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ei+=8),this._applyMinimumContrast(O,fn,I.ansi[ei],ve,Bt,void 0)||pe.push(`xterm-fg-${ei}`);break;case 50331648:const Je=C.channels.toColor(ei>>16&255,ei>>8&255,255&ei);this._applyMinimumContrast(O,fn,Je,ve,Bt,At)||this._addStyle(O,`color:#${A(ei.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(O,fn,I.foreground,ve,Bt,At)||Nt&&pe.push(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}pe.length&&(O.className=pe.join(" "),pe.length=0),ro||et||cs?O.textContent=X:F++,ue!==this.defaultSpacing&&(O.style.letterSpacing=`${ue}px`),$.push(O),Re=qt}return O&&F&&(O.textContent=X),$}_applyMinimumContrast(D,k,R,M,U,z){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,y.treatGlyphAsBackgroundColor)(M.getCode()))return!1;const W=this._getContrastCache(M);let H;if(U||z||(H=W.getColor(k.rgba,R.rgba)),H===void 0){const J=this._optionsService.rawOptions.minimumContrastRatio/(M.isDim()?2:1);H=C.color.ensureContrastRatio(U||k,z||R,J),W.setColor((U||k).rgba,(z||R).rgba,H??null)}return!!H&&(this._addStyle(D,`color:${H.css}`),!0)}_getContrastCache(D){return D.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(D,k){D.setAttribute("style",`${D.getAttribute("style")||""}${k};`)}_isCellInSelection(D,k){const R=this._selectionStart,M=this._selectionEnd;return!(!R||!M)&&(this._columnSelectMode?R[0]<=M[0]?D>=R[0]&&k>=R[1]&&D<M[0]&&k<=M[1]:D<R[0]&&k>=R[1]&&D>=M[0]&&k<=M[1]:k>R[1]&&k<M[1]||R[1]===M[1]&&k===R[1]&&D>=R[0]&&D<M[0]||R[1]<M[1]&&k===M[1]&&D<M[0]||R[1]<M[1]&&k===R[1]&&D>=R[0])}};function A(D,k,R){for(;D.length<R;)D=k+D;return D}c.DomRendererRowFactory=x=f([_(1,S.ICharacterJoinerService),_(2,T.IOptionsService),_(3,S.ICoreBrowserService),_(4,T.ICoreService),_(5,T.IDecorationService),_(6,S.IThemeService)],x)},2550:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WidthCache=void 0,c.WidthCache=class{constructor(h,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=h.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const _=h.createElement("span");_.classList.add("xterm-char-measure-element");const p=h.createElement("span");p.classList.add("xterm-char-measure-element"),p.style.fontWeight="bold";const g=h.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const w=h.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[_,p,g,w],this._container.appendChild(_),this._container.appendChild(p),this._container.appendChild(g),this._container.appendChild(w),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(h,f,_,p){h===this._font&&f===this._fontSize&&_===this._weight&&p===this._weightBold||(this._font=h,this._fontSize=f,this._weight=_,this._weightBold=p,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${_}`,this._measureElements[1].style.fontWeight=`${p}`,this._measureElements[2].style.fontWeight=`${_}`,this._measureElements[3].style.fontWeight=`${p}`,this.clear())}get(h,f,_){let p=0;if(!f&&!_&&h.length===1&&(p=h.charCodeAt(0))<256){if(this._flat[p]!==-9999)return this._flat[p];const T=this._measure(h,0);return T>0&&(this._flat[p]=T),T}let g=h;f&&(g+="B"),_&&(g+="I");let w=this._holey.get(g);if(w===void 0){let T=0;f&&(T|=1),_&&(T|=2),w=this._measure(h,T),w>0&&this._holey.set(g,w)}return w}_measure(h,f){const _=this._measureElements[f];return _.textContent=h.repeat(32),_.offsetWidth/32}}},2223:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TEXT_BASELINE=c.DIM_OPACITY=c.INVERTED_DEFAULT_COLOR=void 0;const f=h(6114);c.INVERTED_DEFAULT_COLOR=257,c.DIM_OPACITY=.5,c.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(u,c)=>{function h(_){return 57508<=_&&_<=57558}function f(_){return _>=128512&&_<=128591||_>=127744&&_<=128511||_>=128640&&_<=128767||_>=9728&&_<=9983||_>=9984&&_<=10175||_>=65024&&_<=65039||_>=129280&&_<=129535||_>=127462&&_<=127487}Object.defineProperty(c,"__esModule",{value:!0}),c.computeNextVariantOffset=c.createRenderDimensions=c.treatGlyphAsBackgroundColor=c.allowRescaling=c.isEmoji=c.isRestrictedPowerlineGlyph=c.isPowerlineGlyph=c.throwIfFalsy=void 0,c.throwIfFalsy=function(_){if(!_)throw new Error("value must not be falsy");return _},c.isPowerlineGlyph=h,c.isRestrictedPowerlineGlyph=function(_){return 57520<=_&&_<=57527},c.isEmoji=f,c.allowRescaling=function(_,p,g,w){return p===1&&g>Math.ceil(1.5*w)&&_!==void 0&&_>255&&!f(_)&&!h(_)&&!(function(T){return 57344<=T&&T<=63743})(_)},c.treatGlyphAsBackgroundColor=function(_){return h(_)||(function(p){return 9472<=p&&p<=9631})(_)},c.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},c.computeNextVariantOffset=function(_,p,g=0){return(_-(2*Math.round(p)-g))%(2*Math.round(p))}},6052:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createSelectionRenderModel=void 0;class h{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(_,p,g,w=!1){if(this.selectionStart=p,this.selectionEnd=g,!p||!g||p[0]===g[0]&&p[1]===g[1])return void this.clear();const T=_.buffers.active.ydisp,C=p[1]-T,S=g[1]-T,b=Math.max(C,0),y=Math.min(S,_.rows-1);b>=_.rows||y<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=C,this.viewportEndRow=S,this.viewportCappedStartRow=b,this.viewportCappedEndRow=y,this.startCol=p[0],this.endCol=g[0])}isCellSelected(_,p,g){return!!this.hasSelection&&(g-=_.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?p>=this.startCol&&g>=this.viewportCappedStartRow&&p<this.endCol&&g<=this.viewportCappedEndRow:p<this.startCol&&g>=this.viewportCappedStartRow&&p>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&p>=this.startCol&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&p>=this.startCol)}}c.createSelectionRenderModel=function(){return new h}},456:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionModel=void 0,c.SelectionModel=class{constructor(h){this._bufferService=h,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?h%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)-1]:[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[h,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[Math.max(h,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const h=this.selectionStart,f=this.selectionEnd;return!(!h||!f)&&(h[1]>f[1]||h[1]===f[1]&&h[0]>f[0])}handleTrim(h){return this.selectionStart&&(this.selectionStart[1]-=h),this.selectionEnd&&(this.selectionEnd[1]-=h),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,c,h){var f=this&&this.__decorate||function(y,m,x,A){var D,k=arguments.length,R=k<3?m:A===null?A=Object.getOwnPropertyDescriptor(m,x):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,m,x,A);else for(var M=y.length-1;M>=0;M--)(D=y[M])&&(R=(k<3?D(R):k>3?D(m,x,R):D(m,x))||R);return k>3&&R&&Object.defineProperty(m,x,R),R},_=this&&this.__param||function(y,m){return function(x,A){m(x,A,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharSizeService=void 0;const p=h(2585),g=h(8460),w=h(844);let T=c.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(y,m,x){super(),this._optionsService=x,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new b(this._optionsService))}catch{this._measureStrategy=this.register(new S(y,m,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const y=this._measureStrategy.measure();y.width===this.width&&y.height===this.height||(this.width=y.width,this.height=y.height,this._onCharSizeChange.fire())}};c.CharSizeService=T=f([_(2,p.IOptionsService)],T);class C extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(m,x){m!==void 0&&m>0&&x!==void 0&&x>0&&(this._result.width=m,this._result.height=x)}}class S extends C{constructor(m,x,A){super(),this._document=m,this._parentElement=x,this._optionsService=A,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class b extends C{constructor(m){super(),this._optionsService=m,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const x=this._ctx.measureText("W");if(!("width"in x&&"fontBoundingBoxAscent"in x&&"fontBoundingBoxDescent"in x))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const m=this._ctx.measureText("W");return this._validateAndSet(m.width,m.fontBoundingBoxAscent+m.fontBoundingBoxDescent),this._result}}},4269:function(u,c,h){var f=this&&this.__decorate||function(b,y,m,x){var A,D=arguments.length,k=D<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,y,m,x);else for(var R=b.length-1;R>=0;R--)(A=b[R])&&(k=(D<3?A(k):D>3?A(y,m,k):A(y,m))||k);return D>3&&k&&Object.defineProperty(y,m,k),k},_=this&&this.__param||function(b,y){return function(m,x){y(m,x,b)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterJoinerService=c.JoinedCellData=void 0;const p=h(3734),g=h(643),w=h(511),T=h(2585);class C extends p.AttributeData{constructor(y,m,x){super(),this.content=0,this.combinedData="",this.fg=y.fg,this.bg=y.bg,this.combinedData=m,this._width=x}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.JoinedCellData=C;let S=c.CharacterJoinerService=class fD{constructor(y){this._bufferService=y,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(y){const m={id:this._nextCharacterJoinerId++,handler:y};return this._characterJoiners.push(m),m.id}deregister(y){for(let m=0;m<this._characterJoiners.length;m++)if(this._characterJoiners[m].id===y)return this._characterJoiners.splice(m,1),!0;return!1}getJoinedCharacters(y){if(this._characterJoiners.length===0)return[];const m=this._bufferService.buffer.lines.get(y);if(!m||m.length===0)return[];const x=[],A=m.translateToString(!0);let D=0,k=0,R=0,M=m.getFg(0),U=m.getBg(0);for(let z=0;z<m.getTrimmedLength();z++)if(m.loadCell(z,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==M||this._workCell.bg!==U){if(z-D>1){const W=this._getJoinedRanges(A,R,k,m,D);for(let H=0;H<W.length;H++)x.push(W[H])}D=z,R=k,M=this._workCell.fg,U=this._workCell.bg}k+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-D>1){const z=this._getJoinedRanges(A,R,k,m,D);for(let W=0;W<z.length;W++)x.push(z[W])}return x}_getJoinedRanges(y,m,x,A,D){const k=y.substring(m,x);let R=[];try{R=this._characterJoiners[0].handler(k)}catch(M){console.error(M)}for(let M=1;M<this._characterJoiners.length;M++)try{const U=this._characterJoiners[M].handler(k);for(let z=0;z<U.length;z++)fD._mergeRanges(R,U[z])}catch(U){console.error(U)}return this._stringRangesToCellRanges(R,A,D),R}_stringRangesToCellRanges(y,m,x){let A=0,D=!1,k=0,R=y[A];if(R){for(let M=x;M<this._bufferService.cols;M++){const U=m.getWidth(M),z=m.getString(M).length||g.WHITESPACE_CELL_CHAR.length;if(U!==0){if(!D&&R[0]<=k&&(R[0]=M,D=!0),R[1]<=k){if(R[1]=M,R=y[++A],!R)break;R[0]<=k?(R[0]=M,D=!0):D=!1}k+=z}}R&&(R[1]=this._bufferService.cols)}}static _mergeRanges(y,m){let x=!1;for(let A=0;A<y.length;A++){const D=y[A];if(x){if(m[1]<=D[0])return y[A-1][1]=m[1],y;if(m[1]<=D[1])return y[A-1][1]=Math.max(m[1],D[1]),y.splice(A,1),y;y.splice(A,1),A--}else{if(m[1]<=D[0])return y.splice(A,0,m),y;if(m[1]<=D[1])return D[0]=Math.min(m[0],D[0]),y;m[0]<D[1]&&(D[0]=Math.min(m[0],D[0]),x=!0)}}return x?y[y.length-1][1]=m[1]:y.push(m),y}};c.CharacterJoinerService=S=f([_(0,T.IBufferService)],S)},5114:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreBrowserService=void 0;const f=h(844),_=h(8460),p=h(3656);class g extends f.Disposable{constructor(C,S,b){super(),this._textarea=C,this._window=S,this.mainDocument=b,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new _.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new _.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((y=>this._screenDprMonitor.setWindow(y)))),this.register((0,_.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(C){this._window!==C&&(this._window=C,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}c.CoreBrowserService=g;class w extends f.Disposable{constructor(C){super(),this._parentWindow=C,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new _.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)((()=>this.clearListener())))}setWindow(C){this._parentWindow=C,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,p.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.LinkProviderService=void 0;const f=h(844);class _ extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const w=this.linkProviders.indexOf(g);w!==-1&&this.linkProviders.splice(w,1)}}}}c.LinkProviderService=_},8934:function(u,c,h){var f=this&&this.__decorate||function(T,C,S,b){var y,m=arguments.length,x=m<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(T,C,S,b);else for(var A=T.length-1;A>=0;A--)(y=T[A])&&(x=(m<3?y(x):m>3?y(C,S,x):y(C,S))||x);return m>3&&x&&Object.defineProperty(C,S,x),x},_=this&&this.__param||function(T,C){return function(S,b){C(S,b,T)}};Object.defineProperty(c,"__esModule",{value:!0}),c.MouseService=void 0;const p=h(4725),g=h(9806);let w=c.MouseService=class{constructor(T,C){this._renderService=T,this._charSizeService=C}getCoords(T,C,S,b,y){return(0,g.getCoords)(window,T,C,S,b,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,y)}getMouseReportCoords(T,C){const S=(0,g.getCoordsRelativeToElement)(window,T,C);if(this._charSizeService.hasValidSize)return S[0]=Math.min(Math.max(S[0],0),this._renderService.dimensions.css.canvas.width-1),S[1]=Math.min(Math.max(S[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(S[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(S[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(S[0]),y:Math.floor(S[1])}}};c.MouseService=w=f([_(0,p.IRenderService),_(1,p.ICharSizeService)],w)},3230:function(u,c,h){var f=this&&this.__decorate||function(y,m,x,A){var D,k=arguments.length,R=k<3?m:A===null?A=Object.getOwnPropertyDescriptor(m,x):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,m,x,A);else for(var M=y.length-1;M>=0;M--)(D=y[M])&&(R=(k<3?D(R):k>3?D(m,x,R):D(m,x))||R);return k>3&&R&&Object.defineProperty(m,x,R),R},_=this&&this.__param||function(y,m){return function(x,A){m(x,A,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.RenderService=void 0;const p=h(6193),g=h(4725),w=h(8460),T=h(844),C=h(7226),S=h(2585);let b=c.RenderService=class extends T.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,m,x,A,D,k,R,M){super(),this._rowCount=y,this._charSizeService=A,this._renderer=this.register(new T.MutableDisposable),this._pausedResizeTask=new C.DebouncedIdleTask,this._observerDisposable=this.register(new T.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new p.RenderDebouncer(((U,z)=>this._renderRows(U,z)),R),this.register(this._renderDebouncer),this.register(R.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(k.onResize((()=>this._fullRefresh()))),this.register(k.buffers.onBufferActivate((()=>this._renderer.value?.clear()))),this.register(x.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(D.onDecorationRegistered((()=>this._fullRefresh()))),this.register(D.onDecorationRemoved((()=>this._fullRefresh()))),this.register(x.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()}))),this.register(x.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(k.buffer.y,k.buffer.y,!0)))),this.register(M.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(R.window,m),this.register(R.onWindowChange((U=>this._registerIntersectionObserver(U,m))))}_registerIntersectionObserver(y,m){if("IntersectionObserver"in y){const x=new y.IntersectionObserver((A=>this._handleIntersectionChange(A[A.length-1])),{threshold:0});x.observe(m),this._observerDisposable.value=(0,T.toDisposable)((()=>x.disconnect()))}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,m,x=!1){this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,m,this._rowCount))}_renderRows(y,m){this._renderer.value&&(y=Math.min(y,this._rowCount-1),m=Math.min(m,this._rowCount-1),this._renderer.value.renderRows(y,m),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:m}),this._onRender.fire({start:y,end:m}),this._isNextRenderRedrawOnly=!0)}resize(y,m){this._rowCount=m,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value&&(this._renderer.value.onRequestRedraw((m=>this.refreshRows(m.start,m.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,m){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value?.handleResize(y,m))):this._renderer.value.handleResize(y,m),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(y,m,x){this._selectionState.start=y,this._selectionState.end=m,this._selectionState.columnSelectMode=x,this._renderer.value?.handleSelectionChanged(y,m,x)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};c.RenderService=b=f([_(2,S.IOptionsService),_(3,g.ICharSizeService),_(4,S.IDecorationService),_(5,S.IBufferService),_(6,g.ICoreBrowserService),_(7,g.IThemeService)],b)},9312:function(u,c,h){var f=this&&this.__decorate||function(R,M,U,z){var W,H=arguments.length,J=H<3?M:z===null?z=Object.getOwnPropertyDescriptor(M,U):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(R,M,U,z);else for(var se=R.length-1;se>=0;se--)(W=R[se])&&(J=(H<3?W(J):H>3?W(M,U,J):W(M,U))||J);return H>3&&J&&Object.defineProperty(M,U,J),J},_=this&&this.__param||function(R,M){return function(U,z){M(U,z,R)}};Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionService=void 0;const p=h(9806),g=h(9504),w=h(456),T=h(4725),C=h(8460),S=h(844),b=h(6114),y=h(4841),m=h(511),x=h(2585),A="",D=new RegExp(A,"g");let k=c.SelectionService=class extends S.Disposable{constructor(R,M,U,z,W,H,J,se,V){super(),this._element=R,this._screenElement=M,this._linkifier=U,this._bufferService=z,this._coreService=W,this._mouseService=H,this._optionsService=J,this._renderService=se,this._coreBrowserService=V,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new m.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=$=>this._handleMouseMove($),this._mouseUpListener=$=>this._handleMouseUp($),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim(($=>this._handleTrim($))),this.register(this._bufferService.buffers.onBufferActivate(($=>this._handleBufferActivate($)))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,S.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!R||!M||R[0]===M[0]&&R[1]===M[1])}get selectionText(){const R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;if(!R||!M)return"";const U=this._bufferService.buffer,z=[];if(this._activeSelectionMode===3){if(R[0]===M[0])return"";const W=R[0]<M[0]?R[0]:M[0],H=R[0]<M[0]?M[0]:R[0];for(let J=R[1];J<=M[1];J++){const se=U.translateBufferLineToString(J,!0,W,H);z.push(se)}}else{const W=R[1]===M[1]?M[0]:void 0;z.push(U.translateBufferLineToString(R[1],!0,R[0],W));for(let H=R[1]+1;H<=M[1]-1;H++){const J=U.lines.get(H),se=U.translateBufferLineToString(H,!0);J?.isWrapped?z[z.length-1]+=se:z.push(se)}if(R[1]!==M[1]){const H=U.lines.get(M[1]),J=U.translateBufferLineToString(M[1],!0,0,M[0]);H&&H.isWrapped?z[z.length-1]+=J:z.push(J)}}return z.map((W=>W.replace(D," "))).join(b.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(R){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),b.isLinux&&R&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(R){const M=this._getMouseBufferCoords(R),U=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!!(U&&z&&M)&&this._areCoordsInSelection(M,U,z)}isCellInSelection(R,M){const U=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!(!U||!z)&&this._areCoordsInSelection([R,M],U,z)}_areCoordsInSelection(R,M,U){return R[1]>M[1]&&R[1]<U[1]||M[1]===U[1]&&R[1]===M[1]&&R[0]>=M[0]&&R[0]<U[0]||M[1]<U[1]&&R[1]===U[1]&&R[0]<U[0]||M[1]<U[1]&&R[1]===M[1]&&R[0]>=M[0]}_selectWordAtCursor(R,M){const U=this._linkifier.currentLink?.link?.range;if(U)return this._model.selectionStart=[U.start.x-1,U.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(U,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const z=this._getMouseBufferCoords(R);return!!z&&(this._selectWordAt(z,M),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(R,M){this._model.clearSelection(),R=Math.max(R,0),M=Math.min(M,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,R],this._model.selectionEnd=[this._bufferService.cols,M],this.refresh(),this._onSelectionChange.fire()}_handleTrim(R){this._model.handleTrim(R)&&this.refresh()}_getMouseBufferCoords(R){const M=this._mouseService.getCoords(R,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(M)return M[0]--,M[1]--,M[1]+=this._bufferService.buffer.ydisp,M}_getMouseEventScrollAmount(R){let M=(0,p.getCoordsRelativeToElement)(this._coreBrowserService.window,R,this._screenElement)[1];const U=this._renderService.dimensions.css.canvas.height;return M>=0&&M<=U?0:(M>U&&(M-=U),M=Math.min(Math.max(M,-50),50),M/=50,M/Math.abs(M)+Math.round(14*M))}shouldForceSelection(R){return b.isMac?R.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:R.shiftKey}handleMouseDown(R){if(this._mouseDownTimeStamp=R.timeStamp,(R.button!==2||!this.hasSelection)&&R.button===0){if(!this._enabled){if(!this.shouldForceSelection(R))return;R.stopPropagation()}R.preventDefault(),this._dragScrollAmount=0,this._enabled&&R.shiftKey?this._handleIncrementalClick(R):R.detail===1?this._handleSingleClick(R):R.detail===2?this._handleDoubleClick(R):R.detail===3&&this._handleTripleClick(R),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(R){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(R))}_handleSingleClick(R){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(R)?3:0,this._model.selectionStart=this._getMouseBufferCoords(R),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const M=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);M&&M.length!==this._model.selectionStart[0]&&M.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(R){this._selectWordAtCursor(R,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(R){const M=this._getMouseBufferCoords(R);M&&(this._activeSelectionMode=2,this._selectLineAt(M[1]))}shouldColumnSelect(R){return R.altKey&&!(b.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(R){if(R.stopImmediatePropagation(),!this._model.selectionStart)return;const M=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(R),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(R),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const U=this._bufferService.buffer;if(this._model.selectionEnd[1]<U.lines.length){const z=U.lines.get(this._model.selectionEnd[1]);z&&z.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}M&&M[0]===this._model.selectionEnd[0]&&M[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const R=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(R.ydisp+this._bufferService.rows,R.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=R.ydisp),this.refresh()}}_handleMouseUp(R){const M=R.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&M<500&&R.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const U=this._mouseService.getCoords(R,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(U&&U[0]!==void 0&&U[1]!==void 0){const z=(0,g.moveToCellSequence)(U[0]-1,U[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(z,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd,U=!(!R||!M||R[0]===M[0]&&R[1]===M[1]);U?R&&M&&(this._oldSelectionStart&&this._oldSelectionEnd&&R[0]===this._oldSelectionStart[0]&&R[1]===this._oldSelectionStart[1]&&M[0]===this._oldSelectionEnd[0]&&M[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(R,M,U)):this._oldHasSelection&&this._fireOnSelectionChange(R,M,U)}_fireOnSelectionChange(R,M,U){this._oldSelectionStart=R,this._oldSelectionEnd=M,this._oldHasSelection=U,this._onSelectionChange.fire()}_handleBufferActivate(R){this.clearSelection(),this._trimListener.dispose(),this._trimListener=R.activeBuffer.lines.onTrim((M=>this._handleTrim(M)))}_convertViewportColToCharacterIndex(R,M){let U=M;for(let z=0;M>=z;z++){const W=R.loadCell(z,this._workCell).getChars().length;this._workCell.getWidth()===0?U--:W>1&&M!==z&&(U+=W-1)}return U}setSelection(R,M,U){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[R,M],this._model.selectionStartLength=U,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(R){this._isClickInSelection(R)||(this._selectWordAtCursor(R,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(R,M,U=!0,z=!0){if(R[0]>=this._bufferService.cols)return;const W=this._bufferService.buffer,H=W.lines.get(R[1]);if(!H)return;const J=W.translateBufferLineToString(R[1],!1);let se=this._convertViewportColToCharacterIndex(H,R[0]),V=se;const $=R[0]-se;let Q=0,I=0,O=0,N=0;if(J.charAt(se)===" "){for(;se>0&&J.charAt(se-1)===" ";)se--;for(;V<J.length&&J.charAt(V+1)===" ";)V++}else{let re=R[0],he=R[0];H.getWidth(re)===0&&(Q++,re--),H.getWidth(he)===2&&(I++,he++);const fe=H.getString(he).length;for(fe>1&&(N+=fe-1,V+=fe-1);re>0&&se>0&&!this._isCharWordSeparator(H.loadCell(re-1,this._workCell));){H.loadCell(re-1,this._workCell);const Z=this._workCell.getChars().length;this._workCell.getWidth()===0?(Q++,re--):Z>1&&(O+=Z-1,se-=Z-1),se--,re--}for(;he<H.length&&V+1<J.length&&!this._isCharWordSeparator(H.loadCell(he+1,this._workCell));){H.loadCell(he+1,this._workCell);const Z=this._workCell.getChars().length;this._workCell.getWidth()===2?(I++,he++):Z>1&&(N+=Z-1,V+=Z-1),V++,he++}}V++;let F=se+$-Q+O,X=Math.min(this._bufferService.cols,V-se+Q+I-O-N);if(M||J.slice(se,V).trim()!==""){if(U&&F===0&&H.getCodePoint(0)!==32){const re=W.lines.get(R[1]-1);if(re&&H.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const he=this._getWordAt([this._bufferService.cols-1,R[1]-1],!1,!0,!1);if(he){const fe=this._bufferService.cols-he.start;F-=fe,X+=fe}}}if(z&&F+X===this._bufferService.cols&&H.getCodePoint(this._bufferService.cols-1)!==32){const re=W.lines.get(R[1]+1);if(re?.isWrapped&&re.getCodePoint(0)!==32){const he=this._getWordAt([0,R[1]+1],!1,!1,!0);he&&(X+=he.length)}}return{start:F,length:X}}}_selectWordAt(R,M){const U=this._getWordAt(R,M);if(U){for(;U.start<0;)U.start+=this._bufferService.cols,R[1]--;this._model.selectionStart=[U.start,R[1]],this._model.selectionStartLength=U.length}}_selectToWordAt(R){const M=this._getWordAt(R,!0);if(M){let U=R[1];for(;M.start<0;)M.start+=this._bufferService.cols,U--;if(!this._model.areSelectionValuesReversed())for(;M.start+M.length>this._bufferService.cols;)M.length-=this._bufferService.cols,U++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?M.start:M.start+M.length,U]}}_isCharWordSeparator(R){return R.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(R.getChars())>=0}_selectLineAt(R){const M=this._bufferService.buffer.getWrappedRangeForLine(R),U={start:{x:0,y:M.first},end:{x:this._bufferService.cols-1,y:M.last}};this._model.selectionStart=[0,M.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(U,this._bufferService.cols)}};c.SelectionService=k=f([_(3,x.IBufferService),_(4,x.ICoreService),_(5,T.IMouseService),_(6,x.IOptionsService),_(7,T.IRenderService),_(8,T.ICoreBrowserService)],k)},4725:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ILinkProviderService=c.IThemeService=c.ICharacterJoinerService=c.ISelectionService=c.IRenderService=c.IMouseService=c.ICoreBrowserService=c.ICharSizeService=void 0;const f=h(8343);c.ICharSizeService=(0,f.createDecorator)("CharSizeService"),c.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),c.IMouseService=(0,f.createDecorator)("MouseService"),c.IRenderService=(0,f.createDecorator)("RenderService"),c.ISelectionService=(0,f.createDecorator)("SelectionService"),c.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),c.IThemeService=(0,f.createDecorator)("ThemeService"),c.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(u,c,h){var f=this&&this.__decorate||function(k,R,M,U){var z,W=arguments.length,H=W<3?R:U===null?U=Object.getOwnPropertyDescriptor(R,M):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(k,R,M,U);else for(var J=k.length-1;J>=0;J--)(z=k[J])&&(H=(W<3?z(H):W>3?z(R,M,H):z(R,M))||H);return W>3&&H&&Object.defineProperty(R,M,H),H},_=this&&this.__param||function(k,R){return function(M,U){R(M,U,k)}};Object.defineProperty(c,"__esModule",{value:!0}),c.ThemeService=c.DEFAULT_ANSI_COLORS=void 0;const p=h(7239),g=h(8055),w=h(8460),T=h(844),C=h(2585),S=g.css.toColor("#ffffff"),b=g.css.toColor("#000000"),y=g.css.toColor("#ffffff"),m=g.css.toColor("#000000"),x={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};c.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],R=[0,95,135,175,215,255];for(let M=0;M<216;M++){const U=R[M/36%6|0],z=R[M/6%6|0],W=R[M%6];k.push({css:g.channels.toCss(U,z,W),rgba:g.channels.toRgba(U,z,W)})}for(let M=0;M<24;M++){const U=8+10*M;k.push({css:g.channels.toCss(U,U,U),rgba:g.channels.toRgba(U,U,U)})}return k})());let A=c.ThemeService=class extends T.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new p.ColorContrastCache,this._halfContrastCache=new p.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:S,background:b,cursor:y,cursorAccent:m,selectionForeground:void 0,selectionBackgroundTransparent:x,selectionBackgroundOpaque:g.color.blend(b,x),selectionInactiveBackgroundTransparent:x,selectionInactiveBackgroundOpaque:g.color.blend(b,x),ansi:c.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(k={}){const R=this._colors;if(R.foreground=D(k.foreground,S),R.background=D(k.background,b),R.cursor=D(k.cursor,y),R.cursorAccent=D(k.cursorAccent,m),R.selectionBackgroundTransparent=D(k.selectionBackground,x),R.selectionBackgroundOpaque=g.color.blend(R.background,R.selectionBackgroundTransparent),R.selectionInactiveBackgroundTransparent=D(k.selectionInactiveBackground,R.selectionBackgroundTransparent),R.selectionInactiveBackgroundOpaque=g.color.blend(R.background,R.selectionInactiveBackgroundTransparent),R.selectionForeground=k.selectionForeground?D(k.selectionForeground,g.NULL_COLOR):void 0,R.selectionForeground===g.NULL_COLOR&&(R.selectionForeground=void 0),g.color.isOpaque(R.selectionBackgroundTransparent)&&(R.selectionBackgroundTransparent=g.color.opacity(R.selectionBackgroundTransparent,.3)),g.color.isOpaque(R.selectionInactiveBackgroundTransparent)&&(R.selectionInactiveBackgroundTransparent=g.color.opacity(R.selectionInactiveBackgroundTransparent,.3)),R.ansi=c.DEFAULT_ANSI_COLORS.slice(),R.ansi[0]=D(k.black,c.DEFAULT_ANSI_COLORS[0]),R.ansi[1]=D(k.red,c.DEFAULT_ANSI_COLORS[1]),R.ansi[2]=D(k.green,c.DEFAULT_ANSI_COLORS[2]),R.ansi[3]=D(k.yellow,c.DEFAULT_ANSI_COLORS[3]),R.ansi[4]=D(k.blue,c.DEFAULT_ANSI_COLORS[4]),R.ansi[5]=D(k.magenta,c.DEFAULT_ANSI_COLORS[5]),R.ansi[6]=D(k.cyan,c.DEFAULT_ANSI_COLORS[6]),R.ansi[7]=D(k.white,c.DEFAULT_ANSI_COLORS[7]),R.ansi[8]=D(k.brightBlack,c.DEFAULT_ANSI_COLORS[8]),R.ansi[9]=D(k.brightRed,c.DEFAULT_ANSI_COLORS[9]),R.ansi[10]=D(k.brightGreen,c.DEFAULT_ANSI_COLORS[10]),R.ansi[11]=D(k.brightYellow,c.DEFAULT_ANSI_COLORS[11]),R.ansi[12]=D(k.brightBlue,c.DEFAULT_ANSI_COLORS[12]),R.ansi[13]=D(k.brightMagenta,c.DEFAULT_ANSI_COLORS[13]),R.ansi[14]=D(k.brightCyan,c.DEFAULT_ANSI_COLORS[14]),R.ansi[15]=D(k.brightWhite,c.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const M=Math.min(R.ansi.length-16,k.extendedAnsi.length);for(let U=0;U<M;U++)R.ansi[U+16]=D(k.extendedAnsi[U],c.DEFAULT_ANSI_COLORS[U+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let R=0;R<this._restoreColors.ansi.length;++R)this._colors.ansi[R]=this._restoreColors.ansi[R]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function D(k,R){if(k!==void 0)try{return g.css.toColor(k)}catch{}return R}c.ThemeService=A=f([_(0,C.IOptionsService)],A)},6349:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CircularList=void 0;const f=h(8460),_=h(844);class p extends _.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const T=new Array(w);for(let C=0;C<Math.min(w,this.length);C++)T[C]=this._array[this._getCyclicIndex(C)];this._array=T,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let T=this._length;T<w;T++)this._array[T]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,T){this._array[this._getCyclicIndex(w)]=T}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,T,...C){if(T){for(let S=w;S<this._length-T;S++)this._array[this._getCyclicIndex(S)]=this._array[this._getCyclicIndex(S+T)];this._length-=T,this.onDeleteEmitter.fire({index:w,amount:T})}for(let S=this._length-1;S>=w;S--)this._array[this._getCyclicIndex(S+C.length)]=this._array[this._getCyclicIndex(S)];for(let S=0;S<C.length;S++)this._array[this._getCyclicIndex(w+S)]=C[S];if(C.length&&this.onInsertEmitter.fire({index:w,amount:C.length}),this._length+C.length>this._maxLength){const S=this._length+C.length-this._maxLength;this._startIndex+=S,this._length=this._maxLength,this.onTrimEmitter.fire(S)}else this._length+=C.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,T,C){if(!(T<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let b=T-1;b>=0;b--)this.set(w+b+C,this.get(w+b));const S=w+T+C-this._length;if(S>0)for(this._length+=S;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let S=0;S<T;S++)this.set(w+S+C,this.get(w+S))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}c.CircularList=p},1439:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.clone=void 0,c.clone=function h(f,_=5){if(typeof f!="object")return f;const p=Array.isArray(f)?[]:{};for(const g in f)p[g]=_<=1?f[g]:f[g]&&h(f[g],_-1);return p}},8055:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.contrastRatio=c.toPaddedHex=c.rgba=c.rgb=c.css=c.color=c.channels=c.NULL_COLOR=void 0;let h=0,f=0,_=0,p=0;var g,w,T,C,S;function b(m){const x=m.toString(16);return x.length<2?"0"+x:x}function y(m,x){return m<x?(x+.05)/(m+.05):(m+.05)/(x+.05)}c.NULL_COLOR={css:"#00000000",rgba:0},(function(m){m.toCss=function(x,A,D,k){return k!==void 0?`#${b(x)}${b(A)}${b(D)}${b(k)}`:`#${b(x)}${b(A)}${b(D)}`},m.toRgba=function(x,A,D,k=255){return(x<<24|A<<16|D<<8|k)>>>0},m.toColor=function(x,A,D,k){return{css:m.toCss(x,A,D,k),rgba:m.toRgba(x,A,D,k)}}})(g||(c.channels=g={})),(function(m){function x(A,D){return p=Math.round(255*D),[h,f,_]=S.toChannels(A.rgba),{css:g.toCss(h,f,_,p),rgba:g.toRgba(h,f,_,p)}}m.blend=function(A,D){if(p=(255&D.rgba)/255,p===1)return{css:D.css,rgba:D.rgba};const k=D.rgba>>24&255,R=D.rgba>>16&255,M=D.rgba>>8&255,U=A.rgba>>24&255,z=A.rgba>>16&255,W=A.rgba>>8&255;return h=U+Math.round((k-U)*p),f=z+Math.round((R-z)*p),_=W+Math.round((M-W)*p),{css:g.toCss(h,f,_),rgba:g.toRgba(h,f,_)}},m.isOpaque=function(A){return(255&A.rgba)==255},m.ensureContrastRatio=function(A,D,k){const R=S.ensureContrastRatio(A.rgba,D.rgba,k);if(R)return g.toColor(R>>24&255,R>>16&255,R>>8&255)},m.opaque=function(A){const D=(255|A.rgba)>>>0;return[h,f,_]=S.toChannels(D),{css:g.toCss(h,f,_),rgba:D}},m.opacity=x,m.multiplyOpacity=function(A,D){return p=255&A.rgba,x(A,p*D/255)},m.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]}})(w||(c.color=w={})),(function(m){let x,A;try{const D=document.createElement("canvas");D.width=1,D.height=1;const k=D.getContext("2d",{willReadFrequently:!0});k&&(x=k,x.globalCompositeOperation="copy",A=x.createLinearGradient(0,0,1,1))}catch{}m.toColor=function(D){if(D.match(/#[\da-f]{3,8}/i))switch(D.length){case 4:return h=parseInt(D.slice(1,2).repeat(2),16),f=parseInt(D.slice(2,3).repeat(2),16),_=parseInt(D.slice(3,4).repeat(2),16),g.toColor(h,f,_);case 5:return h=parseInt(D.slice(1,2).repeat(2),16),f=parseInt(D.slice(2,3).repeat(2),16),_=parseInt(D.slice(3,4).repeat(2),16),p=parseInt(D.slice(4,5).repeat(2),16),g.toColor(h,f,_,p);case 7:return{css:D,rgba:(parseInt(D.slice(1),16)<<8|255)>>>0};case 9:return{css:D,rgba:parseInt(D.slice(1),16)>>>0}}const k=D.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return h=parseInt(k[1]),f=parseInt(k[2]),_=parseInt(k[3]),p=Math.round(255*(k[5]===void 0?1:parseFloat(k[5]))),g.toColor(h,f,_,p);if(!x||!A)throw new Error("css.toColor: Unsupported css format");if(x.fillStyle=A,x.fillStyle=D,typeof x.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(x.fillRect(0,0,1,1),[h,f,_,p]=x.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(h,f,_,p),css:D}}})(T||(c.css=T={})),(function(m){function x(A,D,k){const R=A/255,M=D/255,U=k/255;return .2126*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.7152*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))+.0722*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))}m.relativeLuminance=function(A){return x(A>>16&255,A>>8&255,255&A)},m.relativeLuminance2=x})(C||(c.rgb=C={})),(function(m){function x(D,k,R){const M=D>>24&255,U=D>>16&255,z=D>>8&255;let W=k>>24&255,H=k>>16&255,J=k>>8&255,se=y(C.relativeLuminance2(W,H,J),C.relativeLuminance2(M,U,z));for(;se<R&&(W>0||H>0||J>0);)W-=Math.max(0,Math.ceil(.1*W)),H-=Math.max(0,Math.ceil(.1*H)),J-=Math.max(0,Math.ceil(.1*J)),se=y(C.relativeLuminance2(W,H,J),C.relativeLuminance2(M,U,z));return(W<<24|H<<16|J<<8|255)>>>0}function A(D,k,R){const M=D>>24&255,U=D>>16&255,z=D>>8&255;let W=k>>24&255,H=k>>16&255,J=k>>8&255,se=y(C.relativeLuminance2(W,H,J),C.relativeLuminance2(M,U,z));for(;se<R&&(W<255||H<255||J<255);)W=Math.min(255,W+Math.ceil(.1*(255-W))),H=Math.min(255,H+Math.ceil(.1*(255-H))),J=Math.min(255,J+Math.ceil(.1*(255-J))),se=y(C.relativeLuminance2(W,H,J),C.relativeLuminance2(M,U,z));return(W<<24|H<<16|J<<8|255)>>>0}m.blend=function(D,k){if(p=(255&k)/255,p===1)return k;const R=k>>24&255,M=k>>16&255,U=k>>8&255,z=D>>24&255,W=D>>16&255,H=D>>8&255;return h=z+Math.round((R-z)*p),f=W+Math.round((M-W)*p),_=H+Math.round((U-H)*p),g.toRgba(h,f,_)},m.ensureContrastRatio=function(D,k,R){const M=C.relativeLuminance(D>>8),U=C.relativeLuminance(k>>8);if(y(M,U)<R){if(U<M){const H=x(D,k,R),J=y(M,C.relativeLuminance(H>>8));if(J<R){const se=A(D,k,R);return J>y(M,C.relativeLuminance(se>>8))?H:se}return H}const z=A(D,k,R),W=y(M,C.relativeLuminance(z>>8));if(W<R){const H=x(D,k,R);return W>y(M,C.relativeLuminance(H>>8))?z:H}return z}},m.reduceLuminance=x,m.increaseLuminance=A,m.toChannels=function(D){return[D>>24&255,D>>16&255,D>>8&255,255&D]}})(S||(c.rgba=S={})),c.toPaddedHex=b,c.contrastRatio=y},8969:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreTerminal=void 0;const f=h(844),_=h(2585),p=h(4348),g=h(7866),w=h(744),T=h(7302),C=h(6975),S=h(8460),b=h(1753),y=h(1480),m=h(7994),x=h(9282),A=h(5435),D=h(5981),k=h(2660);let R=!1;class M extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new S.EventEmitter),this._onScroll.event((z=>{this._onScrollApi?.fire(z.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(z){for(const W in z)this.optionsService.options[W]=z[W]}constructor(z){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new S.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new S.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new S.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new S.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new S.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new S.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new T.OptionsService(z)),this._instantiationService.setService(_.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(_.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(_.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(_.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(b.CoreMouseService)),this._instantiationService.setService(_.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(y.UnicodeService)),this._instantiationService.setService(_.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(m.CharsetService),this._instantiationService.setService(_.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(_.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new A.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,S.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,S.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,S.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,S.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((W=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((W=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new D.WriteBuffer(((W,H)=>this._inputHandler.parse(W,H)))),this.register((0,S.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(z,W){this._writeBuffer.write(z,W)}writeSync(z,W){this._logService.logLevel<=_.LogLevelEnum.WARN&&!R&&(this._logService.warn("writeSync is unreliable and will be removed soon."),R=!0),this._writeBuffer.writeSync(z,W)}input(z,W=!0){this.coreService.triggerDataEvent(z,W)}resize(z,W){isNaN(z)||isNaN(W)||(z=Math.max(z,w.MINIMUM_COLS),W=Math.max(W,w.MINIMUM_ROWS),this._bufferService.resize(z,W))}scroll(z,W=!1){this._bufferService.scroll(z,W)}scrollLines(z,W,H){this._bufferService.scrollLines(z,W,H)}scrollPages(z){this.scrollLines(z*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(z){const W=z-this._bufferService.buffer.ydisp;W!==0&&this.scrollLines(W)}registerEscHandler(z,W){return this._inputHandler.registerEscHandler(z,W)}registerDcsHandler(z,W){return this._inputHandler.registerDcsHandler(z,W)}registerCsiHandler(z,W){return this._inputHandler.registerCsiHandler(z,W)}registerOscHandler(z,W){return this._inputHandler.registerOscHandler(z,W)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let z=!1;const W=this.optionsService.rawOptions.windowsPty;W&&W.buildNumber!==void 0&&W.buildNumber!==void 0?z=W.backend==="conpty"&&W.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(z=!0),z?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const z=[];z.push(this.onLineFeed(x.updateWindowsModeWrappedState.bind(null,this._bufferService))),z.push(this.registerCsiHandler({final:"H"},(()=>((0,x.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)((()=>{for(const W of z)W.dispose()}))}}}c.CoreTerminal=M},8460:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.runAndSubscribe=c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=h=>(this._listeners.push(h),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===h)return void this._listeners.splice(f,1)}}})),this._event}fire(h,f){const _=[];for(let p=0;p<this._listeners.length;p++)_.push(this._listeners[p]);for(let p=0;p<_.length;p++)_[p].call(void 0,h,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(h,f){return h((_=>f.fire(_)))},c.runAndSubscribe=function(h,f){return f(void 0),h((_=>f(_)))}},5435:function(u,c,h){var f=this&&this.__decorate||function(Q,I,O,N){var F,X=arguments.length,re=X<3?I:N===null?N=Object.getOwnPropertyDescriptor(I,O):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Q,I,O,N);else for(var he=Q.length-1;he>=0;he--)(F=Q[he])&&(re=(X<3?F(re):X>3?F(I,O,re):F(I,O))||re);return X>3&&re&&Object.defineProperty(I,O,re),re},_=this&&this.__param||function(Q,I){return function(O,N){I(O,N,Q)}};Object.defineProperty(c,"__esModule",{value:!0}),c.InputHandler=c.WindowsOptionsReportType=void 0;const p=h(2584),g=h(7116),w=h(2015),T=h(844),C=h(482),S=h(8437),b=h(8460),y=h(643),m=h(511),x=h(3734),A=h(2585),D=h(1480),k=h(6242),R=h(6351),M=h(5941),U={"(":0,")":1,"*":2,"+":3,"-":1,".":2},z=131072;function W(Q,I){if(Q>24)return I.setWinLines||!1;switch(Q){case 1:return!!I.restoreWin;case 2:return!!I.minimizeWin;case 3:return!!I.setWinPosition;case 4:return!!I.setWinSizePixels;case 5:return!!I.raiseWin;case 6:return!!I.lowerWin;case 7:return!!I.refreshWin;case 8:return!!I.setWinSizeChars;case 9:return!!I.maximizeWin;case 10:return!!I.fullscreenWin;case 11:return!!I.getWinState;case 13:return!!I.getWinPosition;case 14:return!!I.getWinSizePixels;case 15:return!!I.getScreenSizePixels;case 16:return!!I.getCellSizePixels;case 18:return!!I.getWinSizeChars;case 19:return!!I.getScreenSizeChars;case 20:return!!I.getIconTitle;case 21:return!!I.getWinTitle;case 22:return!!I.pushTitle;case 23:return!!I.popTitle;case 24:return!!I.setWinLines}return!1}var H;(function(Q){Q[Q.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Q[Q.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H||(c.WindowsOptionsReportType=H={}));let J=0;class se extends T.Disposable{getAttrData(){return this._curAttrData}constructor(I,O,N,F,X,re,he,fe,Z=new w.EscapeSequenceParser){super(),this._bufferService=I,this._charsetService=O,this._coreService=N,this._logService=F,this._optionsService=X,this._oscLinkService=re,this._coreMouseService=he,this._unicodeService=fe,this._parser=Z,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new m.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=S.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=S.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new b.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new b.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new b.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new b.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new b.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new b.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new b.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new b.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new b.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new b.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new b.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new b.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new b.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new V(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((B=>this._activeBuffer=B.activeBuffer))),this._parser.setCsiHandlerFallback(((B,le)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:le.toArray()})})),this._parser.setEscHandlerFallback((B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})})),this._parser.setExecuteHandlerFallback((B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})})),this._parser.setOscHandlerFallback(((B,le,ue)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:le,data:ue})})),this._parser.setDcsHandlerFallback(((B,le,ue)=>{le==="HOOK"&&(ue=ue.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:le,payload:ue})})),this._parser.setPrintHandler(((B,le,ue)=>this.print(B,le,ue))),this._parser.registerCsiHandler({final:"@"},(B=>this.insertChars(B))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(B=>this.scrollLeft(B))),this._parser.registerCsiHandler({final:"A"},(B=>this.cursorUp(B))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(B=>this.scrollRight(B))),this._parser.registerCsiHandler({final:"B"},(B=>this.cursorDown(B))),this._parser.registerCsiHandler({final:"C"},(B=>this.cursorForward(B))),this._parser.registerCsiHandler({final:"D"},(B=>this.cursorBackward(B))),this._parser.registerCsiHandler({final:"E"},(B=>this.cursorNextLine(B))),this._parser.registerCsiHandler({final:"F"},(B=>this.cursorPrecedingLine(B))),this._parser.registerCsiHandler({final:"G"},(B=>this.cursorCharAbsolute(B))),this._parser.registerCsiHandler({final:"H"},(B=>this.cursorPosition(B))),this._parser.registerCsiHandler({final:"I"},(B=>this.cursorForwardTab(B))),this._parser.registerCsiHandler({final:"J"},(B=>this.eraseInDisplay(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(B=>this.eraseInDisplay(B,!0))),this._parser.registerCsiHandler({final:"K"},(B=>this.eraseInLine(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(B=>this.eraseInLine(B,!0))),this._parser.registerCsiHandler({final:"L"},(B=>this.insertLines(B))),this._parser.registerCsiHandler({final:"M"},(B=>this.deleteLines(B))),this._parser.registerCsiHandler({final:"P"},(B=>this.deleteChars(B))),this._parser.registerCsiHandler({final:"S"},(B=>this.scrollUp(B))),this._parser.registerCsiHandler({final:"T"},(B=>this.scrollDown(B))),this._parser.registerCsiHandler({final:"X"},(B=>this.eraseChars(B))),this._parser.registerCsiHandler({final:"Z"},(B=>this.cursorBackwardTab(B))),this._parser.registerCsiHandler({final:"`"},(B=>this.charPosAbsolute(B))),this._parser.registerCsiHandler({final:"a"},(B=>this.hPositionRelative(B))),this._parser.registerCsiHandler({final:"b"},(B=>this.repeatPrecedingCharacter(B))),this._parser.registerCsiHandler({final:"c"},(B=>this.sendDeviceAttributesPrimary(B))),this._parser.registerCsiHandler({prefix:">",final:"c"},(B=>this.sendDeviceAttributesSecondary(B))),this._parser.registerCsiHandler({final:"d"},(B=>this.linePosAbsolute(B))),this._parser.registerCsiHandler({final:"e"},(B=>this.vPositionRelative(B))),this._parser.registerCsiHandler({final:"f"},(B=>this.hVPosition(B))),this._parser.registerCsiHandler({final:"g"},(B=>this.tabClear(B))),this._parser.registerCsiHandler({final:"h"},(B=>this.setMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(B=>this.setModePrivate(B))),this._parser.registerCsiHandler({final:"l"},(B=>this.resetMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(B=>this.resetModePrivate(B))),this._parser.registerCsiHandler({final:"m"},(B=>this.charAttributes(B))),this._parser.registerCsiHandler({final:"n"},(B=>this.deviceStatus(B))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(B=>this.deviceStatusPrivate(B))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(B=>this.softReset(B))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(B=>this.setCursorStyle(B))),this._parser.registerCsiHandler({final:"r"},(B=>this.setScrollRegion(B))),this._parser.registerCsiHandler({final:"s"},(B=>this.saveCursor(B))),this._parser.registerCsiHandler({final:"t"},(B=>this.windowOptions(B))),this._parser.registerCsiHandler({final:"u"},(B=>this.restoreCursor(B))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(B=>this.insertColumns(B))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(B=>this.deleteColumns(B))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(B=>this.selectProtected(B))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(B=>this.requestMode(B,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(B=>this.requestMode(B,!1))),this._parser.setExecuteHandler(p.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(p.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(p.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(p.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(p.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(p.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(p.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(p.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(p.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(p.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(p.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(p.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new k.OscHandler((B=>(this.setTitle(B),this.setIconName(B),!0)))),this._parser.registerOscHandler(1,new k.OscHandler((B=>this.setIconName(B)))),this._parser.registerOscHandler(2,new k.OscHandler((B=>this.setTitle(B)))),this._parser.registerOscHandler(4,new k.OscHandler((B=>this.setOrReportIndexedColor(B)))),this._parser.registerOscHandler(8,new k.OscHandler((B=>this.setHyperlink(B)))),this._parser.registerOscHandler(10,new k.OscHandler((B=>this.setOrReportFgColor(B)))),this._parser.registerOscHandler(11,new k.OscHandler((B=>this.setOrReportBgColor(B)))),this._parser.registerOscHandler(12,new k.OscHandler((B=>this.setOrReportCursorColor(B)))),this._parser.registerOscHandler(104,new k.OscHandler((B=>this.restoreIndexedColor(B)))),this._parser.registerOscHandler(110,new k.OscHandler((B=>this.restoreFgColor(B)))),this._parser.registerOscHandler(111,new k.OscHandler((B=>this.restoreBgColor(B)))),this._parser.registerOscHandler(112,new k.OscHandler((B=>this.restoreCursorColor(B)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const B in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},(()=>this.selectCharset("("+B))),this._parser.registerEscHandler({intermediates:")",final:B},(()=>this.selectCharset(")"+B))),this._parser.registerEscHandler({intermediates:"*",final:B},(()=>this.selectCharset("*"+B))),this._parser.registerEscHandler({intermediates:"+",final:B},(()=>this.selectCharset("+"+B))),this._parser.registerEscHandler({intermediates:"-",final:B},(()=>this.selectCharset("-"+B))),this._parser.registerEscHandler({intermediates:".",final:B},(()=>this.selectCharset("."+B))),this._parser.registerEscHandler({intermediates:"/",final:B},(()=>this.selectCharset("/"+B)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((B=>(this._logService.error("Parsing error: ",B),B))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new R.DcsHandler(((B,le)=>this.requestStatusString(B,le))))}_preserveStack(I,O,N,F){this._parseStack.paused=!0,this._parseStack.cursorStartX=I,this._parseStack.cursorStartY=O,this._parseStack.decodedLength=N,this._parseStack.position=F}_logSlowResolvingAsync(I){this._logService.logLevel<=A.LogLevelEnum.WARN&&Promise.race([I,new Promise(((O,N)=>setTimeout((()=>N("#SLOW_TIMEOUT")),5e3)))]).catch((O=>{if(O!=="#SLOW_TIMEOUT")throw O;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(I,O){let N,F=this._activeBuffer.x,X=this._activeBuffer.y,re=0;const he=this._parseStack.paused;if(he){if(N=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,O))return this._logSlowResolvingAsync(N),N;F=this._parseStack.cursorStartX,X=this._parseStack.cursorStartY,this._parseStack.paused=!1,I.length>z&&(re=this._parseStack.position+z)}if(this._logService.logLevel<=A.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof I=="string"?` "${I}"`:` "${Array.prototype.map.call(I,(B=>String.fromCharCode(B))).join("")}"`),typeof I=="string"?I.split("").map((B=>B.charCodeAt(0))):I),this._parseBuffer.length<I.length&&this._parseBuffer.length<z&&(this._parseBuffer=new Uint32Array(Math.min(I.length,z))),he||this._dirtyRowTracker.clearRange(),I.length>z)for(let B=re;B<I.length;B+=z){const le=B+z<I.length?B+z:I.length,ue=typeof I=="string"?this._stringDecoder.decode(I.substring(B,le),this._parseBuffer):this._utf8Decoder.decode(I.subarray(B,le),this._parseBuffer);if(N=this._parser.parse(this._parseBuffer,ue))return this._preserveStack(F,X,ue,B),this._logSlowResolvingAsync(N),N}else if(!he){const B=typeof I=="string"?this._stringDecoder.decode(I,this._parseBuffer):this._utf8Decoder.decode(I,this._parseBuffer);if(N=this._parser.parse(this._parseBuffer,B))return this._preserveStack(F,X,B,0),this._logSlowResolvingAsync(N),N}this._activeBuffer.x===F&&this._activeBuffer.y===X||this._onCursorMove.fire();const fe=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),Z=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);Z<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(Z,this._bufferService.rows-1),Math.min(fe,this._bufferService.rows-1))}print(I,O,N){let F,X;const re=this._charsetService.charset,he=this._optionsService.rawOptions.screenReaderMode,fe=this._bufferService.cols,Z=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,le=this._curAttrData;let ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&N-O>0&&ue.getWidth(this._activeBuffer.x-1)===2&&ue.setCellFromCodepoint(this._activeBuffer.x-1,0,1,le);let pe=this._parser.precedingJoinState;for(let _e=O;_e<N;++_e){if(F=I[_e],F<127&&re){const qt=re[String.fromCharCode(F)];qt&&(F=qt.charCodeAt(0))}const Re=this._unicodeService.charProperties(F,pe);X=D.UnicodeService.extractWidth(Re);const Ye=D.UnicodeService.extractShouldJoin(Re),et=Ye?D.UnicodeService.extractWidth(pe):0;if(pe=Re,he&&this._onA11yChar.fire((0,C.stringFromCodePoint)(F)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+X-et>fe){if(Z){const qt=ue;let ve=this._activeBuffer.x-et;for(this._activeBuffer.x=et,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),et>0&&ue instanceof S.BufferLine&&ue.copyCellsFrom(qt,ve,0,et,!1);ve<fe;)qt.setCellFromCodepoint(ve++,0,1,le)}else if(this._activeBuffer.x=fe-1,X===2)continue}if(Ye&&this._activeBuffer.x){const qt=ue.getWidth(this._activeBuffer.x-1)?1:2;ue.addCodepointToCell(this._activeBuffer.x-qt,F,X);for(let ve=X-et;--ve>=0;)ue.setCellFromCodepoint(this._activeBuffer.x++,0,0,le)}else if(B&&(ue.insertCells(this._activeBuffer.x,X-et,this._activeBuffer.getNullCell(le)),ue.getWidth(fe-1)===2&&ue.setCellFromCodepoint(fe-1,y.NULL_CELL_CODE,y.NULL_CELL_WIDTH,le)),ue.setCellFromCodepoint(this._activeBuffer.x++,F,X,le),X>0)for(;--X;)ue.setCellFromCodepoint(this._activeBuffer.x++,0,0,le)}this._parser.precedingJoinState=pe,this._activeBuffer.x<fe&&N-O>0&&ue.getWidth(this._activeBuffer.x)===0&&!ue.hasContent(this._activeBuffer.x)&&ue.setCellFromCodepoint(this._activeBuffer.x,0,1,le),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(I,O){return I.final!=="t"||I.prefix||I.intermediates?this._parser.registerCsiHandler(I,O):this._parser.registerCsiHandler(I,(N=>!W(N.params[0],this._optionsService.rawOptions.windowOptions)||O(N)))}registerDcsHandler(I,O){return this._parser.registerDcsHandler(I,new R.DcsHandler(O))}registerEscHandler(I,O){return this._parser.registerEscHandler(I,O)}registerOscHandler(I,O){return this._parser.registerOscHandler(I,new k.OscHandler(O))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const I=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-I),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(I=this._bufferService.cols-1){this._activeBuffer.x=Math.min(I,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(I,O){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=I,this._activeBuffer.y=this._activeBuffer.scrollTop+O):(this._activeBuffer.x=I,this._activeBuffer.y=O),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(I,O){this._restrictCursor(),this._setCursor(this._activeBuffer.x+I,this._activeBuffer.y+O)}cursorUp(I){const O=this._activeBuffer.y-this._activeBuffer.scrollTop;return O>=0?this._moveCursor(0,-Math.min(O,I.params[0]||1)):this._moveCursor(0,-(I.params[0]||1)),!0}cursorDown(I){const O=this._activeBuffer.scrollBottom-this._activeBuffer.y;return O>=0?this._moveCursor(0,Math.min(O,I.params[0]||1)):this._moveCursor(0,I.params[0]||1),!0}cursorForward(I){return this._moveCursor(I.params[0]||1,0),!0}cursorBackward(I){return this._moveCursor(-(I.params[0]||1),0),!0}cursorNextLine(I){return this.cursorDown(I),this._activeBuffer.x=0,!0}cursorPrecedingLine(I){return this.cursorUp(I),this._activeBuffer.x=0,!0}cursorCharAbsolute(I){return this._setCursor((I.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(I){return this._setCursor(I.length>=2?(I.params[1]||1)-1:0,(I.params[0]||1)-1),!0}charPosAbsolute(I){return this._setCursor((I.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(I){return this._moveCursor(I.params[0]||1,0),!0}linePosAbsolute(I){return this._setCursor(this._activeBuffer.x,(I.params[0]||1)-1),!0}vPositionRelative(I){return this._moveCursor(0,I.params[0]||1),!0}hVPosition(I){return this.cursorPosition(I),!0}tabClear(I){const O=I.params[0];return O===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:O===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(I){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let O=I.params[0]||1;for(;O--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(I){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let O=I.params[0]||1;for(;O--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(I){const O=I.params[0];return O===1&&(this._curAttrData.bg|=536870912),O!==2&&O!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(I,O,N,F=!1,X=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);re.replaceCells(O,N,this._activeBuffer.getNullCell(this._eraseAttrData()),X),F&&(re.isWrapped=!1)}_resetBufferLine(I,O=!1){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);N&&(N.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),O),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+I),N.isWrapped=!1)}eraseInDisplay(I,O=!1){let N;switch(this._restrictCursor(this._bufferService.cols),I.params[0]){case 0:for(N=this._activeBuffer.y,this._dirtyRowTracker.markDirty(N),this._eraseInBufferLine(N++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,O);N<this._bufferService.rows;N++)this._resetBufferLine(N,O);this._dirtyRowTracker.markDirty(N);break;case 1:for(N=this._activeBuffer.y,this._dirtyRowTracker.markDirty(N),this._eraseInBufferLine(N,0,this._activeBuffer.x+1,!0,O),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(N+1).isWrapped=!1);N--;)this._resetBufferLine(N,O);this._dirtyRowTracker.markDirty(0);break;case 2:for(N=this._bufferService.rows,this._dirtyRowTracker.markDirty(N-1);N--;)this._resetBufferLine(N,O);this._dirtyRowTracker.markDirty(0);break;case 3:const F=this._activeBuffer.lines.length-this._bufferService.rows;F>0&&(this._activeBuffer.lines.trimStart(F),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-F,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-F,0),this._onScroll.fire(0))}return!0}eraseInLine(I,O=!1){switch(this._restrictCursor(this._bufferService.cols),I.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,O);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,O);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,O)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(I){this._restrictCursor();let O=I.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=this._activeBuffer.ybase+this._activeBuffer.y,F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,X=this._bufferService.rows-1+this._activeBuffer.ybase-F+1;for(;O--;)this._activeBuffer.lines.splice(X-1,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(I){this._restrictCursor();let O=I.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=this._activeBuffer.ybase+this._activeBuffer.y;let F;for(F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-F;O--;)this._activeBuffer.lines.splice(N,1),this._activeBuffer.lines.splice(F,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(I){this._restrictCursor();const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.insertCells(this._activeBuffer.x,I.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(I){this._restrictCursor();const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.deleteCells(this._activeBuffer.x,I.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(I){let O=I.params[0]||1;for(;O--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(I){let O=I.params[0]||1;for(;O--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(S.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=I.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);F.deleteCells(0,O,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=I.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);F.insertCells(0,O,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=I.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);F.insertCells(this._activeBuffer.x,O,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=I.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);F.deleteCells(this._activeBuffer.x,O,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(I){this._restrictCursor();const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(I.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(I){const O=this._parser.precedingJoinState;if(!O)return!0;const N=I.params[0]||1,F=D.UnicodeService.extractWidth(O),X=this._activeBuffer.x-F,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(X),he=new Uint32Array(re.length*N);let fe=0;for(let B=0;B<re.length;){const le=re.codePointAt(B)||0;he[fe++]=le,B+=le>65535?2:1}let Z=fe;for(let B=1;B<N;++B)he.copyWithin(Z,0,fe),Z+=fe;return this.print(he,0,Z),!0}sendDeviceAttributesPrimary(I){return I.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(I){return I.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(I.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(I){return(this._optionsService.rawOptions.termName+"").indexOf(I)===0}setMode(I){for(let O=0;O<I.length;O++)switch(I.params[O]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(I){for(let O=0;O<I.length;O++)switch(I.params[O]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(I){for(let O=0;O<I.length;O++)switch(I.params[O]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(I){for(let O=0;O<I.length;O++)switch(I.params[O]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),I.params[O]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(I,O){const N=this._coreService.decPrivateModes,{activeProtocol:F,activeEncoding:X}=this._coreMouseService,re=this._coreService,{buffers:he,cols:fe}=this._bufferService,{active:Z,alt:B}=he,le=this._optionsService.rawOptions,ue=Ye=>Ye?1:2,pe=I.params[0];return _e=pe,Re=O?pe===2?4:pe===4?ue(re.modes.insertMode):pe===12?3:pe===20?ue(le.convertEol):0:pe===1?ue(N.applicationCursorKeys):pe===3?le.windowOptions.setWinLines?fe===80?2:fe===132?1:0:0:pe===6?ue(N.origin):pe===7?ue(N.wraparound):pe===8?3:pe===9?ue(F==="X10"):pe===12?ue(le.cursorBlink):pe===25?ue(!re.isCursorHidden):pe===45?ue(N.reverseWraparound):pe===66?ue(N.applicationKeypad):pe===67?4:pe===1e3?ue(F==="VT200"):pe===1002?ue(F==="DRAG"):pe===1003?ue(F==="ANY"):pe===1004?ue(N.sendFocus):pe===1005?4:pe===1006?ue(X==="SGR"):pe===1015?4:pe===1016?ue(X==="SGR_PIXELS"):pe===1048?1:pe===47||pe===1047||pe===1049?ue(Z===B):pe===2004?ue(N.bracketedPasteMode):0,re.triggerDataEvent(`${p.C0.ESC}[${O?"":"?"}${_e};${Re}$y`),!0;var _e,Re}_updateAttrColor(I,O,N,F,X){return O===2?(I|=50331648,I&=-16777216,I|=x.AttributeData.fromColorRGB([N,F,X])):O===5&&(I&=-50331904,I|=33554432|255&N),I}_extractColor(I,O,N){const F=[0,0,-1,0,0,0];let X=0,re=0;do{if(F[re+X]=I.params[O+re],I.hasSubParams(O+re)){const he=I.getSubParams(O+re);let fe=0;do F[1]===5&&(X=1),F[re+fe+1+X]=he[fe];while(++fe<he.length&&fe+re+1+X<F.length);break}if(F[1]===5&&re+X>=2||F[1]===2&&re+X>=5)break;F[1]&&(X=1)}while(++re+O<I.length&&re+X<F.length);for(let he=2;he<F.length;++he)F[he]===-1&&(F[he]=0);switch(F[0]){case 38:N.fg=this._updateAttrColor(N.fg,F[1],F[3],F[4],F[5]);break;case 48:N.bg=this._updateAttrColor(N.bg,F[1],F[3],F[4],F[5]);break;case 58:N.extended=N.extended.clone(),N.extended.underlineColor=this._updateAttrColor(N.extended.underlineColor,F[1],F[3],F[4],F[5])}return re}_processUnderline(I,O){O.extended=O.extended.clone(),(!~I||I>5)&&(I=1),O.extended.underlineStyle=I,O.fg|=268435456,I===0&&(O.fg&=-268435457),O.updateExtended()}_processSGR0(I){I.fg=S.DEFAULT_ATTR_DATA.fg,I.bg=S.DEFAULT_ATTR_DATA.bg,I.extended=I.extended.clone(),I.extended.underlineStyle=0,I.extended.underlineColor&=-67108864,I.updateExtended()}charAttributes(I){if(I.length===1&&I.params[0]===0)return this._processSGR0(this._curAttrData),!0;const O=I.length;let N;const F=this._curAttrData;for(let X=0;X<O;X++)N=I.params[X],N>=30&&N<=37?(F.fg&=-50331904,F.fg|=16777216|N-30):N>=40&&N<=47?(F.bg&=-50331904,F.bg|=16777216|N-40):N>=90&&N<=97?(F.fg&=-50331904,F.fg|=16777224|N-90):N>=100&&N<=107?(F.bg&=-50331904,F.bg|=16777224|N-100):N===0?this._processSGR0(F):N===1?F.fg|=134217728:N===3?F.bg|=67108864:N===4?(F.fg|=268435456,this._processUnderline(I.hasSubParams(X)?I.getSubParams(X)[0]:1,F)):N===5?F.fg|=536870912:N===7?F.fg|=67108864:N===8?F.fg|=1073741824:N===9?F.fg|=2147483648:N===2?F.bg|=134217728:N===21?this._processUnderline(2,F):N===22?(F.fg&=-134217729,F.bg&=-134217729):N===23?F.bg&=-67108865:N===24?(F.fg&=-268435457,this._processUnderline(0,F)):N===25?F.fg&=-536870913:N===27?F.fg&=-67108865:N===28?F.fg&=-1073741825:N===29?F.fg&=2147483647:N===39?(F.fg&=-67108864,F.fg|=16777215&S.DEFAULT_ATTR_DATA.fg):N===49?(F.bg&=-67108864,F.bg|=16777215&S.DEFAULT_ATTR_DATA.bg):N===38||N===48||N===58?X+=this._extractColor(I,X,F):N===53?F.bg|=1073741824:N===55?F.bg&=-1073741825:N===59?(F.extended=F.extended.clone(),F.extended.underlineColor=-1,F.updateExtended()):N===100?(F.fg&=-67108864,F.fg|=16777215&S.DEFAULT_ATTR_DATA.fg,F.bg&=-67108864,F.bg|=16777215&S.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",N);return!0}deviceStatus(I){switch(I.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:const O=this._activeBuffer.y+1,N=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[${O};${N}R`)}return!0}deviceStatusPrivate(I){if(I.params[0]===6){const O=this._activeBuffer.y+1,N=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[?${O};${N}R`)}return!0}softReset(I){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=S.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(I){const O=I.params[0]||1;switch(O){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const N=O%2==1;return this._optionsService.options.cursorBlink=N,!0}setScrollRegion(I){const O=I.params[0]||1;let N;return(I.length<2||(N=I.params[1])>this._bufferService.rows||N===0)&&(N=this._bufferService.rows),N>O&&(this._activeBuffer.scrollTop=O-1,this._activeBuffer.scrollBottom=N-1,this._setCursor(0,0)),!0}windowOptions(I){if(!W(I.params[0],this._optionsService.rawOptions.windowOptions))return!0;const O=I.length>1?I.params[1]:0;switch(I.params[0]){case 14:O!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:O!==0&&O!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),O!==0&&O!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:O!==0&&O!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),O!==0&&O!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(I){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(I){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(I){return this._windowTitle=I,this._onTitleChange.fire(I),!0}setIconName(I){return this._iconName=I,!0}setOrReportIndexedColor(I){const O=[],N=I.split(";");for(;N.length>1;){const F=N.shift(),X=N.shift();if(/^\d+$/.exec(F)){const re=parseInt(F);if($(re))if(X==="?")O.push({type:0,index:re});else{const he=(0,M.parseColor)(X);he&&O.push({type:1,index:re,color:he})}}}return O.length&&this._onColor.fire(O),!0}setHyperlink(I){const O=I.split(";");return!(O.length<2)&&(O[1]?this._createHyperlink(O[0],O[1]):!O[0]&&this._finishHyperlink())}_createHyperlink(I,O){this._getCurrentLinkId()&&this._finishHyperlink();const N=I.split(":");let F;const X=N.findIndex((re=>re.startsWith("id=")));return X!==-1&&(F=N[X].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:F,uri:O}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(I,O){const N=I.split(";");for(let F=0;F<N.length&&!(O>=this._specialColors.length);++F,++O)if(N[F]==="?")this._onColor.fire([{type:0,index:this._specialColors[O]}]);else{const X=(0,M.parseColor)(N[F]);X&&this._onColor.fire([{type:1,index:this._specialColors[O],color:X}])}return!0}setOrReportFgColor(I){return this._setOrReportSpecialColor(I,0)}setOrReportBgColor(I){return this._setOrReportSpecialColor(I,1)}setOrReportCursorColor(I){return this._setOrReportSpecialColor(I,2)}restoreIndexedColor(I){if(!I)return this._onColor.fire([{type:2}]),!0;const O=[],N=I.split(";");for(let F=0;F<N.length;++F)if(/^\d+$/.exec(N[F])){const X=parseInt(N[F]);$(X)&&O.push({type:2,index:X})}return O.length&&this._onColor.fire(O),!0}restoreFgColor(I){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(I){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(I){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(I){return I.length!==2?(this.selectDefaultCharset(),!0):(I[0]==="/"||this._charsetService.setgCharset(U[I[0]],g.CHARSETS[I[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const I=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,I,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=S.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=S.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(I){return this._charsetService.setgLevel(I),!0}screenAlignmentPattern(){const I=new m.CellData;I.content=4194373,I.fg=this._curAttrData.fg,I.bg=this._curAttrData.bg,this._setCursor(0,0);for(let O=0;O<this._bufferService.rows;++O){const N=this._activeBuffer.ybase+this._activeBuffer.y+O,F=this._activeBuffer.lines.get(N);F&&(F.fill(I),F.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(I,O){const N=this._bufferService.buffer,F=this._optionsService.rawOptions;return(X=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${X}${p.C0.ESC}\\`),!0))(I==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:I==='"p'?'P1$r61;1"p':I==="r"?`P1$r${N.scrollTop+1};${N.scrollBottom+1}r`:I==="m"?"P1$r0m":I===" q"?`P1$r${{block:2,underline:4,bar:6}[F.cursorStyle]-(F.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(I,O){this._dirtyRowTracker.markRangeDirty(I,O)}}c.InputHandler=se;let V=class{constructor(Q){this._bufferService=Q,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Q){Q<this.start?this.start=Q:Q>this.end&&(this.end=Q)}markRangeDirty(Q,I){Q>I&&(J=Q,Q=I,I=J),Q<this.start&&(this.start=Q),I>this.end&&(this.end=I)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function $(Q){return 0<=Q&&Q<256}V=f([_(0,A.IBufferService)],V)},844:(u,c)=>{function h(f){for(const _ of f)_.dispose();f.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const _=this._disposables.indexOf(f);_!==-1&&this._disposables.splice(_,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){this._isDisposed||f===this._value||(this._value?.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},c.toDisposable=function(f){return{dispose:f}},c.disposeArray=h,c.getDisposeArrayDisposable=function(f){return{dispose:()=>h(f)}}},1505:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FourKeyMap=c.TwoKeyMap=void 0;class h{constructor(){this._data={}}set(_,p,g){this._data[_]||(this._data[_]={}),this._data[_][p]=g}get(_,p){return this._data[_]?this._data[_][p]:void 0}clear(){this._data={}}}c.TwoKeyMap=h,c.FourKeyMap=class{constructor(){this._data=new h}set(f,_,p,g,w){this._data.get(f,_)||this._data.set(f,_,new h),this._data.get(f,_).set(p,g,w)}get(f,_,p,g){return this._data.get(f,_)?.get(p,g)}clear(){this._data.clear()}}},6114:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isChromeOS=c.isLinux=c.isWindows=c.isIphone=c.isIpad=c.isMac=c.getSafariVersion=c.isSafari=c.isLegacyEdge=c.isFirefox=c.isNode=void 0,c.isNode=typeof process<"u"&&"title"in process;const h=c.isNode?"node":navigator.userAgent,f=c.isNode?"node":navigator.platform;c.isFirefox=h.includes("Firefox"),c.isLegacyEdge=h.includes("Edge"),c.isSafari=/^((?!chrome|android).)*safari/i.test(h),c.getSafariVersion=function(){if(!c.isSafari)return 0;const _=h.match(/Version\/(\d+)/);return _===null||_.length<2?0:parseInt(_[1])},c.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),c.isIpad=f==="iPad",c.isIphone=f==="iPhone",c.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),c.isLinux=f.indexOf("Linux")>=0,c.isChromeOS=/\bCrOS\b/.test(h)},6106:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SortedList=void 0;let h=0;c.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(h=this._search(this._getKey(f)),this._array.splice(h,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const _=this._getKey(f);if(_===void 0||(h=this._search(_),h===-1)||this._getKey(this._array[h])!==_)return!1;do if(this._array[h]===f)return this._array.splice(h,1),!0;while(++h<this._array.length&&this._getKey(this._array[h])===_);return!1}*getKeyIterator(f){if(this._array.length!==0&&(h=this._search(f),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===f))do yield this._array[h];while(++h<this._array.length&&this._getKey(this._array[h])===f)}forEachByKey(f,_){if(this._array.length!==0&&(h=this._search(f),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===f))do _(this._array[h]);while(++h<this._array.length&&this._getKey(this._array[h])===f)}values(){return[...this._array].values()}_search(f){let _=0,p=this._array.length-1;for(;p>=_;){let g=_+p>>1;const w=this._getKey(this._array[g]);if(w>f)p=g-1;else{if(!(w<f)){for(;g>0&&this._getKey(this._array[g-1])===f;)g--;return g}_=g+1}}return _}}},7226:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DebouncedIdleTask=c.IdleTaskQueue=c.PriorityTaskQueue=void 0;const f=h(6114);class _{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let T=0,C=0,S=w.timeRemaining(),b=0;for(;this._i<this._tasks.length;){if(T=Date.now(),this._tasks[this._i]()||this._i++,T=Math.max(1,Date.now()-T),C=Math.max(T,C),b=w.timeRemaining(),1.5*C>b)return S-T<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(S-T))}ms`),void this._start();S=b}this.clear()}}class p extends _{_requestCallback(w){return setTimeout((()=>w(this._createDeadline(16))))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const T=Date.now()+w;return{timeRemaining:()=>Math.max(0,T-Date.now())}}}c.PriorityTaskQueue=p,c.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends _{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:p,c.DebouncedIdleTask=class{constructor(){this._queue=new c.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.updateWindowsModeWrappedState=void 0;const f=h(643);c.updateWindowsModeWrappedState=function(_){const p=_.buffer.lines.get(_.buffer.ybase+_.buffer.y-1),g=p?.get(_.cols-1),w=_.buffer.lines.get(_.buffer.ybase+_.buffer.y);w&&g&&(w.isWrapped=g[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&g[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExtendedAttrs=c.AttributeData=void 0;class h{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new h;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}c.AttributeData=h;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}get underlineVariantOffset(){const p=(3758096384&this._ext)>>29;return p<0?4294967288^p:p}set underlineVariantOffset(p){this._ext&=536870911,this._ext|=p<<29&3758096384}constructor(p=0,g=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=g}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}c.ExtendedAttrs=f},9092:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Buffer=c.MAX_BUFFER_SIZE=void 0;const f=h(6349),_=h(7226),p=h(3734),g=h(8437),w=h(4634),T=h(511),C=h(643),S=h(4863),b=h(7116);c.MAX_BUFFER_SIZE=4294967295,c.Buffer=class{constructor(y,m,x){this._hasScrollback=y,this._optionsService=m,this._bufferService=x,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=b.DEFAULT_CHARSET,this.markers=[],this._nullCell=T.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=T.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new _.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(y){return y?(this._nullCell.fg=y.fg,this._nullCell.bg=y.bg,this._nullCell.extended=y.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new p.ExtendedAttrs),this._nullCell}getWhitespaceCell(y){return y?(this._whitespaceCell.fg=y.fg,this._whitespaceCell.bg=y.bg,this._whitespaceCell.extended=y.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new p.ExtendedAttrs),this._whitespaceCell}getBlankLine(y,m){return new g.BufferLine(this._bufferService.cols,this.getNullCell(y),m)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const y=this.ybase+this.y-this.ydisp;return y>=0&&y<this._rows}_getCorrectBufferLength(y){if(!this._hasScrollback)return y;const m=y+this._optionsService.rawOptions.scrollback;return m>c.MAX_BUFFER_SIZE?c.MAX_BUFFER_SIZE:m}fillViewportRows(y){if(this.lines.length===0){y===void 0&&(y=g.DEFAULT_ATTR_DATA);let m=this._rows;for(;m--;)this.lines.push(this.getBlankLine(y))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(y,m){const x=this.getNullCell(g.DEFAULT_ATTR_DATA);let A=0;const D=this._getCorrectBufferLength(m);if(D>this.lines.maxLength&&(this.lines.maxLength=D),this.lines.length>0){if(this._cols<y)for(let R=0;R<this.lines.length;R++)A+=+this.lines.get(R).resize(y,x);let k=0;if(this._rows<m)for(let R=this._rows;R<m;R++)this.lines.length<m+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(y,x)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(y,x)));else for(let R=this._rows;R>m;R--)this.lines.length>m+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(D<this.lines.maxLength){const R=this.lines.length-D;R>0&&(this.lines.trimStart(R),this.ybase=Math.max(this.ybase-R,0),this.ydisp=Math.max(this.ydisp-R,0),this.savedY=Math.max(this.savedY-R,0)),this.lines.maxLength=D}this.x=Math.min(this.x,y-1),this.y=Math.min(this.y,m-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,y-1),this.scrollTop=0}if(this.scrollBottom=m-1,this._isReflowEnabled&&(this._reflow(y,m),this._cols>y))for(let k=0;k<this.lines.length;k++)A+=+this.lines.get(k).resize(y,x);this._cols=y,this._rows=m,this._memoryCleanupQueue.clear(),A>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let y=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,y=!1);let m=0;for(;this._memoryCleanupPosition<this.lines.length;)if(m+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),m>100)return!0;return y}get _isReflowEnabled(){const y=this._optionsService.rawOptions.windowsPty;return y&&y.buildNumber?this._hasScrollback&&y.backend==="conpty"&&y.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(y,m){this._cols!==y&&(y>this._cols?this._reflowLarger(y,m):this._reflowSmaller(y,m))}_reflowLarger(y,m){const x=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,y,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(x.length>0){const A=(0,w.reflowLargerCreateNewLayout)(this.lines,x);(0,w.reflowLargerApplyNewLayout)(this.lines,A.layout),this._reflowLargerAdjustViewport(y,m,A.countRemoved)}}_reflowLargerAdjustViewport(y,m,x){const A=this.getNullCell(g.DEFAULT_ATTR_DATA);let D=x;for(;D-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<m&&this.lines.push(new g.BufferLine(y,A))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-x,0)}_reflowSmaller(y,m){const x=this.getNullCell(g.DEFAULT_ATTR_DATA),A=[];let D=0;for(let k=this.lines.length-1;k>=0;k--){let R=this.lines.get(k);if(!R||!R.isWrapped&&R.getTrimmedLength()<=y)continue;const M=[R];for(;R.isWrapped&&k>0;)R=this.lines.get(--k),M.unshift(R);const U=this.ybase+this.y;if(U>=k&&U<k+M.length)continue;const z=M[M.length-1].getTrimmedLength(),W=(0,w.reflowSmallerGetNewLineLengths)(M,this._cols,y),H=W.length-M.length;let J;J=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+H):Math.max(0,this.lines.length-this.lines.maxLength+H);const se=[];for(let N=0;N<H;N++){const F=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);se.push(F)}se.length>0&&(A.push({start:k+M.length+D,newLines:se}),D+=se.length),M.push(...se);let V=W.length-1,$=W[V];$===0&&(V--,$=W[V]);let Q=M.length-H-1,I=z;for(;Q>=0;){const N=Math.min(I,$);if(M[V]===void 0)break;if(M[V].copyCellsFrom(M[Q],I-N,$-N,N,!0),$-=N,$===0&&(V--,$=W[V]),I-=N,I===0){Q--;const F=Math.max(Q,0);I=(0,w.getWrappedLineTrimmedLength)(M,F,this._cols)}}for(let N=0;N<M.length;N++)W[N]<y&&M[N].setCell(W[N],x);let O=H-J;for(;O-- >0;)this.ybase===0?this.y<m-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+D)-m&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+H,this.ybase+m-1)}if(A.length>0){const k=[],R=[];for(let V=0;V<this.lines.length;V++)R.push(this.lines.get(V));const M=this.lines.length;let U=M-1,z=0,W=A[z];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+D);let H=0;for(let V=Math.min(this.lines.maxLength-1,M+D-1);V>=0;V--)if(W&&W.start>U+H){for(let $=W.newLines.length-1;$>=0;$--)this.lines.set(V--,W.newLines[$]);V++,k.push({index:U+1,amount:W.newLines.length}),H+=W.newLines.length,W=A[++z]}else this.lines.set(V,R[U--]);let J=0;for(let V=k.length-1;V>=0;V--)k[V].index+=J,this.lines.onInsertEmitter.fire(k[V]),J+=k[V].amount;const se=Math.max(0,M+D-this.lines.maxLength);se>0&&this.lines.onTrimEmitter.fire(se)}}translateBufferLineToString(y,m,x=0,A){const D=this.lines.get(y);return D?D.translateToString(m,x,A):""}getWrappedRangeForLine(y){let m=y,x=y;for(;m>0&&this.lines.get(m).isWrapped;)m--;for(;x+1<this.lines.length&&this.lines.get(x+1).isWrapped;)x++;return{first:m,last:x}}setupTabStops(y){for(y!=null?this.tabs[y]||(y=this.prevStop(y)):(this.tabs={},y=0);y<this._cols;y+=this._optionsService.rawOptions.tabStopWidth)this.tabs[y]=!0}prevStop(y){for(y==null&&(y=this.x);!this.tabs[--y]&&y>0;);return y>=this._cols?this._cols-1:y<0?0:y}nextStop(y){for(y==null&&(y=this.x);!this.tabs[++y]&&y<this._cols;);return y>=this._cols?this._cols-1:y<0?0:y}clearMarkers(y){this._isClearing=!0;for(let m=0;m<this.markers.length;m++)this.markers[m].line===y&&(this.markers[m].dispose(),this.markers.splice(m--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].dispose(),this.markers.splice(y--,1);this._isClearing=!1}addMarker(y){const m=new S.Marker(y);return this.markers.push(m),m.register(this.lines.onTrim((x=>{m.line-=x,m.line<0&&m.dispose()}))),m.register(this.lines.onInsert((x=>{m.line>=x.index&&(m.line+=x.amount)}))),m.register(this.lines.onDelete((x=>{m.line>=x.index&&m.line<x.index+x.amount&&m.dispose(),m.line>x.index&&(m.line-=x.amount)}))),m.register(m.onDispose((()=>this._removeMarker(m)))),m}_removeMarker(y){this._isClearing||this.markers.splice(this.markers.indexOf(y),1)}}},8437:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLine=c.DEFAULT_ATTR_DATA=void 0;const f=h(3734),_=h(511),p=h(643),g=h(482);c.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let w=0;class T{constructor(S,b,y=!1){this.isWrapped=y,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*S);const m=b||_.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]);for(let x=0;x<S;++x)this.setCell(x,m);this.length=S}get(S){const b=this._data[3*S+0],y=2097151&b;return[this._data[3*S+1],2097152&b?this._combined[S]:y?(0,g.stringFromCodePoint)(y):"",b>>22,2097152&b?this._combined[S].charCodeAt(this._combined[S].length-1):y]}set(S,b){this._data[3*S+1]=b[p.CHAR_DATA_ATTR_INDEX],b[p.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[S]=b[1],this._data[3*S+0]=2097152|S|b[p.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*S+0]=b[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|b[p.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(S){return this._data[3*S+0]>>22}hasWidth(S){return 12582912&this._data[3*S+0]}getFg(S){return this._data[3*S+1]}getBg(S){return this._data[3*S+2]}hasContent(S){return 4194303&this._data[3*S+0]}getCodePoint(S){const b=this._data[3*S+0];return 2097152&b?this._combined[S].charCodeAt(this._combined[S].length-1):2097151&b}isCombined(S){return 2097152&this._data[3*S+0]}getString(S){const b=this._data[3*S+0];return 2097152&b?this._combined[S]:2097151&b?(0,g.stringFromCodePoint)(2097151&b):""}isProtected(S){return 536870912&this._data[3*S+2]}loadCell(S,b){return w=3*S,b.content=this._data[w+0],b.fg=this._data[w+1],b.bg=this._data[w+2],2097152&b.content&&(b.combinedData=this._combined[S]),268435456&b.bg&&(b.extended=this._extendedAttrs[S]),b}setCell(S,b){2097152&b.content&&(this._combined[S]=b.combinedData),268435456&b.bg&&(this._extendedAttrs[S]=b.extended),this._data[3*S+0]=b.content,this._data[3*S+1]=b.fg,this._data[3*S+2]=b.bg}setCellFromCodepoint(S,b,y,m){268435456&m.bg&&(this._extendedAttrs[S]=m.extended),this._data[3*S+0]=b|y<<22,this._data[3*S+1]=m.fg,this._data[3*S+2]=m.bg}addCodepointToCell(S,b,y){let m=this._data[3*S+0];2097152&m?this._combined[S]+=(0,g.stringFromCodePoint)(b):2097151&m?(this._combined[S]=(0,g.stringFromCodePoint)(2097151&m)+(0,g.stringFromCodePoint)(b),m&=-2097152,m|=2097152):m=b|4194304,y&&(m&=-12582913,m|=y<<22),this._data[3*S+0]=m}insertCells(S,b,y){if((S%=this.length)&&this.getWidth(S-1)===2&&this.setCellFromCodepoint(S-1,0,1,y),b<this.length-S){const m=new _.CellData;for(let x=this.length-S-b-1;x>=0;--x)this.setCell(S+b+x,this.loadCell(S+x,m));for(let x=0;x<b;++x)this.setCell(S+x,y)}else for(let m=S;m<this.length;++m)this.setCell(m,y);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,y)}deleteCells(S,b,y){if(S%=this.length,b<this.length-S){const m=new _.CellData;for(let x=0;x<this.length-S-b;++x)this.setCell(S+x,this.loadCell(S+b+x,m));for(let x=this.length-b;x<this.length;++x)this.setCell(x,y)}else for(let m=S;m<this.length;++m)this.setCell(m,y);S&&this.getWidth(S-1)===2&&this.setCellFromCodepoint(S-1,0,1,y),this.getWidth(S)!==0||this.hasContent(S)||this.setCellFromCodepoint(S,0,1,y)}replaceCells(S,b,y,m=!1){if(m)for(S&&this.getWidth(S-1)===2&&!this.isProtected(S-1)&&this.setCellFromCodepoint(S-1,0,1,y),b<this.length&&this.getWidth(b-1)===2&&!this.isProtected(b)&&this.setCellFromCodepoint(b,0,1,y);S<b&&S<this.length;)this.isProtected(S)||this.setCell(S,y),S++;else for(S&&this.getWidth(S-1)===2&&this.setCellFromCodepoint(S-1,0,1,y),b<this.length&&this.getWidth(b-1)===2&&this.setCellFromCodepoint(b,0,1,y);S<b&&S<this.length;)this.setCell(S++,y)}resize(S,b){if(S===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const y=3*S;if(S>this.length){if(this._data.buffer.byteLength>=4*y)this._data=new Uint32Array(this._data.buffer,0,y);else{const m=new Uint32Array(y);m.set(this._data),this._data=m}for(let m=this.length;m<S;++m)this.setCell(m,b)}else{this._data=this._data.subarray(0,y);const m=Object.keys(this._combined);for(let A=0;A<m.length;A++){const D=parseInt(m[A],10);D>=S&&delete this._combined[D]}const x=Object.keys(this._extendedAttrs);for(let A=0;A<x.length;A++){const D=parseInt(x[A],10);D>=S&&delete this._extendedAttrs[D]}}return this.length=S,4*y*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const S=new Uint32Array(this._data.length);return S.set(this._data),this._data=S,1}return 0}fill(S,b=!1){if(b)for(let y=0;y<this.length;++y)this.isProtected(y)||this.setCell(y,S);else{this._combined={},this._extendedAttrs={};for(let y=0;y<this.length;++y)this.setCell(y,S)}}copyFrom(S){this.length!==S.length?this._data=new Uint32Array(S._data):this._data.set(S._data),this.length=S.length,this._combined={};for(const b in S._combined)this._combined[b]=S._combined[b];this._extendedAttrs={};for(const b in S._extendedAttrs)this._extendedAttrs[b]=S._extendedAttrs[b];this.isWrapped=S.isWrapped}clone(){const S=new T(0);S._data=new Uint32Array(this._data),S.length=this.length;for(const b in this._combined)S._combined[b]=this._combined[b];for(const b in this._extendedAttrs)S._extendedAttrs[b]=this._extendedAttrs[b];return S.isWrapped=this.isWrapped,S}getTrimmedLength(){for(let S=this.length-1;S>=0;--S)if(4194303&this._data[3*S+0])return S+(this._data[3*S+0]>>22);return 0}getNoBgTrimmedLength(){for(let S=this.length-1;S>=0;--S)if(4194303&this._data[3*S+0]||50331648&this._data[3*S+2])return S+(this._data[3*S+0]>>22);return 0}copyCellsFrom(S,b,y,m,x){const A=S._data;if(x)for(let k=m-1;k>=0;k--){for(let R=0;R<3;R++)this._data[3*(y+k)+R]=A[3*(b+k)+R];268435456&A[3*(b+k)+2]&&(this._extendedAttrs[y+k]=S._extendedAttrs[b+k])}else for(let k=0;k<m;k++){for(let R=0;R<3;R++)this._data[3*(y+k)+R]=A[3*(b+k)+R];268435456&A[3*(b+k)+2]&&(this._extendedAttrs[y+k]=S._extendedAttrs[b+k])}const D=Object.keys(S._combined);for(let k=0;k<D.length;k++){const R=parseInt(D[k],10);R>=b&&(this._combined[R-b+y]=S._combined[R])}}translateToString(S,b,y,m){b=b??0,y=y??this.length,S&&(y=Math.min(y,this.getTrimmedLength())),m&&(m.length=0);let x="";for(;b<y;){const A=this._data[3*b+0],D=2097151&A,k=2097152&A?this._combined[b]:D?(0,g.stringFromCodePoint)(D):p.WHITESPACE_CELL_CHAR;if(x+=k,m)for(let R=0;R<k.length;++R)m.push(b);b+=A>>22||1}return m&&m.push(b),x}}c.BufferLine=T},4841:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getRangeLength=void 0,c.getRangeLength=function(h,f){if(h.start.y>h.end.y)throw new Error(`Buffer range end (${h.end.x}, ${h.end.y}) cannot be before start (${h.start.x}, ${h.start.y})`);return f*(h.end.y-h.start.y)+(h.end.x-h.start.x+1)}},4634:(u,c)=>{function h(f,_,p){if(_===f.length-1)return f[_].getTrimmedLength();const g=!f[_].hasContent(p-1)&&f[_].getWidth(p-1)===1,w=f[_+1].getWidth(0)===2;return g&&w?p-1:p}Object.defineProperty(c,"__esModule",{value:!0}),c.getWrappedLineTrimmedLength=c.reflowSmallerGetNewLineLengths=c.reflowLargerApplyNewLayout=c.reflowLargerCreateNewLayout=c.reflowLargerGetLinesToRemove=void 0,c.reflowLargerGetLinesToRemove=function(f,_,p,g,w){const T=[];for(let C=0;C<f.length-1;C++){let S=C,b=f.get(++S);if(!b.isWrapped)continue;const y=[f.get(C)];for(;S<f.length&&b.isWrapped;)y.push(b),b=f.get(++S);if(g>=C&&g<S){C+=y.length-1;continue}let m=0,x=h(y,m,_),A=1,D=0;for(;A<y.length;){const R=h(y,A,_),M=R-D,U=p-x,z=Math.min(M,U);y[m].copyCellsFrom(y[A],D,x,z,!1),x+=z,x===p&&(m++,x=0),D+=z,D===R&&(A++,D=0),x===0&&m!==0&&y[m-1].getWidth(p-1)===2&&(y[m].copyCellsFrom(y[m-1],p-1,x++,1,!1),y[m-1].setCell(p-1,w))}y[m].replaceCells(x,p,w);let k=0;for(let R=y.length-1;R>0&&(R>m||y[R].getTrimmedLength()===0);R--)k++;k>0&&(T.push(C+y.length-k),T.push(k)),C+=y.length-1}return T},c.reflowLargerCreateNewLayout=function(f,_){const p=[];let g=0,w=_[g],T=0;for(let C=0;C<f.length;C++)if(w===C){const S=_[++g];f.onDeleteEmitter.fire({index:C-T,amount:S}),C+=S-1,T+=S,w=_[++g]}else p.push(C);return{layout:p,countRemoved:T}},c.reflowLargerApplyNewLayout=function(f,_){const p=[];for(let g=0;g<_.length;g++)p.push(f.get(_[g]));for(let g=0;g<p.length;g++)f.set(g,p[g]);f.length=_.length},c.reflowSmallerGetNewLineLengths=function(f,_,p){const g=[],w=f.map(((b,y)=>h(f,y,_))).reduce(((b,y)=>b+y));let T=0,C=0,S=0;for(;S<w;){if(w-S<p){g.push(w-S);break}T+=p;const b=h(f,C,_);T>b&&(T-=b,C++);const y=f[C].getWidth(T-1)===2;y&&T--;const m=y?p-1:p;g.push(m),S+=m}return g},c.getWrappedLineTrimmedLength=h},5295:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferSet=void 0;const f=h(8460),_=h(844),p=h(9092);class g extends _.Disposable{constructor(T,C){super(),this._optionsService=T,this._bufferService=C,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new p.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new p.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(T){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(T),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(T,C){this._normal.resize(T,C),this._alt.resize(T,C),this.setupTabStops(T)}setupTabStops(T){this._normal.setupTabStops(T),this._alt.setupTabStops(T)}}c.BufferSet=g},511:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CellData=void 0;const f=h(482),_=h(643),p=h(3734);class g extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(T){const C=new g;return C.setFromCharData(T),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(T){this.fg=T[_.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(T[_.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(T[_.CHAR_DATA_CHAR_INDEX].length===2){const S=T[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=S&&S<=56319){const b=T[_.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=b&&b<=57343?this.content=1024*(S-55296)+b-56320+65536|T[_.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=T[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|T[_.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=T[_.CHAR_DATA_CHAR_INDEX],this.content=2097152|T[_.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.CellData=g},643:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WHITESPACE_CELL_CODE=c.WHITESPACE_CELL_WIDTH=c.WHITESPACE_CELL_CHAR=c.NULL_CELL_CODE=c.NULL_CELL_WIDTH=c.NULL_CELL_CHAR=c.CHAR_DATA_CODE_INDEX=c.CHAR_DATA_WIDTH_INDEX=c.CHAR_DATA_CHAR_INDEX=c.CHAR_DATA_ATTR_INDEX=c.DEFAULT_EXT=c.DEFAULT_ATTR=c.DEFAULT_COLOR=void 0,c.DEFAULT_COLOR=0,c.DEFAULT_ATTR=256|c.DEFAULT_COLOR<<9,c.DEFAULT_EXT=0,c.CHAR_DATA_ATTR_INDEX=0,c.CHAR_DATA_CHAR_INDEX=1,c.CHAR_DATA_WIDTH_INDEX=2,c.CHAR_DATA_CODE_INDEX=3,c.NULL_CELL_CHAR="",c.NULL_CELL_WIDTH=1,c.NULL_CELL_CODE=0,c.WHITESPACE_CELL_CHAR=" ",c.WHITESPACE_CELL_WIDTH=1,c.WHITESPACE_CELL_CODE=32},4863:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Marker=void 0;const f=h(8460),_=h(844);class p{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,_.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}c.Marker=p,p._nextId=1},7116:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_CHARSET=c.CHARSETS=void 0,c.CHARSETS={},c.DEFAULT_CHARSET=c.CHARSETS.B,c.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},c.CHARSETS.A={"#":""},c.CHARSETS.B=void 0,c.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},c.CHARSETS.C=c.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},c.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},c.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.E=c.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},c.CHARSETS.H=c.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(u,c)=>{var h,f,_;Object.defineProperty(c,"__esModule",{value:!0}),c.C1_ESCAPED=c.C1=c.C0=void 0,(function(p){p.NUL="\0",p.SOH="",p.STX="",p.ETX="",p.EOT="",p.ENQ="",p.ACK="",p.BEL="\x07",p.BS="\b",p.HT="	",p.LF=`
`,p.VT="\v",p.FF="\f",p.CR="\r",p.SO="",p.SI="",p.DLE="",p.DC1="",p.DC2="",p.DC3="",p.DC4="",p.NAK="",p.SYN="",p.ETB="",p.CAN="",p.EM="",p.SUB="",p.ESC="\x1B",p.FS="",p.GS="",p.RS="",p.US="",p.SP=" ",p.DEL=""})(h||(c.C0=h={})),(function(p){p.PAD="",p.HOP="",p.BPH="",p.NBH="",p.IND="",p.NEL="",p.SSA="",p.ESA="",p.HTS="",p.HTJ="",p.VTS="",p.PLD="",p.PLU="",p.RI="",p.SS2="",p.SS3="",p.DCS="",p.PU1="",p.PU2="",p.STS="",p.CCH="",p.MW="",p.SPA="",p.EPA="",p.SOS="",p.SGCI="",p.SCI="",p.CSI="",p.ST="",p.OSC="",p.PM="",p.APC=""})(f||(c.C1=f={})),(function(p){p.ST=`${h.ESC}\\`})(_||(c.C1_ESCAPED=_={}))},7399:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.evaluateKeyboardEvent=void 0;const f=h(2584),_={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};c.evaluateKeyboardEvent=function(p,g,w,T){const C={type:0,cancel:!1,key:void 0},S=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?C.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?C.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?C.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(C.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:C.key=p.ctrlKey?"\b":f.C0.DEL,p.altKey&&(C.key=f.C0.ESC+C.key);break;case 9:if(p.shiftKey){C.key=f.C0.ESC+"[Z";break}C.key=f.C0.HT,C.cancel=!0;break;case 13:C.key=p.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,C.cancel=!0;break;case 27:C.key=f.C0.ESC,p.altKey&&(C.key=f.C0.ESC+f.C0.ESC),C.cancel=!0;break;case 37:if(p.metaKey)break;S?(C.key=f.C0.ESC+"[1;"+(S+1)+"D",C.key===f.C0.ESC+"[1;3D"&&(C.key=f.C0.ESC+(w?"b":"[1;5D"))):C.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(p.metaKey)break;S?(C.key=f.C0.ESC+"[1;"+(S+1)+"C",C.key===f.C0.ESC+"[1;3C"&&(C.key=f.C0.ESC+(w?"f":"[1;5C"))):C.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(p.metaKey)break;S?(C.key=f.C0.ESC+"[1;"+(S+1)+"A",w||C.key!==f.C0.ESC+"[1;3A"||(C.key=f.C0.ESC+"[1;5A")):C.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(p.metaKey)break;S?(C.key=f.C0.ESC+"[1;"+(S+1)+"B",w||C.key!==f.C0.ESC+"[1;3B"||(C.key=f.C0.ESC+"[1;5B")):C.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(C.key=f.C0.ESC+"[2~");break;case 46:C.key=S?f.C0.ESC+"[3;"+(S+1)+"~":f.C0.ESC+"[3~";break;case 36:C.key=S?f.C0.ESC+"[1;"+(S+1)+"H":g?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:C.key=S?f.C0.ESC+"[1;"+(S+1)+"F":g?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:p.shiftKey?C.type=2:p.ctrlKey?C.key=f.C0.ESC+"[5;"+(S+1)+"~":C.key=f.C0.ESC+"[5~";break;case 34:p.shiftKey?C.type=3:p.ctrlKey?C.key=f.C0.ESC+"[6;"+(S+1)+"~":C.key=f.C0.ESC+"[6~";break;case 112:C.key=S?f.C0.ESC+"[1;"+(S+1)+"P":f.C0.ESC+"OP";break;case 113:C.key=S?f.C0.ESC+"[1;"+(S+1)+"Q":f.C0.ESC+"OQ";break;case 114:C.key=S?f.C0.ESC+"[1;"+(S+1)+"R":f.C0.ESC+"OR";break;case 115:C.key=S?f.C0.ESC+"[1;"+(S+1)+"S":f.C0.ESC+"OS";break;case 116:C.key=S?f.C0.ESC+"[15;"+(S+1)+"~":f.C0.ESC+"[15~";break;case 117:C.key=S?f.C0.ESC+"[17;"+(S+1)+"~":f.C0.ESC+"[17~";break;case 118:C.key=S?f.C0.ESC+"[18;"+(S+1)+"~":f.C0.ESC+"[18~";break;case 119:C.key=S?f.C0.ESC+"[19;"+(S+1)+"~":f.C0.ESC+"[19~";break;case 120:C.key=S?f.C0.ESC+"[20;"+(S+1)+"~":f.C0.ESC+"[20~";break;case 121:C.key=S?f.C0.ESC+"[21;"+(S+1)+"~":f.C0.ESC+"[21~";break;case 122:C.key=S?f.C0.ESC+"[23;"+(S+1)+"~":f.C0.ESC+"[23~";break;case 123:C.key=S?f.C0.ESC+"[24;"+(S+1)+"~":f.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(w&&!T||!p.altKey||p.metaKey)!w||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?C.key=p.key:p.key&&p.ctrlKey&&(p.key==="_"&&(C.key=f.C0.US),p.key==="@"&&(C.key=f.C0.NUL)):p.keyCode===65&&(C.type=1);else{const b=_[p.keyCode],y=b?.[p.shiftKey?1:0];if(y)C.key=f.C0.ESC+y;else if(p.keyCode>=65&&p.keyCode<=90){const m=p.ctrlKey?p.keyCode-64:p.keyCode+32;let x=String.fromCharCode(m);p.shiftKey&&(x=x.toUpperCase()),C.key=f.C0.ESC+x}else if(p.keyCode===32)C.key=f.C0.ESC+(p.ctrlKey?f.C0.NUL:" ");else if(p.key==="Dead"&&p.code.startsWith("Key")){let m=p.code.slice(3,4);p.shiftKey||(m=m.toLowerCase()),C.key=f.C0.ESC+m,C.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?C.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?C.key=f.C0.NUL:p.keyCode>=51&&p.keyCode<=55?C.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?C.key=f.C0.DEL:p.keyCode===219?C.key=f.C0.ESC:p.keyCode===220?C.key=f.C0.FS:p.keyCode===221&&(C.key=f.C0.GS)}return C}},482:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Utf8ToUtf32=c.StringToUtf32=c.utf32ToString=c.stringFromCodePoint=void 0,c.stringFromCodePoint=function(h){return h>65535?(h-=65536,String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):String.fromCharCode(h)},c.utf32ToString=function(h,f=0,_=h.length){let p="";for(let g=f;g<_;++g){let w=h[g];w>65535?(w-=65536,p+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):p+=String.fromCharCode(w)}return p},c.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(h,f){const _=h.length;if(!_)return 0;let p=0,g=0;if(this._interim){const w=h.charCodeAt(g++);56320<=w&&w<=57343?f[p++]=1024*(this._interim-55296)+w-56320+65536:(f[p++]=this._interim,f[p++]=w),this._interim=0}for(let w=g;w<_;++w){const T=h.charCodeAt(w);if(55296<=T&&T<=56319){if(++w>=_)return this._interim=T,p;const C=h.charCodeAt(w);56320<=C&&C<=57343?f[p++]=1024*(T-55296)+C-56320+65536:(f[p++]=T,f[p++]=C)}else T!==65279&&(f[p++]=T)}return p}},c.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(h,f){const _=h.length;if(!_)return 0;let p,g,w,T,C=0,S=0,b=0;if(this.interim[0]){let x=!1,A=this.interim[0];A&=(224&A)==192?31:(240&A)==224?15:7;let D,k=0;for(;(D=63&this.interim[++k])&&k<4;)A<<=6,A|=D;const R=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,M=R-k;for(;b<M;){if(b>=_)return 0;if(D=h[b++],(192&D)!=128){b--,x=!0;break}this.interim[k++]=D,A<<=6,A|=63&D}x||(R===2?A<128?b--:f[C++]=A:R===3?A<2048||A>=55296&&A<=57343||A===65279||(f[C++]=A):A<65536||A>1114111||(f[C++]=A)),this.interim.fill(0)}const y=_-4;let m=b;for(;m<_;){for(;!(!(m<y)||128&(p=h[m])||128&(g=h[m+1])||128&(w=h[m+2])||128&(T=h[m+3]));)f[C++]=p,f[C++]=g,f[C++]=w,f[C++]=T,m+=4;if(p=h[m++],p<128)f[C++]=p;else if((224&p)==192){if(m>=_)return this.interim[0]=p,C;if(g=h[m++],(192&g)!=128){m--;continue}if(S=(31&p)<<6|63&g,S<128){m--;continue}f[C++]=S}else if((240&p)==224){if(m>=_)return this.interim[0]=p,C;if(g=h[m++],(192&g)!=128){m--;continue}if(m>=_)return this.interim[0]=p,this.interim[1]=g,C;if(w=h[m++],(192&w)!=128){m--;continue}if(S=(15&p)<<12|(63&g)<<6|63&w,S<2048||S>=55296&&S<=57343||S===65279)continue;f[C++]=S}else if((248&p)==240){if(m>=_)return this.interim[0]=p,C;if(g=h[m++],(192&g)!=128){m--;continue}if(m>=_)return this.interim[0]=p,this.interim[1]=g,C;if(w=h[m++],(192&w)!=128){m--;continue}if(m>=_)return this.interim[0]=p,this.interim[1]=g,this.interim[2]=w,C;if(T=h[m++],(192&T)!=128){m--;continue}if(S=(7&p)<<18|(63&g)<<12|(63&w)<<6|63&T,S<65536||S>1114111)continue;f[C++]=S}}return C}}},225:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeV6=void 0;const f=h(1480),_=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;c.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let w=0;w<_.length;++w)g.fill(0,_[w][0],_[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?g[w]:(function(T,C){let S,b=0,y=C.length-1;if(T<C[0][0]||T>C[y][1])return!1;for(;y>=b;)if(S=b+y>>1,T>C[S][1])b=S+1;else{if(!(T<C[S][0]))return!0;y=S-1}return!1})(w,p)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,T){let C=this.wcwidth(w),S=C===0&&T!==0;if(S){const b=f.UnicodeService.extractWidth(T);b===0?S=!1:b>C&&(C=b)}return f.UnicodeService.createPropertyValue(0,C,S)}}},5981:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WriteBuffer=void 0;const f=h(8460),_=h(844);class p extends _.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,T){if(T!==void 0&&this._syncCalls>T)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const S=this._callbacks.shift();S&&S()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,T){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(T),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(T)}_innerWrite(w=0,T=!0){const C=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const S=this._writeBuffer[this._bufferOffset],b=this._action(S,T);if(b){const m=x=>Date.now()-C>=12?setTimeout((()=>this._innerWrite(0,x))):this._innerWrite(C,x);return void b.catch((x=>(queueMicrotask((()=>{throw x})),Promise.resolve(!1)))).then(m)}const y=this._callbacks[this._bufferOffset];if(y&&y(),this._bufferOffset++,this._pendingData-=S.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}c.WriteBuffer=p},5941:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.toRgbString=c.parseColor=void 0;const h=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function _(p,g){const w=p.toString(16),T=w.length<2?"0"+w:w;switch(g){case 4:return w[0];case 8:return T;case 12:return(T+T).slice(0,3);default:return T+T}}c.parseColor=function(p){if(!p)return;let g=p.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const w=h.exec(g);if(w){const T=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/T*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/T*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/T*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),f.exec(g)&&[3,6,9,12].includes(g.length))){const w=g.length/3,T=[0,0,0];for(let C=0;C<3;++C){const S=parseInt(g.slice(w*C,w*C+w),16);T[C]=w===1?S<<4:w===2?S:w===3?S>>4:S>>8}return T}},c.toRgbString=function(p,g=16){const[w,T,C]=p;return`rgb:${_(w,g)}/${_(T,g)}/${_(C,g)}`}},5770:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PAYLOAD_LIMIT=void 0,c.PAYLOAD_LIMIT=1e7},6351:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DcsHandler=c.DcsParser=void 0;const f=h(482),_=h(8742),p=h(5770),g=[];c.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(T,C){this._handlers[T]===void 0&&(this._handlers[T]=[]);const S=this._handlers[T];return S.push(C),{dispose:()=>{const b=S.indexOf(C);b!==-1&&S.splice(b,1)}}}clearHandler(T){this._handlers[T]&&delete this._handlers[T]}setHandlerFallback(T){this._handlerFb=T}reset(){if(this._active.length)for(let T=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;T>=0;--T)this._active[T].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(T,C){if(this.reset(),this._ident=T,this._active=this._handlers[T]||g,this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(T,C,S){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(T,C,S);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(T,C,S))}unhook(T,C=!0){if(this._active.length){let S=!1,b=this._active.length-1,y=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,S=C,y=this._stack.fallThrough,this._stack.paused=!1),!y&&S===!1){for(;b>=0&&(S=this._active[b].unhook(T),S!==!0);b--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,S;b--}for(;b>=0;b--)if(S=this._active[b].unhook(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,S}else this._handlerFb(this._ident,"UNHOOK",T);this._active=g,this._ident=0}};const w=new _.Params;w.addParam(0),c.DcsHandler=class{constructor(T){this._handler=T,this._data="",this._params=w,this._hitLimit=!1}hook(T){this._params=T.length>1||T.params[0]?T.clone():w,this._data="",this._hitLimit=!1}put(T,C,S){this._hitLimit||(this._data+=(0,f.utf32ToString)(T,C,S),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(T){let C=!1;if(this._hitLimit)C=!1;else if(T&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then((S=>(this._params=w,this._data="",this._hitLimit=!1,S)));return this._params=w,this._data="",this._hitLimit=!1,C}}},2015:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.EscapeSequenceParser=c.VT500_TRANSITION_TABLE=c.TransitionTable=void 0;const f=h(844),_=h(8742),p=h(6242),g=h(6351);class w{constructor(b){this.table=new Uint8Array(b)}setDefault(b,y){this.table.fill(b<<4|y)}add(b,y,m,x){this.table[y<<8|b]=m<<4|x}addMany(b,y,m,x){for(let A=0;A<b.length;A++)this.table[y<<8|b[A]]=m<<4|x}}c.TransitionTable=w;const T=160;c.VT500_TRANSITION_TABLE=(function(){const S=new w(4095),b=Array.apply(null,Array(256)).map(((k,R)=>R)),y=(k,R)=>b.slice(k,R),m=y(32,127),x=y(0,24);x.push(25),x.push.apply(x,y(28,32));const A=y(0,14);let D;for(D in S.setDefault(1,0),S.addMany(m,0,2,0),A)S.addMany([24,26,153,154],D,3,0),S.addMany(y(128,144),D,3,0),S.addMany(y(144,152),D,3,0),S.add(156,D,0,0),S.add(27,D,11,1),S.add(157,D,4,8),S.addMany([152,158,159],D,0,7),S.add(155,D,11,3),S.add(144,D,11,9);return S.addMany(x,0,3,0),S.addMany(x,1,3,1),S.add(127,1,0,1),S.addMany(x,8,0,8),S.addMany(x,3,3,3),S.add(127,3,0,3),S.addMany(x,4,3,4),S.add(127,4,0,4),S.addMany(x,6,3,6),S.addMany(x,5,3,5),S.add(127,5,0,5),S.addMany(x,2,3,2),S.add(127,2,0,2),S.add(93,1,4,8),S.addMany(m,8,5,8),S.add(127,8,5,8),S.addMany([156,27,24,26,7],8,6,0),S.addMany(y(28,32),8,0,8),S.addMany([88,94,95],1,0,7),S.addMany(m,7,0,7),S.addMany(x,7,0,7),S.add(156,7,0,0),S.add(127,7,0,7),S.add(91,1,11,3),S.addMany(y(64,127),3,7,0),S.addMany(y(48,60),3,8,4),S.addMany([60,61,62,63],3,9,4),S.addMany(y(48,60),4,8,4),S.addMany(y(64,127),4,7,0),S.addMany([60,61,62,63],4,0,6),S.addMany(y(32,64),6,0,6),S.add(127,6,0,6),S.addMany(y(64,127),6,0,0),S.addMany(y(32,48),3,9,5),S.addMany(y(32,48),5,9,5),S.addMany(y(48,64),5,0,6),S.addMany(y(64,127),5,7,0),S.addMany(y(32,48),4,9,5),S.addMany(y(32,48),1,9,2),S.addMany(y(32,48),2,9,2),S.addMany(y(48,127),2,10,0),S.addMany(y(48,80),1,10,0),S.addMany(y(81,88),1,10,0),S.addMany([89,90,92],1,10,0),S.addMany(y(96,127),1,10,0),S.add(80,1,11,9),S.addMany(x,9,0,9),S.add(127,9,0,9),S.addMany(y(28,32),9,0,9),S.addMany(y(32,48),9,9,12),S.addMany(y(48,60),9,8,10),S.addMany([60,61,62,63],9,9,10),S.addMany(x,11,0,11),S.addMany(y(32,128),11,0,11),S.addMany(y(28,32),11,0,11),S.addMany(x,10,0,10),S.add(127,10,0,10),S.addMany(y(28,32),10,0,10),S.addMany(y(48,60),10,8,10),S.addMany([60,61,62,63],10,0,11),S.addMany(y(32,48),10,9,12),S.addMany(x,12,0,12),S.add(127,12,0,12),S.addMany(y(28,32),12,0,12),S.addMany(y(32,48),12,9,12),S.addMany(y(48,64),12,0,11),S.addMany(y(64,127),12,12,13),S.addMany(y(64,127),10,12,13),S.addMany(y(64,127),9,12,13),S.addMany(x,13,13,13),S.addMany(m,13,13,13),S.add(127,13,0,13),S.addMany([27,156,24,26],13,14,0),S.add(T,0,2,0),S.add(T,8,5,8),S.add(T,6,0,6),S.add(T,11,0,11),S.add(T,13,13,13),S})();class C extends f.Disposable{constructor(b=c.VT500_TRANSITION_TABLE){super(),this._transitions=b,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new _.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(y,m,x)=>{},this._executeHandlerFb=y=>{},this._csiHandlerFb=(y,m)=>{},this._escHandlerFb=y=>{},this._errorHandlerFb=y=>y,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(b,y=[64,126]){let m=0;if(b.prefix){if(b.prefix.length>1)throw new Error("only one byte as prefix supported");if(m=b.prefix.charCodeAt(0),m&&60>m||m>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(b.intermediates){if(b.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let A=0;A<b.intermediates.length;++A){const D=b.intermediates.charCodeAt(A);if(32>D||D>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");m<<=8,m|=D}}if(b.final.length!==1)throw new Error("final must be a single byte");const x=b.final.charCodeAt(0);if(y[0]>x||x>y[1])throw new Error(`final must be in range ${y[0]} .. ${y[1]}`);return m<<=8,m|=x,m}identToString(b){const y=[];for(;b;)y.push(String.fromCharCode(255&b)),b>>=8;return y.reverse().join("")}setPrintHandler(b){this._printHandler=b}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(b,y){const m=this._identifier(b,[48,126]);this._escHandlers[m]===void 0&&(this._escHandlers[m]=[]);const x=this._escHandlers[m];return x.push(y),{dispose:()=>{const A=x.indexOf(y);A!==-1&&x.splice(A,1)}}}clearEscHandler(b){this._escHandlers[this._identifier(b,[48,126])]&&delete this._escHandlers[this._identifier(b,[48,126])]}setEscHandlerFallback(b){this._escHandlerFb=b}setExecuteHandler(b,y){this._executeHandlers[b.charCodeAt(0)]=y}clearExecuteHandler(b){this._executeHandlers[b.charCodeAt(0)]&&delete this._executeHandlers[b.charCodeAt(0)]}setExecuteHandlerFallback(b){this._executeHandlerFb=b}registerCsiHandler(b,y){const m=this._identifier(b);this._csiHandlers[m]===void 0&&(this._csiHandlers[m]=[]);const x=this._csiHandlers[m];return x.push(y),{dispose:()=>{const A=x.indexOf(y);A!==-1&&x.splice(A,1)}}}clearCsiHandler(b){this._csiHandlers[this._identifier(b)]&&delete this._csiHandlers[this._identifier(b)]}setCsiHandlerFallback(b){this._csiHandlerFb=b}registerDcsHandler(b,y){return this._dcsParser.registerHandler(this._identifier(b),y)}clearDcsHandler(b){this._dcsParser.clearHandler(this._identifier(b))}setDcsHandlerFallback(b){this._dcsParser.setHandlerFallback(b)}registerOscHandler(b,y){return this._oscParser.registerHandler(b,y)}clearOscHandler(b){this._oscParser.clearHandler(b)}setOscHandlerFallback(b){this._oscParser.setHandlerFallback(b)}setErrorHandler(b){this._errorHandler=b}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(b,y,m,x,A){this._parseStack.state=b,this._parseStack.handlers=y,this._parseStack.handlerPos=m,this._parseStack.transition=x,this._parseStack.chunkPos=A}parse(b,y,m){let x,A=0,D=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(m===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const R=this._parseStack.handlers;let M=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(m===!1&&M>-1){for(;M>=0&&(x=R[M](this._params),x!==!0);M--)if(x instanceof Promise)return this._parseStack.handlerPos=M,x}this._parseStack.handlers=[];break;case 4:if(m===!1&&M>-1){for(;M>=0&&(x=R[M](),x!==!0);M--)if(x instanceof Promise)return this._parseStack.handlerPos=M,x}this._parseStack.handlers=[];break;case 6:if(A=b[this._parseStack.chunkPos],x=this._dcsParser.unhook(A!==24&&A!==26,m),x)return x;A===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(A=b[this._parseStack.chunkPos],x=this._oscParser.end(A!==24&&A!==26,m),x)return x;A===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let R=k;R<y;++R){switch(A=b[R],D=this._transitions.table[this.currentState<<8|(A<160?A:T)],D>>4){case 2:for(let H=R+1;;++H){if(H>=y||(A=b[H])<32||A>126&&A<T){this._printHandler(b,R,H),R=H-1;break}if(++H>=y||(A=b[H])<32||A>126&&A<T){this._printHandler(b,R,H),R=H-1;break}if(++H>=y||(A=b[H])<32||A>126&&A<T){this._printHandler(b,R,H),R=H-1;break}if(++H>=y||(A=b[H])<32||A>126&&A<T){this._printHandler(b,R,H),R=H-1;break}}break;case 3:this._executeHandlers[A]?this._executeHandlers[A]():this._executeHandlerFb(A),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:R,code:A,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const M=this._csiHandlers[this._collect<<8|A];let U=M?M.length-1:-1;for(;U>=0&&(x=M[U](this._params),x!==!0);U--)if(x instanceof Promise)return this._preserveStack(3,M,U,D,R),x;U<0&&this._csiHandlerFb(this._collect<<8|A,this._params),this.precedingJoinState=0;break;case 8:do switch(A){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(A-48)}while(++R<y&&(A=b[R])>47&&A<60);R--;break;case 9:this._collect<<=8,this._collect|=A;break;case 10:const z=this._escHandlers[this._collect<<8|A];let W=z?z.length-1:-1;for(;W>=0&&(x=z[W](),x!==!0);W--)if(x instanceof Promise)return this._preserveStack(4,z,W,D,R),x;W<0&&this._escHandlerFb(this._collect<<8|A),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|A,this._params);break;case 13:for(let H=R+1;;++H)if(H>=y||(A=b[H])===24||A===26||A===27||A>127&&A<T){this._dcsParser.put(b,R,H),R=H-1;break}break;case 14:if(x=this._dcsParser.unhook(A!==24&&A!==26),x)return this._preserveStack(6,[],0,D,R),x;A===27&&(D|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let H=R+1;;H++)if(H>=y||(A=b[H])<32||A>127&&A<T){this._oscParser.put(b,R,H),R=H-1;break}break;case 6:if(x=this._oscParser.end(A!==24&&A!==26),x)return this._preserveStack(5,[],0,D,R),x;A===27&&(D|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&D}}}c.EscapeSequenceParser=C},6242:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OscHandler=c.OscParser=void 0;const f=h(5770),_=h(482),p=[];c.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,w){this._handlers[g]===void 0&&(this._handlers[g]=[]);const T=this._handlers[g];return T.push(w),{dispose:()=>{const C=T.indexOf(w);C!==-1&&T.splice(C,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,w,T){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(g,w,T);else this._handlerFb(this._id,"PUT",(0,_.utf32ToString)(g,w,T))}start(){this.reset(),this._state=1}put(g,w,T){if(this._state!==3){if(this._state===1)for(;w<T;){const C=g[w++];if(C===59){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+C-48}this._state===2&&T-w>0&&this._put(g,w,T)}}end(g,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let T=!1,C=this._active.length-1,S=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,T=w,S=this._stack.fallThrough,this._stack.paused=!1),!S&&T===!1){for(;C>=0&&(T=this._active[C].end(g),T!==!0);C--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,T;C--}for(;C>=0;C--)if(T=this._active[C].end(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,T}else this._handlerFb(this._id,"END",g);this._active=p,this._id=-1,this._state=0}}},c.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,w,T){this._hitLimit||(this._data+=(0,_.utf32ToString)(g,w,T),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let w=!1;if(this._hitLimit)w=!1;else if(g&&(w=this._handler(this._data),w instanceof Promise))return w.then((T=>(this._data="",this._hitLimit=!1,T)));return this._data="",this._hitLimit=!1,w}}},8742:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Params=void 0;const h=2147483647;class f{static fromArray(p){const g=new f;if(!p.length)return g;for(let w=Array.isArray(p[0])?1:0;w<p.length;++w){const T=p[w];if(Array.isArray(T))for(let C=0;C<T.length;++C)g.addSubParam(T[C]);else g.addParam(T)}return g}constructor(p=32,g=32){if(this.maxLength=p,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const p=new f(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let g=0;g<this.length;++g){p.push(this.params[g]);const w=this._subParamsIdx[g]>>8,T=255&this._subParamsIdx[g];T-w>0&&p.push(Array.prototype.slice.call(this._subParams,w,T))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>h?h:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>h?h:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const g=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];return w-g>0?this._subParams.subarray(g,w):null}getSubParamsAll(){const p={};for(let g=0;g<this.length;++g){const w=this._subParamsIdx[g]>>8,T=255&this._subParamsIdx[g];T-w>0&&(p[g]=this._subParams.slice(w,T))}return p}addDigit(p){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,T=w[g-1];w[g-1]=~T?Math.min(10*T+p,h):p}}c.Params=f},5741:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AddonManager=void 0,c.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let h=this._addons.length-1;h>=0;h--)this._addons[h].instance.dispose()}loadAddon(h,f){const _={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(_),f.dispose=()=>this._wrappedAddonDispose(_),f.activate(h)}_wrappedAddonDispose(h){if(h.isDisposed)return;let f=-1;for(let _=0;_<this._addons.length;_++)if(this._addons[_]===h){f=_;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");h.isDisposed=!0,h.dispose.apply(h.instance),this._addons.splice(f,1)}}},8771:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferApiView=void 0;const f=h(3785),_=h(511);c.BufferApiView=class{constructor(p,g){this._buffer=p,this.type=g}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const g=this._buffer.lines.get(p);if(g)return new f.BufferLineApiView(g)}getNullCell(){return new _.CellData}}},3785:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLineApiView=void 0;const f=h(511);c.BufferLineApiView=class{constructor(_){this._line=_}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(_,p){if(!(_<0||_>=this._line.length))return p?(this._line.loadCell(_,p),p):this._line.loadCell(_,new f.CellData)}translateToString(_,p,g){return this._line.translateToString(_,p,g)}}},8285:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferNamespaceApi=void 0;const f=h(8771),_=h(8460),p=h(844);class g extends p.Disposable{constructor(T){super(),this._core=T,this._onBufferChange=this.register(new _.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}c.BufferNamespaceApi=g},7975:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ParserApi=void 0,c.ParserApi=class{constructor(h){this._core=h}registerCsiHandler(h,f){return this._core.registerCsiHandler(h,(_=>f(_.toArray())))}addCsiHandler(h,f){return this.registerCsiHandler(h,f)}registerDcsHandler(h,f){return this._core.registerDcsHandler(h,((_,p)=>f(_,p.toArray())))}addDcsHandler(h,f){return this.registerDcsHandler(h,f)}registerEscHandler(h,f){return this._core.registerEscHandler(h,f)}addEscHandler(h,f){return this.registerEscHandler(h,f)}registerOscHandler(h,f){return this._core.registerOscHandler(h,f)}addOscHandler(h,f){return this.registerOscHandler(h,f)}}},7090:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeApi=void 0,c.UnicodeApi=class{constructor(h){this._core=h}register(h){this._core.unicodeService.register(h)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(h){this._core.unicodeService.activeVersion=h}}},744:function(u,c,h){var f=this&&this.__decorate||function(S,b,y,m){var x,A=arguments.length,D=A<3?b:m===null?m=Object.getOwnPropertyDescriptor(b,y):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(S,b,y,m);else for(var k=S.length-1;k>=0;k--)(x=S[k])&&(D=(A<3?x(D):A>3?x(b,y,D):x(b,y))||D);return A>3&&D&&Object.defineProperty(b,y,D),D},_=this&&this.__param||function(S,b){return function(y,m){b(y,m,S)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferService=c.MINIMUM_ROWS=c.MINIMUM_COLS=void 0;const p=h(8460),g=h(844),w=h(5295),T=h(2585);c.MINIMUM_COLS=2,c.MINIMUM_ROWS=1;let C=c.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(S){super(),this.isUserScrolling=!1,this._onResize=this.register(new p.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(S.rawOptions.cols||0,c.MINIMUM_COLS),this.rows=Math.max(S.rawOptions.rows||0,c.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(S,this))}resize(S,b){this.cols=S,this.rows=b,this.buffers.resize(S,b),this._onResize.fire({cols:S,rows:b})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(S,b=!1){const y=this.buffer;let m;m=this._cachedBlankLine,m&&m.length===this.cols&&m.getFg(0)===S.fg&&m.getBg(0)===S.bg||(m=y.getBlankLine(S,b),this._cachedBlankLine=m),m.isWrapped=b;const x=y.ybase+y.scrollTop,A=y.ybase+y.scrollBottom;if(y.scrollTop===0){const D=y.lines.isFull;A===y.lines.length-1?D?y.lines.recycle().copyFrom(m):y.lines.push(m.clone()):y.lines.splice(A+1,0,m.clone()),D?this.isUserScrolling&&(y.ydisp=Math.max(y.ydisp-1,0)):(y.ybase++,this.isUserScrolling||y.ydisp++)}else{const D=A-x+1;y.lines.shiftElements(x+1,D-1,-1),y.lines.set(A,m.clone())}this.isUserScrolling||(y.ydisp=y.ybase),this._onScroll.fire(y.ydisp)}scrollLines(S,b,y){const m=this.buffer;if(S<0){if(m.ydisp===0)return;this.isUserScrolling=!0}else S+m.ydisp>=m.ybase&&(this.isUserScrolling=!1);const x=m.ydisp;m.ydisp=Math.max(Math.min(m.ydisp+S,m.ybase),0),x!==m.ydisp&&(b||this._onScroll.fire(m.ydisp))}};c.BufferService=C=f([_(0,T.IOptionsService)],C)},7994:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharsetService=void 0,c.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(h){this.glevel=h,this.charset=this._charsets[h]}setgCharset(h,f){this._charsets[h]=f,this.glevel===h&&(this.charset=f)}}},1753:function(u,c,h){var f=this&&this.__decorate||function(m,x,A,D){var k,R=arguments.length,M=R<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,A):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(m,x,A,D);else for(var U=m.length-1;U>=0;U--)(k=m[U])&&(M=(R<3?k(M):R>3?k(x,A,M):k(x,A))||M);return R>3&&M&&Object.defineProperty(x,A,M),M},_=this&&this.__param||function(m,x){return function(A,D){x(A,D,m)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreMouseService=void 0;const p=h(2585),g=h(8460),w=h(844),T={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:m=>m.button!==4&&m.action===1&&(m.ctrl=!1,m.alt=!1,m.shift=!1,!0)},VT200:{events:19,restrict:m=>m.action!==32},DRAG:{events:23,restrict:m=>m.action!==32||m.button!==3},ANY:{events:31,restrict:m=>!0}};function C(m,x){let A=(m.ctrl?16:0)|(m.shift?4:0)|(m.alt?8:0);return m.button===4?(A|=64,A|=m.action):(A|=3&m.button,4&m.button&&(A|=64),8&m.button&&(A|=128),m.action===32?A|=32:m.action!==0||x||(A|=3)),A}const S=String.fromCharCode,b={DEFAULT:m=>{const x=[C(m,!1)+32,m.col+32,m.row+32];return x[0]>255||x[1]>255||x[2]>255?"":`\x1B[M${S(x[0])}${S(x[1])}${S(x[2])}`},SGR:m=>{const x=m.action===0&&m.button!==4?"m":"M";return`\x1B[<${C(m,!0)};${m.col};${m.row}${x}`},SGR_PIXELS:m=>{const x=m.action===0&&m.button!==4?"m":"M";return`\x1B[<${C(m,!0)};${m.x};${m.y}${x}`}};let y=c.CoreMouseService=class extends w.Disposable{constructor(m,x){super(),this._bufferService=m,this._coreService=x,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const A of Object.keys(T))this.addProtocol(A,T[A]);for(const A of Object.keys(b))this.addEncoding(A,b[A]);this.reset()}addProtocol(m,x){this._protocols[m]=x}addEncoding(m,x){this._encodings[m]=x}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(m){if(!this._protocols[m])throw new Error(`unknown protocol "${m}"`);this._activeProtocol=m,this._onProtocolChange.fire(this._protocols[m].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(m){if(!this._encodings[m])throw new Error(`unknown encoding "${m}"`);this._activeEncoding=m}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(m){if(m.col<0||m.col>=this._bufferService.cols||m.row<0||m.row>=this._bufferService.rows||m.button===4&&m.action===32||m.button===3&&m.action!==32||m.button!==4&&(m.action===2||m.action===3)||(m.col++,m.row++,m.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,m,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(m))return!1;const x=this._encodings[this._activeEncoding](m);return x&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(x):this._coreService.triggerDataEvent(x,!0)),this._lastEvent=m,!0}explainEvents(m){return{down:!!(1&m),up:!!(2&m),drag:!!(4&m),move:!!(8&m),wheel:!!(16&m)}}_equalEvents(m,x,A){if(A){if(m.x!==x.x||m.y!==x.y)return!1}else if(m.col!==x.col||m.row!==x.row)return!1;return m.button===x.button&&m.action===x.action&&m.ctrl===x.ctrl&&m.alt===x.alt&&m.shift===x.shift}};c.CoreMouseService=y=f([_(0,p.IBufferService),_(1,p.ICoreService)],y)},6975:function(u,c,h){var f=this&&this.__decorate||function(y,m,x,A){var D,k=arguments.length,R=k<3?m:A===null?A=Object.getOwnPropertyDescriptor(m,x):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,m,x,A);else for(var M=y.length-1;M>=0;M--)(D=y[M])&&(R=(k<3?D(R):k>3?D(m,x,R):D(m,x))||R);return k>3&&R&&Object.defineProperty(m,x,R),R},_=this&&this.__param||function(y,m){return function(x,A){m(x,A,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreService=void 0;const p=h(1439),g=h(8460),w=h(844),T=h(2585),C=Object.freeze({insertMode:!1}),S=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let b=c.CoreService=class extends w.Disposable{constructor(y,m,x){super(),this._bufferService=y,this._logService=m,this._optionsService=x,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,p.clone)(C),this.decPrivateModes=(0,p.clone)(S)}reset(){this.modes=(0,p.clone)(C),this.decPrivateModes=(0,p.clone)(S)}triggerDataEvent(y,m=!1){if(this._optionsService.rawOptions.disableStdin)return;const x=this._bufferService.buffer;m&&this._optionsService.rawOptions.scrollOnUserInput&&x.ybase!==x.ydisp&&this._onRequestScrollToBottom.fire(),m&&this._onUserInput.fire(),this._logService.debug(`sending data "${y}"`,(()=>y.split("").map((A=>A.charCodeAt(0))))),this._onData.fire(y)}triggerBinaryEvent(y){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${y}"`,(()=>y.split("").map((m=>m.charCodeAt(0))))),this._onBinary.fire(y))}};c.CoreService=b=f([_(0,T.IBufferService),_(1,T.ILogService),_(2,T.IOptionsService)],b)},9074:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DecorationService=void 0;const f=h(8055),_=h(8460),p=h(844),g=h(6106);let w=0,T=0;class C extends p.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList((y=>y?.marker.line)),this._onDecorationRegistered=this.register(new _.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new _.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)((()=>this.reset())))}registerDecoration(y){if(y.marker.isDisposed)return;const m=new S(y);if(m){const x=m.marker.onDispose((()=>m.dispose()));m.onDispose((()=>{m&&(this._decorations.delete(m)&&this._onDecorationRemoved.fire(m),x.dispose())})),this._decorations.insert(m),this._onDecorationRegistered.fire(m)}return m}reset(){for(const y of this._decorations.values())y.dispose();this._decorations.clear()}*getDecorationsAtCell(y,m,x){let A=0,D=0;for(const k of this._decorations.getKeyIterator(m))A=k.options.x??0,D=A+(k.options.width??1),y>=A&&y<D&&(!x||(k.options.layer??"bottom")===x)&&(yield k)}forEachDecorationAtCell(y,m,x,A){this._decorations.forEachByKey(m,(D=>{w=D.options.x??0,T=w+(D.options.width??1),y>=w&&y<T&&(!x||(D.options.layer??"bottom")===x)&&A(D)}))}}c.DecorationService=C;class S extends p.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(y){super(),this.options=y,this.onRenderEmitter=this.register(new _.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new _.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=y.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InstantiationService=c.ServiceCollection=void 0;const f=h(2585),_=h(8343);class p{constructor(...w){this._entries=new Map;for(const[T,C]of w)this.set(T,C)}set(w,T){const C=this._entries.get(w);return this._entries.set(w,T),C}forEach(w){for(const[T,C]of this._entries.entries())w(T,C)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}c.ServiceCollection=p,c.InstantiationService=class{constructor(){this._services=new p,this._services.set(f.IInstantiationService,this)}setService(g,w){this._services.set(g,w)}getService(g){return this._services.get(g)}createInstance(g,...w){const T=(0,_.getServiceDependencies)(g).sort(((b,y)=>b.index-y.index)),C=[];for(const b of T){const y=this._services.get(b.id);if(!y)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${b.id}.`);C.push(y)}const S=T.length>0?T[0].index:w.length;if(w.length!==S)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${S+1} conflicts with ${w.length} static arguments`);return new g(...w,...C)}}},7866:function(u,c,h){var f=this&&this.__decorate||function(S,b,y,m){var x,A=arguments.length,D=A<3?b:m===null?m=Object.getOwnPropertyDescriptor(b,y):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(S,b,y,m);else for(var k=S.length-1;k>=0;k--)(x=S[k])&&(D=(A<3?x(D):A>3?x(b,y,D):x(b,y))||D);return A>3&&D&&Object.defineProperty(b,y,D),D},_=this&&this.__param||function(S,b){return function(y,m){b(y,m,S)}};Object.defineProperty(c,"__esModule",{value:!0}),c.traceCall=c.setTraceLogger=c.LogService=void 0;const p=h(844),g=h(2585),w={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let T,C=c.LogService=class extends p.Disposable{get logLevel(){return this._logLevel}constructor(S){super(),this._optionsService=S,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),T=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(S){for(let b=0;b<S.length;b++)typeof S[b]=="function"&&(S[b]=S[b]())}_log(S,b,y){this._evalLazyOptionalParams(y),S.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+b,...y)}trace(S,...b){this._logLevel<=g.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,S,b)}debug(S,...b){this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,S,b)}info(S,...b){this._logLevel<=g.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,S,b)}warn(S,...b){this._logLevel<=g.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,S,b)}error(S,...b){this._logLevel<=g.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,S,b)}};c.LogService=C=f([_(0,g.IOptionsService)],C),c.setTraceLogger=function(S){T=S},c.traceCall=function(S,b,y){if(typeof y.value!="function")throw new Error("not supported");const m=y.value;y.value=function(...x){if(T.logLevel!==g.LogLevelEnum.TRACE)return m.apply(this,x);T.trace(`GlyphRenderer#${m.name}(${x.map((D=>JSON.stringify(D))).join(", ")})`);const A=m.apply(this,x);return T.trace(`GlyphRenderer#${m.name} return`,A),A}}},7302:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionsService=c.DEFAULT_OPTIONS=void 0;const f=h(8460),_=h(844),p=h(6114);c.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:p.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends _.Disposable{constructor(C){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const S={...c.DEFAULT_OPTIONS};for(const b in C)if(b in S)try{const y=C[b];S[b]=this._sanitizeAndValidateOption(b,y)}catch(y){console.error(y)}this.rawOptions=S,this.options={...S},this._setupOptions(),this.register((0,_.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(C,S){return this.onOptionChange((b=>{b===C&&S(this.rawOptions[C])}))}onMultipleOptionChange(C,S){return this.onOptionChange((b=>{C.indexOf(b)!==-1&&S()}))}_setupOptions(){const C=b=>{if(!(b in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${b}"`);return this.rawOptions[b]},S=(b,y)=>{if(!(b in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${b}"`);y=this._sanitizeAndValidateOption(b,y),this.rawOptions[b]!==y&&(this.rawOptions[b]=y,this._onOptionChange.fire(b))};for(const b in this.rawOptions){const y={get:C.bind(this,b),set:S.bind(this,b)};Object.defineProperty(this.options,b,y)}}_sanitizeAndValidateOption(C,S){switch(C){case"cursorStyle":if(S||(S=c.DEFAULT_OPTIONS[C]),!(function(b){return b==="block"||b==="underline"||b==="bar"})(S))throw new Error(`"${S}" is not a valid value for ${C}`);break;case"wordSeparator":S||(S=c.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if(typeof S=="number"&&1<=S&&S<=1e3)break;S=g.includes(S)?S:c.DEFAULT_OPTIONS[C];break;case"cursorWidth":S=Math.floor(S);case"lineHeight":case"tabStopWidth":if(S<1)throw new Error(`${C} cannot be less than 1, value: ${S}`);break;case"minimumContrastRatio":S=Math.max(1,Math.min(21,Math.round(10*S)/10));break;case"scrollback":if((S=Math.min(S,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${S}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(S<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${S}`);break;case"rows":case"cols":if(!S&&S!==0)throw new Error(`${C} must be numeric, value: ${S}`);break;case"windowsPty":S=S??{}}return S}}c.OptionsService=w},2660:function(u,c,h){var f=this&&this.__decorate||function(w,T,C,S){var b,y=arguments.length,m=y<3?T:S===null?S=Object.getOwnPropertyDescriptor(T,C):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(w,T,C,S);else for(var x=w.length-1;x>=0;x--)(b=w[x])&&(m=(y<3?b(m):y>3?b(T,C,m):b(T,C))||m);return y>3&&m&&Object.defineProperty(T,C,m),m},_=this&&this.__param||function(w,T){return function(C,S){T(C,S,w)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkService=void 0;const p=h(2585);let g=c.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const T=this._bufferService.buffer;if(w.id===void 0){const x=T.addMarker(T.ybase+T.y),A={data:w,id:this._nextId++,lines:[x]};return x.onDispose((()=>this._removeMarkerFromLink(A,x))),this._dataByLinkId.set(A.id,A),A.id}const C=w,S=this._getEntryIdKey(C),b=this._entriesWithId.get(S);if(b)return this.addLineToLink(b.id,T.ybase+T.y),b.id;const y=T.addMarker(T.ybase+T.y),m={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[y]};return y.onDispose((()=>this._removeMarkerFromLink(m,y))),this._entriesWithId.set(m.key,m),this._dataByLinkId.set(m.id,m),m.id}addLineToLink(w,T){const C=this._dataByLinkId.get(w);if(C&&C.lines.every((S=>S.line!==T))){const S=this._bufferService.buffer.addMarker(T);C.lines.push(S),S.onDispose((()=>this._removeMarkerFromLink(C,S)))}}getLinkData(w){return this._dataByLinkId.get(w)?.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,T){const C=w.lines.indexOf(T);C!==-1&&(w.lines.splice(C,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};c.OscLinkService=g=f([_(0,p.IBufferService)],g)},8343:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createDecorator=c.getServiceDependencies=c.serviceRegistry=void 0;const h="di$target",f="di$dependencies";c.serviceRegistry=new Map,c.getServiceDependencies=function(_){return _[f]||[]},c.createDecorator=function(_){if(c.serviceRegistry.has(_))return c.serviceRegistry.get(_);const p=function(g,w,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,S,b){S[h]===S?S[f].push({id:C,index:b}):(S[f]=[{id:C,index:b}],S[h]=S)})(p,g,T)};return p.toString=()=>_,c.serviceRegistry.set(_,p),p}},2585:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.IDecorationService=c.IUnicodeService=c.IOscLinkService=c.IOptionsService=c.ILogService=c.LogLevelEnum=c.IInstantiationService=c.ICharsetService=c.ICoreService=c.ICoreMouseService=c.IBufferService=void 0;const f=h(8343);var _;c.IBufferService=(0,f.createDecorator)("BufferService"),c.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),c.ICoreService=(0,f.createDecorator)("CoreService"),c.ICharsetService=(0,f.createDecorator)("CharsetService"),c.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.OFF=5]="OFF"})(_||(c.LogLevelEnum=_={})),c.ILogService=(0,f.createDecorator)("LogService"),c.IOptionsService=(0,f.createDecorator)("OptionsService"),c.IOscLinkService=(0,f.createDecorator)("OscLinkService"),c.IUnicodeService=(0,f.createDecorator)("UnicodeService"),c.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(u,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeService=void 0;const f=h(8460),_=h(225);class p{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,T,C=!1){return(16777215&w)<<3|(3&T)<<1|(C?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const w=new _.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let T=0,C=0;const S=w.length;for(let b=0;b<S;++b){let y=w.charCodeAt(b);if(55296<=y&&y<=56319){if(++b>=S)return T+this.wcwidth(y);const A=w.charCodeAt(b);56320<=A&&A<=57343?y=1024*(y-55296)+A-56320+65536:T+=this.wcwidth(A)}const m=this.charProperties(y,C);let x=p.extractWidth(m);p.extractShouldJoin(m)&&(x-=p.extractWidth(C)),T+=x,C=m}return T}charProperties(w,T){return this._activeProvider.charProperties(w,T)}}c.UnicodeService=p}},n={};function o(u){var c=n[u];if(c!==void 0)return c.exports;var h=n[u]={exports:{}};return t[u].call(h.exports,h,h.exports,o),h.exports}var l={};return(()=>{var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const c=o(9042),h=o(3236),f=o(844),_=o(5741),p=o(8285),g=o(7975),w=o(7090),T=["cols","rows"];class C extends f.Disposable{constructor(b){super(),this._core=this.register(new h.Terminal(b)),this._addonManager=this.register(new _.AddonManager),this._publicOptions={...this._core.options};const y=x=>this._core.options[x],m=(x,A)=>{this._checkReadonlyOptions(x),this._core.options[x]=A};for(const x in this._core.options){const A={get:y.bind(this,x),set:m.bind(this,x)};Object.defineProperty(this._publicOptions,x,A)}}_checkReadonlyOptions(b){if(T.includes(b))throw new Error(`Option "${b}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new p.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const b=this._core.coreService.decPrivateModes;let y="none";switch(this._core.coreMouseService.activeProtocol){case"X10":y="x10";break;case"VT200":y="vt200";break;case"DRAG":y="drag";break;case"ANY":y="any"}return{applicationCursorKeysMode:b.applicationCursorKeys,applicationKeypadMode:b.applicationKeypad,bracketedPasteMode:b.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:y,originMode:b.origin,reverseWraparoundMode:b.reverseWraparound,sendFocusMode:b.sendFocus,wraparoundMode:b.wraparound}}get options(){return this._publicOptions}set options(b){for(const y in b)this._publicOptions[y]=b[y]}blur(){this._core.blur()}focus(){this._core.focus()}input(b,y=!0){this._core.input(b,y)}resize(b,y){this._verifyIntegers(b,y),this._core.resize(b,y)}open(b){this._core.open(b)}attachCustomKeyEventHandler(b){this._core.attachCustomKeyEventHandler(b)}attachCustomWheelEventHandler(b){this._core.attachCustomWheelEventHandler(b)}registerLinkProvider(b){return this._core.registerLinkProvider(b)}registerCharacterJoiner(b){return this._checkProposedApi(),this._core.registerCharacterJoiner(b)}deregisterCharacterJoiner(b){this._checkProposedApi(),this._core.deregisterCharacterJoiner(b)}registerMarker(b=0){return this._verifyIntegers(b),this._core.registerMarker(b)}registerDecoration(b){return this._checkProposedApi(),this._verifyPositiveIntegers(b.x??0,b.width??0,b.height??0),this._core.registerDecoration(b)}hasSelection(){return this._core.hasSelection()}select(b,y,m){this._verifyIntegers(b,y,m),this._core.select(b,y,m)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(b,y){this._verifyIntegers(b,y),this._core.selectLines(b,y)}dispose(){super.dispose()}scrollLines(b){this._verifyIntegers(b),this._core.scrollLines(b)}scrollPages(b){this._verifyIntegers(b),this._core.scrollPages(b)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(b){this._verifyIntegers(b),this._core.scrollToLine(b)}clear(){this._core.clear()}write(b,y){this._core.write(b,y)}writeln(b,y){this._core.write(b),this._core.write(`\r
`,y)}paste(b){this._core.paste(b)}refresh(b,y){this._verifyIntegers(b,y),this._core.refresh(b,y)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(b){this._addonManager.loadAddon(this,b)}static get strings(){return c}_verifyIntegers(...b){for(const y of b)if(y===1/0||isNaN(y)||y%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...b){for(const y of b)if(y&&(y===1/0||isNaN(y)||y%1!=0||y<0))throw new Error("This API only accepts positive integers")}}u.Terminal=C})(),l})()))})(em)),em.exports}var Z7=Q7();const J7=({isOpen:i,onClose:e})=>{const t=q.useRef(null),n=q.useRef(null),o=q.useRef(null),[l,u]=q.useState(!1),[c,h]=q.useState(!1),[f,_]=q.useState(window.innerHeight*.5),[p,g]=q.useState(!1),w=q.useRef(null),T=cg(),C=Ji();q.useEffect(()=>{if(!i||t.current===null||n.current!==null)return;const m=new Z7.Terminal({theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",selectionBackground:"#264f78",black:"#000000",red:"#f44747",green:"#608b4e",yellow:"#ffcc02",blue:"#569cd6",magenta:"#c586c0",cyan:"#4ec9b0",white:"#d4d4d4",brightBlack:"#666666",brightRed:"#f44747",brightGreen:"#608b4e",brightYellow:"#ffcc02",brightBlue:"#569cd6",brightMagenta:"#c586c0",brightCyan:"#4ec9b0",brightWhite:"#d4d4d4"},fontSize:14,fontFamily:'Consolas, "Courier New", monospace',cursorBlink:!0,allowTransparency:!0,scrollback:1e3}),x=new X7.FitAddon;m.loadAddon(x),m.open(t.current),x.fit(),n.current=m,o.current=x;let A="",D=[],k=-1,R=0;const M=()=>{const W=C.pathname;return`\x1B[32mmath-club\x1B[0m:\x1B[34m${W==="/"?"~":W}\x1B[0m$ `};m.writeln("\x1B[36m Culture Festival 2025 - Math Club Terminal\x1B[0m"),m.writeln('\x1B[33mType "help" to see available commands\x1B[0m'),m.writeln(""),m.write(M());const U=W=>{const H=W.trim().toLowerCase(),J=H.split(" "),se=J[0];switch(W.trim()!==""&&D.push(W.trim()),k=-1,m.writeln(""),se){case"help":m.writeln("\x1B[33mAvailable commands:\x1B[0m"),m.writeln("  cd <path>    - Navigate to different pages"),m.writeln("  ls           - List available pages"),m.writeln("  pwd          - Show current path"),m.writeln("  clear        - Clear terminal screen"),m.writeln("  help         - Show this help message"),m.writeln("  exit         - Close terminal"),m.writeln("  whoami       - Show current user"),m.writeln("  date         - Show current date and time"),m.writeln("  uptime       - Show system uptime"),m.writeln("  tree         - Show directory structure"),m.writeln("  history      - Show command history"),m.writeln("  echo <text>  - Display text"),m.writeln("  fortune      - Display a random fortune"),m.writeln("  matrix       - Enter the Matrix"),m.writeln(""),m.writeln("\x1B[36mNavigation paths:\x1B[0m"),m.writeln("  /            - Home page"),m.writeln("  /contents    - Contents page"),m.writeln("  /contents/cryptanalysis   - Cryptanalysis page"),m.writeln("  /contents/dva             - DVA page"),m.writeln("  /contents/gacha           - Gacha page"),m.writeln("  /contents/heat-exhaustion - Heat Exhaustion page"),m.writeln("  /contents/melos           - Melos page"),m.writeln("  /contents/notebook        - Notebook page"),m.writeln("  /contents/programming     - Programming page"),m.writeln("  /contents/tech            - Tech page"),m.writeln("  /contents/white           - White page"),m.writeln("  /magazine    - Magazine page"),m.writeln("  /bulletin-board - Bulletin Board page"),m.writeln("  /map         - Map page");break;case"ls":{const V=C.pathname;V==="/"?(m.writeln("\x1B[34mcontents/\x1B[0m    \x1B[34mmagazine/\x1B[0m         \x1B[34mbulletin-board/\x1B[0m"),m.writeln("\x1B[34mmap/\x1B[0m")):V==="/contents"?(m.writeln("\x1B[32mcryptanalysis\x1B[0m    \x1B[32mdva\x1B[0m          \x1B[32mgacha\x1B[0m"),m.writeln("\x1B[32mheat-exhaustion\x1B[0m  \x1B[32mmelos\x1B[0m        \x1B[32mnotebook\x1B[0m"),m.writeln("\x1B[32mprogramming\x1B[0m      \x1B[32mtech\x1B[0m         \x1B[32mwhite\x1B[0m")):m.writeln("\x1B[31mNo files found\x1B[0m");break}case"pwd":{const V=C.pathname;m.writeln(V!==""?V:"/");break}case"clear":m.clear();break;case"cd":{const V=C.pathname;if(J.length<2)T("/");else{const $=J[1];let Q=$;if($==="..")if(V!=="/"){const O=V.split("/").filter(N=>N!=="");O.pop(),Q=O.length>0?`/${O.join("/")}`:"/"}else Q="/";else $==="~"||$==="/"?Q="/":$.startsWith("/")?Q=$:V==="/"?Q=`/${$}`:Q=`${V}/${$}`;["/","/contents","/contents/cryptanalysis","/contents/dva","/contents/gacha","/contents/heat-exhaustion","/contents/melos","/contents/notebook","/contents/programming","/contents/tech","/contents/white","/magazine","/bulletin-board","/map"].includes(Q)?(T(Q),m.writeln(`\x1B[32mNavigated to: ${Q}\x1B[0m`)):m.writeln(`\x1B[31mcd: ${Q}: No such file or directory\x1B[0m`)}break}case"whoami":m.writeln("\x1B[32mmathclub-visitor\x1B[0m");break;case"date":m.writeln(`\x1B[33m${new Date().toString()}\x1B[0m`);break;case"uptime":{const V=Math.floor(Date.now()/1e3),$=Math.floor(V/3600),Q=Math.floor(V%3600/60),I=V%60;m.writeln(`\x1B[32mup ${$}h ${Q}m ${I}s\x1B[0m`);break}case"cat":if(J.length<2)m.writeln("\x1B[31mcat: missing file operand\x1B[0m");else{const V=J[1];switch(V){case"readme.txt":m.writeln("\x1B[36m=== Culture Festival 2025 - Math Club ===\x1B[0m"),m.writeln("Welcome to our interactive exhibition!"),m.writeln("Explore various mathematical topics and enjoy!"),m.writeln("New features: Blog and Bulletin Board!");break;case"about.txt":m.writeln("\x1B[36m=== About Math Club ===\x1B[0m"),m.writeln("We are passionate about mathematics and"),m.writeln("love sharing our knowledge with everyone!"),m.writeln("Check out our blog for latest updates!");break;case"contact.txt":m.writeln("\x1B[36m=== Contact Information ===\x1B[0m"),m.writeln("Visit us at 3F Science Room 2"),m.writeln("Follow our updates on the bulletin board!");break;default:m.writeln(`\x1B[31mcat: ${V}: No such file or directory\x1B[0m`);break}}break;case"tree":m.writeln("\x1B[34m.\x1B[0m"),m.writeln(" \x1B[34mcontents/\x1B[0m"),m.writeln("    \x1B[32mcryptanalysis\x1B[0m"),m.writeln("    \x1B[32mdva\x1B[0m"),m.writeln("    \x1B[32mgacha\x1B[0m"),m.writeln("    \x1B[32mheat-exhaustion\x1B[0m"),m.writeln("    \x1B[32mmelos\x1B[0m"),m.writeln("    \x1B[32mnotebook\x1B[0m"),m.writeln("    \x1B[32mprogramming\x1B[0m"),m.writeln("    \x1B[32mtech\x1B[0m"),m.writeln("    \x1B[32mwhite\x1B[0m"),m.writeln(" \x1B[34mblog/\x1B[0m"),m.writeln(" \x1B[34mbulletin-board/\x1B[0m"),m.writeln(" \x1B[34mmap/\x1B[0m"),m.writeln(" \x1B[37mreadme.txt\x1B[0m"),m.writeln(" \x1B[37mabout.txt\x1B[0m"),m.writeln(" \x1B[37mcontact.txt\x1B[0m");break;case"history":m.writeln("\x1B[33mCommand history:\x1B[0m"),D.length===0?m.writeln("\x1B[37mNo commands in history\x1B[0m"):D.forEach((V,$)=>{m.writeln(`  ${$+1}  ${V}`)});break;case"echo":if(J.length<2)m.writeln("");else{const V=H.substring(5);m.writeln(`\x1B[37m${V}\x1B[0m`)}break;case"fortune":{const V=["The best way to learn mathematics is by doing mathematics. - Paul Halmos","Mathematics is not about numbers, equations, computations, or algorithms: it is about understanding. - William Paul Thurston","Pure mathematics is, in its way, the poetry of logical ideas. - Albert Einstein","Mathematics knows no races or geographic boundaries; for mathematics, the cultural world is one country. - David Hilbert","In mathematics you don't understand things. You just get used to them. - John von Neumann","Mathematics is the music of reason. - James Joseph Sylvester","The study of mathematics, like the Nile, begins in minuteness but ends in magnificence. - Charles Caleb Colton","Mathematics is the art of giving the same name to different things. - Henri Poincar"],$=V[Math.floor(Math.random()*V.length)];m.writeln(`\x1B[36m${$}\x1B[0m`);break}case"matrix":m.writeln("\x1B[32m"),m.writeln("Wake up, Math Club..."),m.writeln("The Matrix has you..."),m.writeln("Follow the white rabbit."),m.writeln("\x1B[0m"),setTimeout(()=>{for(let V=0;V<5;V++)setTimeout(()=>{const $="01";let Q="";for(let I=0;I<40;I++)Q+=$.charAt(Math.floor(Math.random()*$.length));m.writeln(`\x1B[32m${Q}\x1B[0m`)},V*100);setTimeout(()=>{m.writeln("\x1B[31mConnection terminated.\x1B[0m"),m.write(M())},600)},1e3);return;case"exit":e();return;case"":break;default:m.writeln(`\x1B[31m${se}: command not found\x1B[0m`);break}m.write(M())};m.onData(W=>{if(W==="\r")U(A),A="",R=0;else if(W===""){if(R>0){A=A.slice(0,R-1)+A.slice(R),R--;const H=A.length-R;if(m.write("\b \b"),H>0){m.write(A.slice(R)),m.write(" ");for(let J=0;J<=H;J++)m.write("\b")}}}else if(W==="")m.writeln("^C"),A="",R=0,m.write(M());else if(W==="\x1B[A"){if(D.length>0){k===-1?k=D.length-1:k>0&&k--;for(let H=0;H<R;H++)m.write("\b");for(let H=0;H<A.length;H++)m.write(" ");for(let H=0;H<A.length;H++)m.write("\b");A=D[k],R=A.length,m.write(A)}}else if(W==="\x1B[B"){if(D.length>0&&k!==-1){for(let H=0;H<R;H++)m.write("\b");for(let H=0;H<A.length;H++)m.write(" ");for(let H=0;H<A.length;H++)m.write("\b");k<D.length-1?(k++,A=D[k],R=A.length,m.write(A)):(k=-1,A="",R=0)}}else if(W==="\x1B[C")R<A.length&&(R++,m.write("\x1B[C"));else if(W==="\x1B[D")R>0&&(R--,m.write("\x1B[D"));else if(W>=" ")if(R===A.length)A+=W,R++,m.write(W);else{A=A.slice(0,R)+W+A.slice(R),R++,m.write(A.slice(R-1));const H=A.length-R;for(let J=0;J<H;J++)m.write("\b")}});const z=()=>{setTimeout(()=>{o.current!==null&&o.current!==void 0&&!l&&o.current.fit()},100)};return window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z),m.dispose(),n.current=null,o.current=null}},[i,T,e,l,c,C.pathname]),q.useEffect(()=>{i&&!l&&o.current!==null&&o.current!==void 0&&setTimeout(()=>{o.current?.fit()},300)},[i,l,c,f]),q.useEffect(()=>{const m=A=>{if(!p)return;let D;A instanceof TouchEvent?D=A.touches[0].clientY:D=A.clientY;const k=Math.max(200,Math.min(window.innerHeight-100,window.innerHeight-D));_(k)},x=()=>{g(!1)};return p?(document.addEventListener("mousemove",m,{passive:!1}),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("mouseup",x),document.addEventListener("touchend",x),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"):(document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m),document.removeEventListener("mouseup",x),document.removeEventListener("touchend",x),document.body.style.cursor="",document.body.style.userSelect=""}},[p]);const S=m=>{m.preventDefault(),g(!0)},b=()=>{u(!l),l||h(!1)},y=()=>{h(!c),c||u(!1)};return Y.jsx(CA,{children:i&&Y.jsxs(Yt.div,{className:`fixed z-50 border-t border-gray-600 bg-black/95 backdrop-blur-sm ${c?"top-0 right-0 bottom-0 left-0":"right-0 bottom-0 left-0"}`,initial:{y:"100%"},animate:{y:l?"calc(100% - 40px)":"0%"},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},style:{height:c?"100vh":l?"40px":`${f}px`},children:[!l&&!c&&Y.jsx("div",{ref:w,className:`absolute top-0 right-0 left-0 h-1 cursor-ns-resize transition-colors hover:bg-blue-500/50 ${p?"bg-blue-500":"bg-transparent"}`,onMouseDown:S,onTouchStart:S,role:"button",tabIndex:0,title:"Drag to resize terminal",style:{touchAction:"none"}}),Y.jsxs("div",{className:"flex items-center justify-between border-b border-gray-600 bg-gray-800 px-4 py-2",children:[Y.jsxs("div",{className:"flex items-center space-x-2",children:[Y.jsx(uD,{className:"h-4 w-4 text-green-400"}),Y.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Terminal"})]}),Y.jsxs("div",{className:"flex items-center space-x-2",children:[Y.jsx(Yt.button,{onClick:y,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-700 hover:text-white",whileHover:{scale:1.1},whileTap:{scale:.95},title:c?"Exit Fullscreen":"Fullscreen",children:Y.jsx(H7,{className:"h-4 w-4"})}),Y.jsx(Yt.button,{onClick:b,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-700 hover:text-white",whileHover:{scale:1.1},whileTap:{scale:.95},title:l?"Maximize":"Minimize",children:Y.jsx(V7,{className:"h-4 w-4"})}),Y.jsx(Yt.button,{onClick:e,className:"rounded p-1 text-gray-400 transition-colors hover:bg-red-600 hover:text-white",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Close Terminal",children:Y.jsx(hD,{className:"h-4 w-4"})})]})]}),!l&&Y.jsx("div",{ref:t,className:"h-full overflow-hidden p-2",style:{height:c?"calc(100vh - 40px)":`${f-40}px`}})]})})},eF=({menuOpen:i,toggleMenu:e,terminalOpen:t,toggleTerminal:n})=>{const o=q.useRef(null);return q.useEffect(()=>{const l=o.current;l!==null&&Sn.fromTo(l,{y:-100,opacity:0},{y:0,opacity:1,duration:1,ease:"back.out(1.7)"})},[]),Y.jsx(Yt.header,{ref:o,className:"border-neon-blue/20 shadow-neon-blue/10 sticky top-0 z-30 border-b bg-white/80 shadow-lg backdrop-blur-lg dark:bg-neutral-900/90",children:Y.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 py-1",children:[Y.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1 p-2 focus:outline-none",onClick:e,"aria-label":"",children:[Y.jsx("span",{className:`block h-0.5 w-6 bg-black transition-transform dark:bg-white ${i?"translate-y-1.5 rotate-45":""}`}),Y.jsx("span",{className:`block h-0.5 w-6 bg-black transition-opacity dark:bg-white ${i?"opacity-0":"opacity-100"}`}),Y.jsx("span",{className:`block h-0.5 w-6 bg-black transition-transform dark:bg-white ${i?"-translate-y-1.5 -rotate-45":""}`})]}),Y.jsxs(oa,{to:"/",className:"group relative flex items-center space-x-2 bg-clip-text text-2xl font-bold text-gray-900 transition-transform duration-300 hover:scale-105 dark:text-gray-100",children:[Y.jsx(o0,{className:"text-neon-blue dark:text-neon-yellow h-6 w-6 animate-pulse"}),Y.jsx("span",{children:""}),Y.jsx("div",{className:"from-neon-blue/20 to-neon-purple/20 absolute inset-0 -z-10 rounded-lg bg-gradient-to-r opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),Y.jsx("div",{className:"flex items-center space-x-2",children:Y.jsxs(Yt.button,{className:`relative rounded-lg p-3 transition-all duration-300 ${t?"from-neon-blue/30 to-neon-green/30 text-neon-blue shadow-neon-blue/20 ring-neon-blue/50 dark:text-neon-green bg-gradient-to-r shadow-lg ring-2":"hover:from-neon-blue/20 hover:to-neon-green/20 hover:text-neon-blue hover:shadow-neon-blue/10 bg-gray-200/70 text-gray-700 hover:bg-gradient-to-r hover:shadow-md dark:bg-gray-800/50 dark:text-gray-300"}`,onClick:n,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"",title:"Toggle Terminal",children:[Y.jsx(uD,{className:"h-6 w-6"}),t&&Y.jsx(Yt.div,{className:"from-neon-blue/20 to-neon-green/20 absolute -inset-1 rounded-lg bg-gradient-to-r blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),Y.jsx("div",{className:`absolute top-1 right-1 h-2 w-2 rounded-full transition-all duration-300 ${t?"bg-neon-green animate-pulse":"bg-gray-400 dark:bg-gray-600"}`})]})})]})})},tF=({menuOpen:i,toggleMenu:e})=>{const t=Ji(),n=q.useRef(null),{user:o,adminUser:l,signOut:u}=zB(),c=[{to:"/",label:"",icon:Y.jsx(O7,{className:"h-5 w-5"})},{to:"/contents",label:"",icon:Y.jsx(k7,{className:"h-5 w-5"})},{to:"/magazine",label:"",icon:Y.jsx(R7,{className:"h-5 w-5"})},{to:"/bulletin-board",label:"",icon:Y.jsx(F7,{className:"h-5 w-5"})},{to:"/map",label:"",icon:Y.jsx(N7,{className:"h-5 w-5"})}];return q.useEffect(()=>{const h=n.current;if(h!==null&&i){Sn.fromTo(h,{x:-300,opacity:0},{x:0,opacity:1,duration:.5,ease:"power3.out"});const f=h.querySelectorAll(".nav-item");Sn.fromTo(f,{x:-50,opacity:0},{x:0,opacity:1,duration:.3,stagger:.1,delay:.2})}},[i]),Y.jsx(CA,{children:i&&Y.jsxs(Y.Fragment,{children:[Y.jsx(Yt.div,{className:"fixed inset-0 z-60 bg-white/70 backdrop-blur-sm dark:bg-black/70",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),Y.jsxs(Yt.nav,{ref:n,className:"border-neon-blue/30 fixed top-0 bottom-0 left-0 z-80 w-80 border-r bg-gradient-to-br from-gray-100 via-white to-gray-200 shadow-2xl dark:from-gray-900 dark:via-black dark:to-gray-900",initial:{x:-320},animate:{x:0},exit:{x:-320},transition:{type:"spring",stiffness:300,damping:30},children:[Y.jsxs("div",{className:"flex h-full flex-col bg-white p-6 dark:bg-gray-900",children:[Y.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[Y.jsxs("div",{className:"flex items-center space-x-3",children:[Y.jsx(o0,{className:"text-neon-blue dark:text-neon-yellow h-8 w-8 animate-pulse"}),Y.jsx("h2",{className:"bg-clip-text text-2xl font-bold text-gray-900 dark:text-gray-100",children:""})]}),Y.jsx(Yt.button,{onClick:e,className:"rounded-lg p-2 transition-colors hover:bg-white/10",whileHover:{scale:1.1},whileTap:{scale:.95},children:Y.jsx(hD,{className:"h-6 w-6 text-gray-400"})})]}),Y.jsx("ul",{className:"flex-grow space-y-3",children:c.map(({to:h,label:f,icon:_})=>Y.jsx(Yt.li,{className:"nav-item",whileHover:{scale:1.02},whileTap:{scale:.98},children:Y.jsxs(oa,{to:h,className:`group hover:from-neon-blue/20 hover:to-neon-purple/20 relative flex items-center space-x-4 rounded-xl p-4 transition-all duration-300 hover:bg-gradient-to-r ${t.pathname===h?"text-neon-blue dark:text-neon-yellow":"text-gray-900 dark:text-gray-100"}`,onClick:e,children:[Y.jsx("div",{className:`rounded-lg p-2 ${t.pathname===h?"bg-neon-blue/30 text-neon-blue dark:bg-neon-yellow/30 dark:text-neon-yellow":"group-hover:bg-neon-blue/20 group-hover:text-neon-blue bg-gray-200 text-gray-500 dark:bg-gray-800 dark:text-gray-400"}`,children:_}),Y.jsx("span",{className:"font-medium",children:f}),Y.jsx(Zp,{className:`ml-auto h-4 w-4 transition-transform ${t.pathname===h?"text-neon-blue dark:text-neon-yellow":"group-hover:text-neon-blue text-gray-400 group-hover:translate-x-1 dark:text-gray-500"}`}),t.pathname===h&&Y.jsx(Yt.div,{className:"from-neon-blue/10 to-neon-purple/10 border-neon-blue/20 dark:from-neon-yellow/10 dark:to-neon-pink/10 absolute inset-0 rounded-xl border bg-gradient-to-r",layoutId:"activeTab",transition:{type:"spring",bounce:.2,duration:.6}})]})},h))}),Y.jsxs("div",{className:"mt-auto border-t border-gray-700 pt-6",children:[o!==null&&l!==null?Y.jsx("div",{className:"mb-4",children:Y.jsxs("div",{className:"rounded-lg bg-green-100 p-3 dark:bg-green-900/30",children:[Y.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[Y.jsx(Jw,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),Y.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:""})]}),Y.jsx("div",{className:"mb-3 text-xs text-green-600 dark:text-green-400",children:l.email}),Y.jsx("div",{className:"mb-3 space-y-2",children:Y.jsx(Yt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:Y.jsxs(oa,{to:"/cms",className:"group flex w-full items-center space-x-2 rounded-lg bg-white/10 p-2 text-green-700 transition-colors hover:bg-white/20 dark:bg-gray-800/50 dark:text-green-300 dark:hover:bg-gray-700/50",onClick:e,children:[Y.jsx(W7,{className:"h-4 w-4"}),Y.jsx("span",{className:"text-sm",children:"CMS"}),Y.jsx(Zp,{className:"ml-auto h-3 w-3 transition-transform group-hover:translate-x-1"})]})})}),Y.jsxs(Yt.button,{onClick:()=>{u(),e()},className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-red-100 px-3 py-2 text-red-700 transition-colors hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[Y.jsx(I7,{className:"h-4 w-4"}),Y.jsx("span",{className:"text-sm",children:""})]})]})}):Y.jsx("div",{className:"mb-4",children:Y.jsx(Yt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:Y.jsxs(oa,{to:"/admin-login",className:"group flex w-full items-center space-x-3 rounded-xl p-3 transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-500/20 hover:to-purple-500/20",onClick:e,children:[Y.jsx("div",{className:"rounded-lg bg-blue-100 p-2 text-blue-600 group-hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:group-hover:bg-blue-900/50",children:Y.jsx(Jw,{className:"h-4 w-4"})}),Y.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),Y.jsx(Zp,{className:"ml-auto h-4 w-4 text-gray-400 transition-transform group-hover:translate-x-1 group-hover:text-blue-600 dark:group-hover:text-blue-400"})]})})}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("p",{className:"mb-2 text-sm text-gray-400",children:"Culture Festival 2025"}),Y.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Y.jsx("div",{className:"bg-neon-green h-2 w-2 animate-pulse rounded-full"}),Y.jsx("span",{className:"text-xs text-gray-500",children:"LIVE"})]})]})]})]}),Y.jsx("div",{className:"from-neon-blue/10 to-neon-purple/10 dark:from-neon-yellow/10 dark:to-neon-pink/10 absolute top-20 right-4 h-24 w-24 rounded-full bg-gradient-to-br blur-xl"}),Y.jsx("div",{className:"from-neon-pink/10 to-neon-yellow/10 dark:from-neon-blue/10 dark:to-neon-green/10 absolute bottom-20 left-4 h-16 w-16 rounded-full bg-gradient-to-br blur-xl"})]})]})})},iF=()=>{const[i,e]=q.useState(!1),[t,n]=q.useState(!1),o=()=>e(h=>!h),l=()=>n(h=>!h),u=()=>n(!1),c=Ji();return q.useEffect(()=>{e(!1)},[c.pathname]),Y.jsxs("div",{className:"min-h-screen bg-white dark:bg-neutral-950",children:[Y.jsx(eF,{menuOpen:i,toggleMenu:o,terminalOpen:t,toggleTerminal:l}),Y.jsx(tF,{menuOpen:i,toggleMenu:o}),Y.jsx(Yt.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"relative",children:Y.jsx(RM,{})}),Y.jsx("footer",{className:"border-neon-blue/20 border-t bg-gray-100/90 backdrop-blur-lg dark:bg-black/80",children:Y.jsx("div",{className:"container mx-auto px-4 py-12",children:Y.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[Y.jsxs("div",{className:"text-center md:text-left",children:[Y.jsxs("div",{className:"mb-4 flex items-center justify-center space-x-2 md:justify-start",children:[Y.jsx(o0,{className:"h-6 w-6 text-amber-50"}),Y.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:""})]}),Y.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:""}),Y.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Mathematics Department Exhibition"})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Culture Festival 2025"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:": 202596-7"}),Y.jsxs("div",{className:"mt-3 flex items-center justify-center space-x-2",children:[Y.jsx("div",{className:"bg-neon-green h-2 w-2 rounded-full"}),Y.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"LIVE EVENT"})]})]})]}),Y.jsxs("div",{className:"text-center md:text-right",children:[Y.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:""}),Y.jsxs("div",{className:"space-y-1",children:[Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""})]})]})]})})}),Y.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[Y.jsx("div",{className:"bg-neon-blue/5 dark:bg-neon-yellow/10 absolute top-1/4 left-1/4 h-96 w-96 animate-pulse rounded-full blur-3xl"}),Y.jsx("div",{className:"bg-neon-purple/5 dark:bg-neon-pink/10 absolute right-1/4 bottom-1/4 h-96 w-96 animate-pulse rounded-full blur-3xl"})]}),Y.jsx(J7,{isOpen:t,onClose:u,onToggle:l})]})},nF=q.lazy(()=>sr(()=>import("./Home-DtesBsoQ.js"),__vite__mapDeps([0,1]))),sF=q.lazy(()=>sr(()=>import("./Map-Cxg-SayM.js"),[])),rF=q.lazy(()=>sr(()=>import("./BulletinBoard-BqH5HK6j.js"),__vite__mapDeps([2,3,4,5]))),oF=q.lazy(()=>sr(()=>import("./Magazine-fJEurSnw.js").then(i=>i.bC),__vite__mapDeps([6,3,5,7]))),aF=q.lazy(()=>sr(()=>import("./CMSSelection-In3anzon.js"),__vite__mapDeps([8,3]))),lF=q.lazy(()=>sr(()=>import("./AdminLogin-Dq5rrToZ.js"),__vite__mapDeps([9,4]))),cF=q.lazy(()=>sr(()=>import("./NotFound-Ba1SBuJg.js"),[])),uF=q.lazy(()=>sr(()=>import("./ContentsRoutes-zdUTLqqO.js"),__vite__mapDeps([10,1,11]))),hF=()=>Y.jsx(hO,{children:Y.jsxs(VB,{children:[Y.jsx(RL,{}),Y.jsx(q.Suspense,{fallback:Y.jsx(xL,{}),children:Y.jsx(DM,{children:Y.jsxs(vn,{path:"/",element:Y.jsx(iF,{}),children:[Y.jsx(vn,{index:!0,element:Y.jsx(nF,{})}),Y.jsx(vn,{path:"contents/*",element:Y.jsx(uF,{})}),Y.jsx(vn,{path:"magazine",element:Y.jsx(oF,{})}),Y.jsx(vn,{path:"bulletin-board",element:Y.jsx(rF,{})}),Y.jsx(vn,{path:"cms",element:Y.jsx(aF,{})}),Y.jsx(vn,{path:"admin-login",element:Y.jsx(lF,{})}),Y.jsx(vn,{path:"map",element:Y.jsx(sF,{})}),Y.jsx(vn,{path:"*",element:Y.jsx(cF,{})})]})})})]})});Nk.createRoot(document.getElementById("root")).render(Y.jsx(nE.StrictMode,{children:Y.jsx(JM,{children:Y.jsx(hF,{})})}));export{R7 as B,Zp as C,oa as L,F7 as M,DM as R,W7 as S,sr as _,cg as a,o0 as b,yi as c,vn as d,Jw as e,Np as f,Sn as g,iE as h,_F as i,Y as j,SF as k,vF as l,Yt as m,yF as n,gF as o,pF as p,mF as q,q as r,fP as s,dF as t,zB as u,fF as v};
//# sourceMappingURL=index-BYkX6PAe.js.map
