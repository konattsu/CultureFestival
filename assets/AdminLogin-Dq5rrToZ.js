import{c as o,r as a,u as v,a as N,s as S,j as e,m as t,e as g,f as E}from"./index-BYkX6PAe.js";import{U as _}from"./user-Ayc6N0bg.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],q=o("circle-alert",L);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C=o("eye-off",A);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M=o("eye",F);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],P=o("key",I),z=()=>{const[i,b]=a.useState(""),[n,p]=a.useState(""),[d,f]=a.useState(!1),[m,r]=a.useState(""),[l,h]=a.useState(!1),{signIn:j,user:c,adminUser:u,loading:x}=v(),y=N();a.useEffect(()=>{console.log("AdminLogin useEffect:",{user:c,adminUser:u,authLoading:x}),!x&&c!==null&&(u!==null?(console.log("管理者としてログイン成功、リダイレクト中..."),y("/bulletin-board")):(console.log("管理者権限なし、ログアウト中..."),r("管理者権限がありません。管理者のみログインできます。"),S(E)))},[c,u,x,y]);const k=async s=>{if(s.preventDefault(),i===""||n===""){r("メールアドレスとパスワードを入力してください");return}h(!0),r("");try{console.log("ログイン試行中..."),await j(i,n),console.log("signIn呼び出し完了")}catch(w){console.error("Login error:",w),r("ログインに失敗しました。メールアドレスとパスワードを確認してください。")}finally{h(!1)}};return e.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:e.jsx("div",{className:"flex min-h-[calc(100vh-80px)] items-center justify-center px-4 py-12",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(t.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:300},className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-blue-600 shadow-lg",children:e.jsx(g,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"管理者ログイン"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"掲示板管理のためのログインページです"})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl border border-gray-200 bg-white/80 p-8 shadow-xl backdrop-blur-lg dark:border-gray-700 dark:bg-gray-800/80",children:[e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[m!==""&&e.jsxs(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 rounded-lg bg-red-50 p-4 text-red-700 dark:bg-red-900/20 dark:text-red-400",children:[e.jsx(q,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:m})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"メールアドレス"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",value:i,onChange:s=>b(s.target.value),className:"block w-full rounded-lg border border-gray-300 bg-white/50 py-3 pr-3 pl-10 text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-gray-600 dark:bg-gray-700/50 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400",placeholder:"admin@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"パスワード"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(P,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",type:d?"text":"password",value:n,onChange:s=>p(s.target.value),className:"block w-full rounded-lg border border-gray-300 bg-white/50 py-3 pr-10 pl-10 text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-gray-600 dark:bg-gray-700/50 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:d?e.jsx(C,{className:"h-5 w-5"}):e.jsx(M,{className:"h-5 w-5"})})]})]}),e.jsx(t.button,{type:"submit",disabled:l,whileHover:{scale:l?1:1.02},whileTap:{scale:l?1:.98},className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-3 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-600 hover:to-blue-700 focus:ring-2 focus:ring-blue-500/50 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.jsx("span",{children:"ログイン中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx("span",{children:"管理者としてログイン"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["このページは管理者専用です。",e.jsx("br",{}),"一般ユーザーの方は掲示板で直接投稿できます。"]})})]}),e.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 h-32 w-32 animate-pulse rounded-full bg-blue-200/30 blur-xl dark:bg-blue-500/20"}),e.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-40 w-40 animate-pulse rounded-full bg-purple-200/30 blur-xl dark:bg-purple-500/20"})]})]})})})};export{z as default};
//# sourceMappingURL=AdminLogin-Dq5rrToZ.js.map
