{"version":3,"file":"CMSSelection-In3anzon.js","sources":["../../src/pages/CMSSelection.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { gsap } from \"gsap\";\nimport {\n  ArrowLeft,\n  BookOpen,\n  MessageSquare,\n  Settings,\n  ChevronRight,\n} from \"lucide-react\";\n\nimport { useAuth } from \"../context/AuthContext\";\n\nconst CMSSelection: React.FC = () => {\n  const { user, adminUser } = useAuth();\n  const navigate = useNavigate();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const headerRef = useRef<HTMLDivElement>(null);\n  const cardsRef = useRef<HTMLDivElement>(null);\n\n  // 管理者チェック\n  useEffect(() => {\n    if (user !== null && adminUser === null) {\n      void navigate(\"/admin-login\");\n    }\n  }, [user, adminUser, navigate]);\n\n  // GSAPアニメーション\n  useEffect(() => {\n    if (adminUser === null || adminUser === undefined) return;\n\n    const ctx = gsap.context(() => {\n      // ヘッダーアニメーション\n      gsap.fromTo(\n        headerRef.current,\n        { y: -50, opacity: 0 },\n        { y: 0, opacity: 1, duration: 0.8, ease: \"power3.out\" },\n      );\n\n      // カードアニメーション\n      gsap.fromTo(\n        \".cms-card\",\n        { y: 60, opacity: 0 },\n        {\n          y: 0,\n          opacity: 1,\n          duration: 0.6,\n          stagger: 0.15,\n          delay: 0.3,\n          ease: \"power2.out\",\n        },\n      );\n    }, containerRef);\n\n    return (): void => ctx.revert();\n  }, [adminUser]);\n\n  if (adminUser === null || adminUser === undefined) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900\">\n        <div className=\"text-center\">\n          <Settings className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-4 text-lg font-medium text-gray-900 dark:text-white\">\n            認証が必要です\n          </h3>\n          <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\n            管理者権限でログインしてください\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const cmsOptions = [\n    {\n      id: \"blog\",\n      title: \"ブログ管理\",\n      description: \"記事の作成・編集・公開管理\",\n      icon: BookOpen,\n      path: \"/blog-cms\",\n    },\n    {\n      id: \"bulletin\",\n      title: \"掲示板管理\",\n      description: \"投稿とコメントの管理\",\n      icon: MessageSquare,\n      path: \"/bulletin-cms\",\n    },\n  ];\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"min-h-screen bg-gray-50 dark:bg-gray-900\"\n    >\n      <div className=\"mx-auto max-w-6xl px-4 py-12\">\n        {/* Header */}\n        <div ref={headerRef} className=\"mb-12\">\n          <div className=\"mb-6\">\n            <button\n              onClick={() => navigate(\"/\")}\n              className=\"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              <span className=\"text-sm font-medium\">ホームに戻る</span>\n            </button>\n          </div>\n\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl font-light text-gray-900 dark:text-white\">\n              コンテンツ管理システム\n            </h1>\n            <p className=\"mt-4 text-lg text-gray-600 dark:text-gray-400\">\n              管理するコンテンツタイプを選択してください\n            </p>\n          </div>\n        </div>\n\n        {/* CMS Cards */}\n        <div ref={cardsRef} className=\"grid grid-cols-1 gap-8 md:grid-cols-2\">\n          {cmsOptions.map((option) => (\n            <div\n              key={option.id}\n              className=\"cms-card group cursor-pointer\"\n              onClick={() => navigate(option.path)}\n            >\n              <div className=\"h-full rounded-lg border border-gray-200 bg-white p-8 shadow-sm transition-all duration-200 hover:border-gray-300 hover:shadow-md dark:border-gray-700 dark:bg-gray-800 dark:hover:border-gray-600\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400\">\n                      <option.icon className=\"h-6 w-6\" />\n                    </div>\n                  </div>\n\n                  <div className=\"min-w-0 flex-1\">\n                    <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                      {option.title}\n                    </h3>\n                    <p className=\"mt-2 text-gray-600 dark:text-gray-400\">\n                      {option.description}\n                    </p>\n                  </div>\n\n                  <div className=\"flex-shrink-0\">\n                    <ChevronRight className=\"h-5 w-5 text-gray-400 transition-transform group-hover:translate-x-1\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Admin Info */}\n        <div className=\"mt-16 rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30\">\n              <div className=\"h-2 w-2 rounded-full bg-green-500\"></div>\n            </div>\n            <div>\n              <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                管理者として認証済み\n              </p>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                {adminUser.email}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CMSSelection;\n"],"names":["CMSSelection","user","adminUser","useAuth","navigate","useNavigate","containerRef","useRef","headerRef","cardsRef","useEffect","ctx","gsap","jsxs","jsx","Settings","cmsOptions","BookOpen","MessageSquare","ArrowLeft","option","ChevronRight"],"mappings":"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"}